"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[53368],{7653:(e,t,n)=>{n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(89379),i=n(96540),o=n(7653),r=n(89990),s=function(e,t){return i.createElement(r.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:o.A}))};const l=i.forwardRef(s)},15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>m});var a=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(n),d=i,m=c["".concat(l,".").concat(d)]||c[d]||g[d]||o;return n?a.createElement(m,r(r({ref:t},p),{},{components:n})):a.createElement(m,r({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,r[1]=s;for(var u=2;u<o;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},43655:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(96540),i=n(20053);const o="availabilityCard_P5od",r="managedIcon_AxXO",s="platform_wqXv",l="platformAvailable_Y8lN";var u=n(4732),p=n(89379);const c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var g=n(89990),d=function(e,t){return a.createElement(g.A,(0,p.A)((0,p.A)({},e),{},{ref:t,icon:c}))};const m=a.forwardRef(d);const h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var y=function(e,t){return a.createElement(g.A,(0,p.A)((0,p.A)({},e),{},{ref:t,icon:h}))};const b=a.forwardRef(y),f=({saasOnly:e,ossOnly:t})=>a.createElement("div",{className:(0,i.A)(o,"card")},a.createElement("strong",null,"Feature Availability"),a.createElement("div",null,a.createElement("span",{className:(0,i.A)(s,!e&&l)},"Self-Hosted DataHub ",e?a.createElement(u.A,null):a.createElement(m,null))),a.createElement("div",null,a.createElement(b,{className:r}),a.createElement("span",{className:(0,i.A)(s,!t&&l)},"DataHub Cloud ",t?a.createElement(u.A,null):a.createElement(m,null))))},81099:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>g});n(96540);var a=n(15680),i=n(43655);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const l={title:"SCIM Integration: Okta and DataHub",hide_title:!0,sidebar_label:"SCIM Integration: Okta and DataHub",slug:"/managed-datahub/configuring-identity-provisioning-with-okta",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/configuring-identity-provisioning-with-okta.md"},u=void 0,p={unversionedId:"docs/managed-datahub/configuring-identity-provisioning-with-okta",id:"docs/managed-datahub/configuring-identity-provisioning-with-okta",title:"SCIM Integration: Okta and DataHub",description:"SCIM Integration: Okta and DataHub",source:"@site/genDocs/docs/managed-datahub/configuring-identity-provisioning-with-okta.md",sourceDirName:"docs/managed-datahub",slug:"/managed-datahub/configuring-identity-provisioning-with-okta",permalink:"/docs/managed-datahub/configuring-identity-provisioning-with-okta",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/configuring-identity-provisioning-with-okta.md",tags:[],version:"current",frontMatter:{title:"SCIM Integration: Okta and DataHub",hide_title:!0,sidebar_label:"SCIM Integration: Okta and DataHub",slug:"/managed-datahub/configuring-identity-provisioning-with-okta",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/configuring-identity-provisioning-with-okta.md"},sidebar:"overviewSidebar",previous:{title:"SCIM Integration: MS Entra and DataHub",permalink:"/docs/managed-datahub/configuring-identity-provisioning-with-ms-entra"},next:{title:"Backup & Restore",permalink:"/docs/how/backup-datahub"}},c={},g=[{value:"SCIM Integration: Okta and DataHub",id:"scim-integration-okta-and-datahub",level:2},{value:"Overview",id:"overview",level:2},{value:"Why SCIM provisioning?",id:"why-scim-provisioning",level:3},{value:"Configuring SCIM provisioning",id:"configuring-scim-provisioning",level:2},{value:"1. Create an SWA app integration",id:"1-create-an-swa-app-integration",level:3},{value:"2. Configure SCIM",id:"2-configure-scim",level:3},{value:"3. Assign users &amp; groups to the app",id:"3-assign-users--groups-to-the-app",level:3},{value:"The provisioning setup is now complete",id:"the-provisioning-setup-is-now-complete",level:3},{value:"5. (Recommended): Configure push groups",id:"5-recommended-configure-push-groups",level:3}],d={toc:g},m="wrapper";function h(e){var{components:t}=e,n=s(e,["components"]);return(0,a.yg)(m,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){o(e,t,n[t])}))}return e}({},d,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"scim-integration-okta-and-datahub"},"SCIM Integration: Okta and DataHub"),(0,a.yg)(i.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,"This document covers the steps required to enable SCIM provisioning from Okta to DataHub."),(0,a.yg)("p",null,"This document assumes you are using OIDC for SSO with DataHub.\nSince Okta doesn't currently support SCIM with OIDC, you would need to create an additional SWA-app-integration to enable SCIM provisioning."),(0,a.yg)("p",null,"After completing this guide, Okta will automatically sync user and group changes from your SWA app integration to DataHub. This streamlines user and group provisioning in DataHub."),(0,a.yg)("p",null,"Important notes about roles and permissions:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"User and group roles from Okta are not transferred to DataHub"),(0,a.yg)("li",{parentName:"ul"},"When a group is first synced to DataHub, you can assign roles to that group directly in DataHub"),(0,a.yg)("li",{parentName:"ul"},"All users in the group will inherit the group's assigned roles"),(0,a.yg)("li",{parentName:"ul"},"You can also apply DataHub policies to groups, which will affect users based on their group membership")),(0,a.yg)("h3",{id:"why-scim-provisioning"},"Why SCIM provisioning?"),(0,a.yg)("p",null,"Let us look at an example of the flows enabled through SCIM provisioning."),(0,a.yg)("p",null,"Consider the following configuration in Okta"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"A group ",(0,a.yg)("inlineCode",{parentName:"li"},"governance-team")),(0,a.yg)("li",{parentName:"ul"},"And it has two members ",(0,a.yg)("inlineCode",{parentName:"li"},"john")," and ",(0,a.yg)("inlineCode",{parentName:"li"},"sid"))),(0,a.yg)("p",null,"Through SCIM provisioning, the following are enabled:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Okta can create a group ",(0,a.yg)("inlineCode",{parentName:"li"},"governance-team"),' in DataHub when you "Push Groups" in Okta.'),(0,a.yg)("li",{parentName:"ul"},"If the ",(0,a.yg)("inlineCode",{parentName:"li"},"governance-team")," group is assigned to the DataHub app in Okta, Okta will create the users ",(0,a.yg)("inlineCode",{parentName:"li"},"john")," and ",(0,a.yg)("inlineCode",{parentName:"li"},"sid")," in DataHub."),(0,a.yg)("li",{parentName:"ul"},"If you remove ",(0,a.yg)("inlineCode",{parentName:"li"},"john")," from group ",(0,a.yg)("inlineCode",{parentName:"li"},"governance-team")," then ",(0,a.yg)("inlineCode",{parentName:"li"},"john")," would automatically get deactivated in DataHub."),(0,a.yg)("li",{parentName:"ul"},"If you remove ",(0,a.yg)("inlineCode",{parentName:"li"},"sid")," from the DataHub app in Okta, then ",(0,a.yg)("inlineCode",{parentName:"li"},"sid")," would automatically get deactivated in DataHub.")),(0,a.yg)("p",null,"By default, groups and users synced from Okta to DataHub through this integration have no roles assigned. You can assign\nroles to these groups directly within DataHub."),(0,a.yg)("p",null,"Generally, any user assignment/unassignment to the app in Okta - directly or through groups - are automatically reflected in the DataHub application."),(0,a.yg)("h2",{id:"configuring-scim-provisioning"},"Configuring SCIM provisioning"),(0,a.yg)("h3",{id:"1-create-an-swa-app-integration"},"1. Create an SWA app integration"),(0,a.yg)("p",null,"a). Create a new ",(0,a.yg)("a",{parentName:"p",href:"https://help.okta.com/en-us/content/topics/apps/apps_app_integration_wizard_swa.htm"},"SWA app integration"),", called say, ",(0,a.yg)("inlineCode",{parentName:"p"},"DataHub-SCIM-SWA"),"."),(0,a.yg)("p",null,"Note: this app-integration will only be used for SCIM provisioning. You would continue to use the existing OIDC-app-integration for SSO."),(0,a.yg)("p",null,"b). In the ",(0,a.yg)("inlineCode",{parentName:"p"},"General")," tab of the ",(0,a.yg)("inlineCode",{parentName:"p"},"DataHub-SCIM-SWA")," application, check the ",(0,a.yg)("inlineCode",{parentName:"p"},"Enable SCIM provisioning")," option"),(0,a.yg)("p",null,(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/scim/okta/appSettingsEnableScim.png"})),(0,a.yg)("p",null,"You may also want to configure the other selections as shown in the above image, so that this application isn't visible to your users."),(0,a.yg)("h3",{id:"2-configure-scim"},"2. Configure SCIM"),(0,a.yg)("p",null,"a). Generate a personal access token from ",(0,a.yg)("a",{parentName:"p",href:"/docs/authentication/personal-access-tokens#creating-personal-access-tokens"},"DataHub"),"."),(0,a.yg)("p",null,"b). In the ",(0,a.yg)("inlineCode",{parentName:"p"},"Provisioning")," tab, configure the DataHub-SCIM endpoint as shown in the below image:"),(0,a.yg)("p",null,(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/scim/okta/scimConfig1.png"})),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Note"),": Set the value of the ",(0,a.yg)("inlineCode",{parentName:"p"},"Bearer")," field to the personal access token obtained in step (a) above."),(0,a.yg)("p",null,"c). Configure the ",(0,a.yg)("inlineCode",{parentName:"p"},"To App")," section as shown below:"),(0,a.yg)("p",null,(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/scim/okta/scimConfig2.png"})),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Note"),": We are not pushing passwords to DataHub over SCIM, since we are assuming SSO with OIDC as mentioned earlier."),(0,a.yg)("h3",{id:"3-assign-users--groups-to-the-app"},"3. Assign users & groups to the app"),(0,a.yg)("p",null,"Assign users and groups to the app from the ",(0,a.yg)("inlineCode",{parentName:"p"},"Assignments")," tab:"),(0,a.yg)("p",null,(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/scim/okta/assignUsersGroups.png"})),(0,a.yg)("h3",{id:"the-provisioning-setup-is-now-complete"},"The provisioning setup is now complete"),(0,a.yg)("p",null,"Once the above steps are completed, user assignments/unassignments to the DataHub-SCIM-SWA app in Okta will get reflected in DataHub automatically."),(0,a.yg)("blockquote",null,(0,a.yg)("h4",{parentName:"blockquote",id:"a-note-on-user-deletion"},"A note on user deletion"),(0,a.yg)("p",{parentName:"blockquote"},'Note that when users are unassigned or deactivated in Okta, the corresponding users in DataHub are also deactivated (marked "suspended").\nBut when a user is ',(0,a.yg)("em",{parentName:"p"},"deleted")," in Okta, the corresponding user in DataHub does ",(0,a.yg)("em",{parentName:"p"},"not")," get deleted.\nRefer the Okta documentation on ",(0,a.yg)("a",{parentName:"p",href:"https://developer.okta.com/docs/concepts/scim/#delete-deprovision"},"Delete (Deprovision)")," for more details.")),(0,a.yg)("h3",{id:"5-recommended-configure-push-groups"},"5. (Recommended): Configure push groups"),(0,a.yg)("p",null,"When groups are assigned to the app, Okta pushes the group-members as users to DataHub, but the group itself isn't pushed.\nTo push group information to DataHub, configure the ",(0,a.yg)("inlineCode",{parentName:"p"},"Push Groups")," tab accordingly as shown below:"),(0,a.yg)("p",null,(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/scim/okta/pushGroups.png"})),(0,a.yg)("p",null,"When you assign roles or policies to groups in DataHub, all users in those groups automatically inherit the same roles or policies\nRefer to the Okta ",(0,a.yg)("a",{parentName:"p",href:"https://help.okta.com/en-us/content/topics/users-groups-profiles/app-assignments-group-push.htm"},"Group Push")," documentation for more details."))}h.isMDXComponent=!0}}]);