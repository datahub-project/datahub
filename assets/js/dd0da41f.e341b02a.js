"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[58665],{15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>d});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),g=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=g(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=g(n),y=r,d=p["".concat(s,".").concat(y)]||p[y]||m[y]||i;return n?a.createElement(d,l(l({ref:t},u),{},{components:n})):a.createElement(d,l({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=y;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var g=2;g<i;g++)l[g]=n[g];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},99827:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>g,toc:()=>p});n(96540);var a=n(15680);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const o={title:"Agent Context Kit",slug:"/dev-guides/agent-context/agent-context",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/dev-guides/agent-context/agent-context.md"},s="Agent Context Kit",g={unversionedId:"docs/dev-guides/agent-context/agent-context",id:"docs/dev-guides/agent-context/agent-context",title:"Agent Context Kit",description:"\ud83d\udcda Navigation: LangChain Integration \u2192 | Snowflake Integration \u2192",source:"@site/genDocs/docs/dev-guides/agent-context/agent-context.md",sourceDirName:"docs/dev-guides/agent-context",slug:"/dev-guides/agent-context/agent-context",permalink:"/docs/dev-guides/agent-context/agent-context",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/dev-guides/agent-context/agent-context.md",tags:[],version:"current",frontMatter:{title:"Agent Context Kit",slug:"/dev-guides/agent-context/agent-context",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/dev-guides/agent-context/agent-context.md"},sidebar:"overviewSidebar",previous:{title:"Ask DataHub",permalink:"/docs/features/feature-guides/ask-datahub"},next:{title:"LangChain Integration",permalink:"/docs/dev-guides/agent-context/langchain"}},u={},p=[{value:"What Problem Does This Solve?",id:"what-problem-does-this-solve",level:2},{value:"Example Use Cases",id:"example-use-cases",level:3},{value:"Overview",id:"overview",level:2},{value:"Quick Start Guide",id:"quick-start-guide",level:3},{value:"Installation",id:"installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Simple Example",id:"simple-example",level:3},{value:"Key Concepts (Glossary)",id:"key-concepts-glossary",level:2},{value:"Agent Platforms",id:"agent-platforms",level:2},{value:"Available Tools",id:"available-tools",level:2},{value:"Search Tools",id:"search-tools",level:4},{value:"Entity Tools",id:"entity-tools",level:4},{value:"Lineage Tools",id:"lineage-tools",level:4},{value:"Query Tools",id:"query-tools",level:4},{value:"Mutation Tools",id:"mutation-tools",level:4},{value:"User Tools",id:"user-tools",level:4},{value:"MCP Server",id:"mcp-server",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Authentication Errors",id:"authentication-errors",level:3},{value:"Connection Errors",id:"connection-errors",level:3},{value:"Empty or Unexpected Results",id:"empty-or-unexpected-results",level:3},{value:"Import Errors",id:"import-errors",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Debugging Tips",id:"debugging-tips",level:3},{value:"Getting Help",id:"getting-help",level:3}],m={toc:p},y="wrapper";function d(e){var{components:t}=e,n=l(e,["components"]);return(0,a.yg)(y,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"agent-context-kit"},"Agent Context Kit"),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"\ud83d\udcda Navigation"),": ",(0,a.yg)("a",{parentName:"p",href:"/docs/dev-guides/agent-context/langchain"},"LangChain Integration \u2192")," | ",(0,a.yg)("a",{parentName:"p",href:"/docs/dev-guides/agent-context/snowflake"},"Snowflake Integration \u2192"))),(0,a.yg)("h2",{id:"what-problem-does-this-solve"},"What Problem Does This Solve?"),(0,a.yg)("p",null,"When building AI agents that answer questions about data, agents often face these challenges:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Hallucinate metadata"),": Generate table or column names that don't exist"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Lack context"),": Can't discover related datasets, lineage, or business definitions"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Missing ownership info"),": Don't know who owns what data or how to contact them"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"No quality signals"),": Can't distinguish certified datasets from deprecated ones")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Agent Context Kit solves this")," by giving AI agents real-time access to your DataHub metadata catalog, enabling them to provide accurate, contextual answers about your data ecosystem."),(0,a.yg)("h3",{id:"example-use-cases"},"Example Use Cases"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Data Discovery"),': "Show me all datasets owned by the analytics team"'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Schema Exploration"),': "What tables have a customer_id column?"'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Lineage Tracing"),': "Trace lineage from raw data to this dashboard"'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Documentation Search"),": \"Find the business definition of 'churn rate'\""),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Compliance Queries"),': "List all PII fields and their owners"')),(0,a.yg)("h2",{id:"overview"},"Overview"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"DataHub Agent Context")," provides a collection of tools and utilities for building AI agents that interact with DataHub metadata. This package contains MCP (Model Context Protocol) tools that enable AI agents to search, retrieve, and manipulate metadata in DataHub. These can be used directly to create an agent, or be included in an MCP server such as DataHub's open source MCP server."),(0,a.yg)("h3",{id:"quick-start-guide"},"Quick Start Guide"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"New to Agent Context?")," Start here with the basic example below"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Using LangChain?")," See the ",(0,a.yg)("a",{parentName:"li",href:"/docs/dev-guides/agent-context/langchain"},"LangChain integration guide")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Using Snowflake Intelligence?")," See the ",(0,a.yg)("a",{parentName:"li",href:"/docs/dev-guides/agent-context/snowflake"},"Snowflake integration guide"))),(0,a.yg)("h2",{id:"installation"},"Installation"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"pip install datahub-agent-context\n")),(0,a.yg)("h3",{id:"prerequisites"},"Prerequisites"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"DataHub instance (Cloud or self-hosted)"),(0,a.yg)("li",{parentName:"ul"},"Python 3.10 or higher"),(0,a.yg)("li",{parentName:"ul"},"DataHub personal access token (for authentication)")),(0,a.yg)("h2",{id:"basic-usage"},"Basic Usage"),(0,a.yg)("h3",{id:"simple-example"},"Simple Example"),(0,a.yg)("p",null,"These tools are designed to be used with an AI agent and have the responses passed directly to an LLM, so the return schema is a simple dict, but they can be used independently if desired."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk.main_client import DataHubClient\nfrom datahub_agent_context.context import DataHubContext\nfrom datahub_agent_context.mcp_tools.search import search\nfrom datahub_agent_context.mcp_tools.entities import get_entities\n\n# Initialize DataHub client from environment (or specify server/token)\nclient = DataHubClient.from_env()\n# Or: client = DataHubClient(server="http://localhost:8080", token="YOUR_TOKEN")\n\n# Use DataHubContext to set up the client for tool calls\nwith DataHubContext(client):\n    # Search for datasets\n    results = search(\n        query="user_data",\n        filters={"entity_type": ["dataset"]},\n        num_results=10\n    )\n\n    print(f"Found {len(results[\'searchResults\'])} datasets")\n    for result in results["searchResults"]:\n        print(f"- {result[\'entity\'][\'name\']} ({result[\'entity\'][\'urn\']})")\n\n    # Get detailed entity information\n    entity_urns = [result["entity"]["urn"] for result in results["searchResults"]]\n    entities = get_entities(urns=entity_urns)\n\n    print(f"\\nDetailed info for {len(entities[\'entities\'])} entities:")\n    for entity in entities["entities"]:\n        print(f"- {entity[\'urn\']}: {entity.get(\'properties\', {}).get(\'description\', \'No description\')}")\n')),(0,a.yg)("h2",{id:"key-concepts-glossary"},"Key Concepts (Glossary)"),(0,a.yg)("p",null,"Before using Agent Context Kit, familiarize yourself with these DataHub concepts:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Entity"),': A metadata object in DataHub (e.g., Dataset, Dashboard, Chart, User). Think of these as the "nouns" of your data ecosystem.'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"URN (Uniform Resource Name)"),": A unique identifier for an entity. Format: ",(0,a.yg)("inlineCode",{parentName:"li"},"urn:li:dataset:(urn:li:dataPlatform:mysql,mydb.users,PROD)"),". This is like a primary key for metadata."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"MCP (Model Context Protocol)"),": A standard protocol for connecting AI agents to external data sources. These tools implement MCP for DataHub."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Client"),": The underlying client used internally to query DataHub. For LangChain users, this is handled automatically by the builder.")),(0,a.yg)("h2",{id:"agent-platforms"},"Agent Platforms"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Platform"),(0,a.yg)("th",{parentName:"tr",align:null},"Status"),(0,a.yg)("th",{parentName:"tr",align:null},"Guide"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Custom"),(0,a.yg)("td",{parentName:"tr",align:null},"Launched"),(0,a.yg)("td",{parentName:"tr",align:null},"See below")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Langchain"),(0,a.yg)("td",{parentName:"tr",align:null},"Launched"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"/docs/dev-guides/agent-context/langchain"},"LangChain Guide"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Snowflake"),(0,a.yg)("td",{parentName:"tr",align:null},"Launched"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("a",{parentName:"td",href:"/docs/dev-guides/agent-context/snowflake"},"Snowflake Guide"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Google ADK"),(0,a.yg)("td",{parentName:"tr",align:null},"Coming Soon"),(0,a.yg)("td",{parentName:"tr",align:null},"-")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Crew AI"),(0,a.yg)("td",{parentName:"tr",align:null},"Coming Soon"),(0,a.yg)("td",{parentName:"tr",align:null},"-")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"OpenAI"),(0,a.yg)("td",{parentName:"tr",align:null},"Coming Soon"),(0,a.yg)("td",{parentName:"tr",align:null},"-")))),(0,a.yg)("h2",{id:"available-tools"},"Available Tools"),(0,a.yg)("h4",{id:"search-tools"},"Search Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"search(client, query, filters, num_results)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Finding entities by keyword across DataHub"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": List of matching entities with URNs, names, and descriptions"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'search(client, "customer", {"entity_type": ["dataset"]}, 10)')," to find datasets about customers"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Filters"),": Can filter by entity_type, platform, domain, tags, and more"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"search_documents(client, query, semantic_query, num_results)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Searching for documentation, business glossaries, or knowledge base articles"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": Document entities with titles and content"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'search_documents(client, "*", "data retention policy", 5)')," to find policy documents"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"grep_documents(client, pattern, num_results)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Searching for specific patterns or exact phrases in documentation"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": Documents containing the pattern with matched excerpts"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'grep_documents(client, "PII.*encrypted", 10)')," to find docs mentioning PII encryption")))),(0,a.yg)("h4",{id:"entity-tools"},"Entity Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"get_entities(client, urns)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Retrieving detailed metadata for specific entities you already know the URNs for"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": Full entity metadata including all aspects (schema, ownership, properties, etc.)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": After search, use this to get complete details about the found entities"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"list_schema_fields(client, urn, filters)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Exploring columns/fields in a dataset"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": List of fields with names, types, descriptions, and tags"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'list_schema_fields(client, dataset_urn, {"field_path": "customer_"})')," to find customer-related columns"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Filters"),": Can filter by field name patterns, data types, or tags")))),(0,a.yg)("h4",{id:"lineage-tools"},"Lineage Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"get_lineage(client, urn, direction, max_depth)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Understanding data flow and dependencies"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": Upstream (sources) or downstream (consumers) entities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'get_lineage(client, dashboard_urn, "UPSTREAM", 3)')," to trace data sources for a dashboard"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Direction"),': Use "UPSTREAM" for sources, "DOWNSTREAM" for consumers'))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"get_lineage_paths_between(client, source_urn, destination_urn)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Finding how data flows between two specific entities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": All paths connecting the entities with intermediate steps"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": Find how raw data flows to a specific dashboard")))),(0,a.yg)("h4",{id:"query-tools"},"Query Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("inlineCode",{parentName:"strong"},"get_dataset_queries(client, urn, column_name)")),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Finding SQL queries that use a dataset or specific column"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": List of queries with SQL text and metadata"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'get_dataset_queries(client, dataset_urn, "email")')," to see how the email column is used"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use cases"),": Understanding data usage patterns, finding query examples")))),(0,a.yg)("h4",{id:"mutation-tools"},"Mutation Tools"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Note"),": These tools modify metadata. Use with caution in production environments."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"add_tags(client, urn, tags)"))," / ",(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"remove_tags(client, urn, tags)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Categorizing or labeling entities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'add_tags(client, dataset_urn, ["PII", "Finance"])')," to mark sensitive data"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"update_description(client, urn, description)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Adding or updating documentation for entities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": Agents can auto-generate and update descriptions"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"set_domains(client, urn, domain_urns)"))," / ",(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"remove_domains(client, urn, domain_urns)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Organizing entities into business domains"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),': Assign datasets to "Marketing" or "Finance" domains'))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"add_owners(client, urn, owners)"))," / ",(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"remove_owners(client, urn, owners)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Assigning data ownership and accountability"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'add_owners(client, dataset_urn, [{"owner": user_urn, "type": "TECHNICAL_OWNER"}])')))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"add_glossary_terms(client, urn, term_urns)"))," / ",(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"remove_glossary_terms(client, urn, term_urns)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Linking entities to business glossary definitions"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),': Link a revenue column to the "Revenue" glossary term'))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"add_structured_properties(client, urn, properties)"))," / ",(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"remove_structured_properties(client, urn, properties)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Adding custom metadata fields to entities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),': Add "data_retention_days" or "compliance_tier" properties'))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("inlineCode",{parentName:"strong"},"save_document(document_type, title, content, urn, topics, related_documents, related_assets)"))),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Creating or updating standalone documents in DataHub's knowledge base (insights, decisions, FAQs, analysis, etc.)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Document types"),': "Insight", "Decision", "FAQ", "Analysis", "Summary", "Recommendation", "Note", "Context"'),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Parameters"),":",(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"document_type"),": Type of document (required)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"title"),": Document title (required)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"content"),": Full document content in markdown format (required)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"urn"),": URN of existing document to update (optional, creates new if not provided)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"topics"),": List of topic tags for categorization (optional)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"related_documents"),": URNs of related documents (optional)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"related_assets"),": URNs of related data assets like datasets or dashboards (optional)"))),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Example"),": ",(0,a.yg)("inlineCode",{parentName:"li"},'save_document("Insight", "High Null Rate in Customer Emails", "## Finding\\\\n\\\\n23% of customer records have null email...", topics=["data-quality", "customer-data"], related_assets=["urn:li:dataset:(urn:li:dataPlatform:snowflake,customers,PROD)"])')),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Important"),": Always confirm with user before saving. Documents are visible to all DataHub users."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Note"),": For updating descriptions on data assets (datasets, dashboards), use ",(0,a.yg)("inlineCode",{parentName:"li"},"update_description")," instead")))),(0,a.yg)("h4",{id:"user-tools"},"User Tools"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("inlineCode",{parentName:"strong"},"get_me(client)")),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use when"),": Getting information about the authenticated user"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Returns"),": User details including name, email, and roles"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Use cases"),": Personalization, permission checks, audit logging")))),(0,a.yg)("h2",{id:"mcp-server"},"MCP Server"),(0,a.yg)("p",null,"It is also possible to connect your agent or tool directly to the ",(0,a.yg)("strong",{parentName:"p"},"DataHub MCP Server"),": ",(0,a.yg)("a",{parentName:"p",href:"/docs/features/feature-guides/mcp"},"DataHub MCP Server")," with your chosen framework."),(0,a.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,a.yg)("h3",{id:"authentication-errors"},"Authentication Errors"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Problem"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"Unauthorized")," or ",(0,a.yg)("inlineCode",{parentName:"p"},"401")," errors when calling tools"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Verify your DataHub token is valid: ",(0,a.yg)("inlineCode",{parentName:"li"},"datahub check metadata-service")),(0,a.yg)("li",{parentName:"ul"},"Ensure the token has the required permissions (read access for search tools, write access for mutation tools)"),(0,a.yg)("li",{parentName:"ul"},"Check that the token hasn't expired")),(0,a.yg)("h3",{id:"connection-errors"},"Connection Errors"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Problem"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"Connection refused")," or timeout errors"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Verify DataHub server URL is correct and accessible"),(0,a.yg)("li",{parentName:"ul"},"Check network connectivity: ",(0,a.yg)("inlineCode",{parentName:"li"},"curl -I https://your-datahub-instance.com/api/gms/health")),(0,a.yg)("li",{parentName:"ul"},"Ensure firewall rules allow outbound connections to DataHub"),(0,a.yg)("li",{parentName:"ul"},"For self-hosted DataHub, verify the service is running")),(0,a.yg)("h3",{id:"empty-or-unexpected-results"},"Empty or Unexpected Results"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Problem"),": Search returns no results or missing expected entities"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Verify entities exist in DataHub UI first"),(0,a.yg)("li",{parentName:"ul"},"Check that your search query isn't too restrictive"),(0,a.yg)("li",{parentName:"ul"},"Try removing filters to broaden the search"),(0,a.yg)("li",{parentName:"ul"},"Ensure entity types are spelled correctly (case-sensitive): ",(0,a.yg)("inlineCode",{parentName:"li"},"dataset"),", not ",(0,a.yg)("inlineCode",{parentName:"li"},"Dataset")),(0,a.yg)("li",{parentName:"ul"},"For schema fields, verify the dataset URN is correct")),(0,a.yg)("h3",{id:"import-errors"},"Import Errors"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Problem"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"ModuleNotFoundError: No module named 'datahub_agent_context'")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Ensure package is installed: ",(0,a.yg)("inlineCode",{parentName:"li"},"pip install datahub-agent-context")),(0,a.yg)("li",{parentName:"ul"},"If using LangChain: ",(0,a.yg)("inlineCode",{parentName:"li"},"pip install datahub-agent-context[langchain]")),(0,a.yg)("li",{parentName:"ul"},"If using Snowflake: ",(0,a.yg)("inlineCode",{parentName:"li"},"pip install datahub-agent-context[snowflake]")),(0,a.yg)("li",{parentName:"ul"},"Verify you're using the correct Python environment")),(0,a.yg)("h3",{id:"rate-limiting"},"Rate Limiting"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Problem"),": ",(0,a.yg)("inlineCode",{parentName:"p"},"429 Too Many Requests")," errors"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Implement exponential backoff and retry logic"),(0,a.yg)("li",{parentName:"ul"},"Reduce the frequency of API calls"),(0,a.yg)("li",{parentName:"ul"},"For batch operations, use pagination instead of large single requests"),(0,a.yg)("li",{parentName:"ul"},"Contact DataHub admin to adjust rate limits if needed")),(0,a.yg)("h3",{id:"debugging-tips"},"Debugging Tips"),(0,a.yg)("p",null,"Enable debug logging to see detailed API calls:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},"import logging\nlogging.basicConfig(level=logging.DEBUG)\n\n# Your agent code here\n")),(0,a.yg)("p",null,"Check the DataHub server logs for more details on server-side errors."),(0,a.yg)("h3",{id:"getting-help"},"Getting Help"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Documentation"),": ",(0,a.yg)("a",{parentName:"li",href:"/"},"DataHub Docs")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Community Slack"),": ",(0,a.yg)("a",{parentName:"li",href:"https://datahub.com/slack/"},"Join DataHub Slack")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"GitHub Issues"),": ",(0,a.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/issues"},"Report bugs")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Email Support"),": For DataHub Cloud customers, contact ",(0,a.yg)("a",{parentName:"li",href:"mailto:support@acryl.io"},"support@acryl.io"))))}d.isMDXComponent=!0}}]);