"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[30389],{87715:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>g,default:()=>f,frontMatter:()=>p,metadata:()=>d,toc:()=>c});a(96540);var n=a(15680),i=a(53720),l=a(5400);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const p={sidebar_position:19,title:"Dataplex",slug:"/generated/ingestion/sources/dataplex",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/dataplex.md"},g="Dataplex",d={unversionedId:"docs/generated/ingestion/sources/dataplex",id:"docs/generated/ingestion/sources/dataplex",title:"Dataplex",description:"Incubating",source:"@site/genDocs/docs/generated/ingestion/sources/dataplex.md",sourceDirName:"docs/generated/ingestion/sources",slug:"/generated/ingestion/sources/dataplex",permalink:"/docs/generated/ingestion/sources/dataplex",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/dataplex.md",tags:[],version:"current",sidebarPosition:19,frontMatter:{sidebar_position:19,title:"Dataplex",slug:"/generated/ingestion/sources/dataplex",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/dataplex.md"},sidebar:"overviewSidebar",previous:{title:"DataHubGc",permalink:"/docs/generated/ingestion/sources/datahubgc"},next:{title:"dbt",permalink:"/docs/generated/ingestion/sources/dbt"}},m={},c=[{value:"Important Capabilities",id:"important-capabilities",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Authentication",id:"authentication",level:4},{value:"Create a service account and assign roles",id:"create-a-service-account-and-assign-roles",level:4},{value:"Permissions",id:"permissions",level:4},{value:"Integration Details",id:"integration-details",level:3},{value:"Platform Alignment",id:"platform-alignment",level:4},{value:"Concept Mapping",id:"concept-mapping",level:4},{value:"API Selection Guide",id:"api-selection-guide",level:3},{value:"Filtering Configuration",id:"filtering-configuration",level:3},{value:"Lineage",id:"lineage",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Lineage Extraction Issues",id:"lineage-extraction-issues",level:4},{value:"CLI based Ingestion",id:"cli-based-ingestion",level:3},{value:"Starter Recipe",id:"starter-recipe",level:3},{value:"Config Details",id:"config-details",level:3},{value:"Code Coordinates",id:"code-coordinates",level:3}],y={toc:c},u="wrapper";function f(e){var{components:t}=e,a=o(e,["components"]);return(0,n.yg)(u,s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},y,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"dataplex"},"Dataplex"),(0,n.yg)("p",null,(0,n.yg)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-incubating-blue",alt:"Incubating"})),(0,n.yg)("h3",{id:"important-capabilities"},"Important Capabilities"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Capability"),(0,n.yg)("th",{parentName:"tr",align:null},"Status"),(0,n.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Asset Containers"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Enabled by default.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/metadata-ingestion/docs/dev_guides/stateful#stale-entity-removal"},"Detect Deleted Entities")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Enabled by default via stateful ingestion.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Schema Metadata"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Enabled by default, can be disabled via configuration ",(0,n.yg)("inlineCode",{parentName:"td"},"include_schema"),".")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Table-Level Lineage"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Optionally enabled via configuration ",(0,n.yg)("inlineCode",{parentName:"td"},"include_lineage"),".")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Test Connection"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Enabled by default.")))),(0,n.yg)("p",null,"Source to ingest metadata from Google Dataplex Universal Catalog."),(0,n.yg)("admonition",{type:"caution"},(0,n.yg)("p",{parentName:"admonition"},"The Dataplex connector will overwrite metadata from other Google Cloud source connectors (BigQuery, GCS, etc.) if they extract the same entities. If you're running multiple Google Cloud connectors, be aware that the last connector to run will determine the final metadata state for overlapping entities.")),(0,n.yg)("h3",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("p",null,"Please refer to the ",(0,n.yg)("a",{parentName:"p",href:"https://cloud.google.com/dataplex/docs"},"Dataplex documentation")," for basic information on Google Dataplex."),(0,n.yg)("h4",{id:"authentication"},"Authentication"),(0,n.yg)("p",null,"Google Cloud uses Application Default Credentials (ADC) for authentication. Refer to the ",(0,n.yg)("a",{parentName:"p",href:"https://cloud.google.com/docs/authentication/provide-credentials-adc"},"GCP documentation")," to set up ADC based on your environment. If you prefer to use a service account then use the following instructions."),(0,n.yg)("h4",{id:"create-a-service-account-and-assign-roles"},"Create a service account and assign roles"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Setup a ServiceAccount as per ",(0,n.yg)("a",{parentName:"p",href:"https://cloud.google.com/iam/docs/creating-managing-service-accounts#iam-service-accounts-create-console"},"GCP docs")," and assign the previously mentioned roles to this service account.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Download a service account JSON keyfile."),(0,n.yg)("p",{parentName:"li"},"Example credential file:"),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "service_account",\n  "project_id": "project-id-1234567",\n  "private_key_id": "d0121d0000882411234e11166c6aaa23ed5d74e0",\n  "private_key": "-----BEGIN PRIVATE KEY-----\\nMIIyourkey\\n-----END PRIVATE KEY-----",\n  "client_email": "test@suppproject-id-1234567.iam.gserviceaccount.com",\n  "client_id": "113545814931671546333",\n  "auth_uri": "https://accounts.google.com/o/oauth2/auth",\n  "token_uri": "https://oauth2.googleapis.com/token",\n  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",\n  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/test%suppproject-id-1234567.iam.gserviceaccount.com"\n}\n'))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"To provide credentials to the source, you can either:"),(0,n.yg)("p",{parentName:"li"},"Set an environment variable:"),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-sh"},'$ export GOOGLE_APPLICATION_CREDENTIALS="/path/to/keyfile.json"\n')),(0,n.yg)("p",{parentName:"li"},(0,n.yg)("em",{parentName:"p"},"or")),(0,n.yg)("p",{parentName:"li"},"Set credential config in your source based on the credential json file. For example:"),(0,n.yg)("pre",{parentName:"li"},(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'credential:\n  project_id: "project-id-1234567"\n  private_key_id: "d0121d0000882411234e11166c6aaa23ed5d74e0"\n  private_key: "-----BEGIN PRIVATE KEY-----\\nMIIyourkey\\n-----END PRIVATE KEY-----\\n"\n  client_email: "test@suppproject-id-1234567.iam.gserviceaccount.com"\n  client_id: "123456678890"\n')))),(0,n.yg)("h4",{id:"permissions"},"Permissions"),(0,n.yg)("p",null,"Grant the following permissions to the Service Account on every project where you would like to extract metadata from."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"For Universal Catalog Entries API")," (default, ",(0,n.yg)("inlineCode",{parentName:"p"},"include_entries: true"),"):"),(0,n.yg)("p",null,"Default GCP Role: ",(0,n.yg)("a",{parentName:"p",href:"https://cloud.google.com/dataplex/docs/iam-roles#dataplex.catalogViewer"},"roles/dataplex.catalogViewer")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Permission"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entryGroups.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Retrieve specific entry group details")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entryGroups.list")),(0,n.yg)("td",{parentName:"tr",align:null},"View all entry groups in a location")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entries.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Access entry metadata and details")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entries.getData")),(0,n.yg)("td",{parentName:"tr",align:null},"View data aspects within entries")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entries.list")),(0,n.yg)("td",{parentName:"tr",align:null},"Enumerate entries within groups")))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"For Lakes/Zones Entities API")," (optional, ",(0,n.yg)("inlineCode",{parentName:"p"},"include_entities: true"),"):"),(0,n.yg)("p",null,"Default GCP Role: ",(0,n.yg)("a",{parentName:"p",href:"https://cloud.google.com/dataplex/docs/iam-roles#dataplex.viewer"},"roles/dataplex.viewer")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Permission"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.lakes.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view details of a specific lake")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.lakes.list")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view and list all lakes in a project")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.zones.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view details of a specific zone")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.zones.list")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view and list all zones in a lake")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.assets.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view details of a specific asset")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.assets.list")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view and list all assets in a zone")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entities.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view details of a specific entity")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"dataplex.entities.list")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view and list all entities in a zone")))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"For lineage extraction")," (optional, ",(0,n.yg)("inlineCode",{parentName:"p"},"include_lineage: true"),"):"),(0,n.yg)("p",null,"Default GCP Role: ",(0,n.yg)("a",{parentName:"p",href:"https://docs.cloud.google.com/iam/docs/roles-permissions/datalineage#datalineage.viewer"},"roles/datalineage.viewer")),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Permission"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"datalineage.links.get")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to view lineage links")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"datalineage.links.search")),(0,n.yg)("td",{parentName:"tr",align:null},"Allows a user to search for lineage links")))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Note:")," If using both APIs, grant both sets of permissions. Most users only need ",(0,n.yg)("inlineCode",{parentName:"p"},"roles/dataplex.catalogViewer")," for Entries API access."),(0,n.yg)("h3",{id:"integration-details"},"Integration Details"),(0,n.yg)("p",null,"The Dataplex connector extracts metadata from Google Dataplex using two different APIs:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Universal Catalog Entries API")," (Primary, default enabled): Extracts entries from system-managed entry groups for Google Cloud services. This is the recommended approach for discovering resources across your GCP organization. Supported services include:"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"BigQuery"),": datasets, tables, models, routines, connections, and linked datasets"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Cloud SQL"),": instances"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"AlloyDB"),": instances, databases, schemas, tables, and views"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Spanner"),": instances, databases, and tables"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Pub/Sub"),": topics and subscriptions"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Cloud Storage"),": buckets"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Bigtable"),": instances, clusters, and tables"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Vertex AI"),": models, datasets, and feature stores"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dataform"),": repositories and workflows"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dataproc Metastore"),": services and databases"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Lakes/Zones Entities API")," (Optional, default disabled): Extracts entities from Dataplex lakes and zones. Use this if you are using the legacy Data Catalog and need lake/zone information not available in the Entries API. Generally, you should use one or the other unless you have non-overlapping objects across the two APIs. See ",(0,n.yg)("a",{parentName:"p",href:"#api-selection-guide"},"API Selection Guide")," below for detailed guidance on when to use each API as using both APIs can cause loss of custom properties."))),(0,n.yg)("h4",{id:"platform-alignment"},"Platform Alignment"),(0,n.yg)("p",null,"Datasets discovered by Dataplex use the same URNs as native connectors (e.g., ",(0,n.yg)("inlineCode",{parentName:"p"},"bigquery"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"gcs"),"). This means:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"No Duplication"),": Dataplex and native BigQuery/GCS connectors can run together - entities discovered by both will merge"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Native Containers"),": BigQuery tables appear in their native dataset containers"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Unified View"),": Users see a single view of all datasets regardless of discovery method")),(0,n.yg)("h4",{id:"concept-mapping"},"Concept Mapping"),(0,n.yg)("p",null,"This ingestion source maps the following Dataplex Concepts to DataHub Concepts:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Dataplex Concept"),(0,n.yg)("th",{parentName:"tr",align:"left"},"DataHub Concept"),(0,n.yg)("th",{parentName:"tr",align:"left"},"Notes"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},"Entry (Universal Catalog)"),(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},(0,n.yg)("inlineCode",{parentName:"a"},"Dataset"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"From Universal Catalog. Uses source platform URNs (e.g., ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery"),", ",(0,n.yg)("inlineCode",{parentName:"td"},"gcs"),").")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},"Entity (Lakes/Zones)"),(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset"},(0,n.yg)("inlineCode",{parentName:"a"},"Dataset"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"From lakes/zones. Uses source platform URNs (e.g., ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery"),", ",(0,n.yg)("inlineCode",{parentName:"td"},"gcs"),").")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},"BigQuery Project/Dataset"),(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/container"},(0,n.yg)("inlineCode",{parentName:"a"},"Container"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Created as containers to align with native BigQuery connector.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},"Lake/Zone/Asset"),(0,n.yg)("td",{parentName:"tr",align:"left"},"Custom Properties"),(0,n.yg)("td",{parentName:"tr",align:"left"},"Preserved as custom properties on datasets for traceability.")))),(0,n.yg)("h3",{id:"api-selection-guide"},"API Selection Guide"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Entries API")," (default, ",(0,n.yg)("inlineCode",{parentName:"p"},"include_entries: true"),"): Discovers Google Cloud resources from Universal Catalog. ",(0,n.yg)("strong",{parentName:"p"},"Recommended for most users.")),(0,n.yg)("p",null,"Custom properties added: ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_entry_id"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_entry_group"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_fully_qualified_name")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"To access system-managed entry groups like ",(0,n.yg)("inlineCode",{parentName:"p"},"@bigquery"),", use multi-region locations (",(0,n.yg)("inlineCode",{parentName:"p"},"us"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"eu"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"asia"),") via the ",(0,n.yg)("inlineCode",{parentName:"p"},"entries_location")," config parameter. Regional locations (",(0,n.yg)("inlineCode",{parentName:"p"},"us-central1"),", etc.) only contain placeholder entries.")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Entities API")," (",(0,n.yg)("inlineCode",{parentName:"p"},"include_entities: true"),"): Extracts lake/zone organizational context. Use only if you need Dataplex hierarchy metadata."),(0,n.yg)("p",null,"Custom properties added: ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_lake"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_zone"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_zone_type"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"dataplex_entity_id"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"data_path"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"system"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"format")),(0,n.yg)("admonition",{title:"Using Both APIs",type:"caution"},(0,n.yg)("p",{parentName:"admonition"},"When both APIs are enabled and discover the same table, the Entries API metadata will overwrite Entities API metadata, losing lake/zone custom properties. Only enable both if working with non-overlapping datasets.")),(0,n.yg)("h3",{id:"filtering-configuration"},"Filtering Configuration"),(0,n.yg)("p",null,"Filter which datasets to ingest using regex patterns with allow/deny lists:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Example:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: dataplex\n  config:\n    project_ids:\n      - "my-gcp-project"\n\n    filter_config:\n      entries:\n        dataset_pattern:\n          allow:\n            - "production_.*" # Only production datasets\n          deny:\n            - ".*_test" # Exclude test datasets\n            - ".*_temp" # Exclude temporary datasets\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Advanced Filtering:")),(0,n.yg)("p",null,"When using the Entities API (",(0,n.yg)("inlineCode",{parentName:"p"},"include_entities: true"),"), you can also filter by lakes and zones:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"filter_config.entities.lake_pattern"),": Filter which lakes to process"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"filter_config.entities.zone_pattern"),": Filter which zones to process"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"filter_config.entities.dataset_pattern"),": Filter entity IDs (tables/filesets)")),(0,n.yg)("p",null,"Filters are nested under ",(0,n.yg)("inlineCode",{parentName:"p"},"filter_config.entries")," and ",(0,n.yg)("inlineCode",{parentName:"p"},"filter_config.entities")," to separate Entries API and Entities API filtering."),(0,n.yg)("h3",{id:"lineage"},"Lineage"),(0,n.yg)("p",null,"When ",(0,n.yg)("inlineCode",{parentName:"p"},"include_lineage")," is enabled and proper permissions are granted, the connector extracts ",(0,n.yg)("strong",{parentName:"p"},"table-level lineage")," using the Dataplex Lineage API. Dataplex automatically tracks lineage from these Google Cloud systems:"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Supported Systems:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"BigQuery"),": DDL (CREATE TABLE, CREATE TABLE AS SELECT, views, materialized views) and DML (SELECT, INSERT, MERGE, UPDATE, DELETE) operations"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Cloud Data Fusion"),": Pipeline executions"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Cloud Composer"),": Workflow orchestration"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dataflow"),": Streaming and batch jobs"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dataproc"),": Apache Spark and Apache Hive jobs (including Dataproc Serverless)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Vertex AI"),": Models, datasets, feature store views, and feature groups")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Not Supported:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Column-level lineage"),": The connector extracts only table-level lineage (column-level lineage is available in Dataplex but not exposed through this connector)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Custom sources"),": Only Google Cloud systems with automatic lineage tracking are supported"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"BigQuery Data Transfer Service"),": Recurring loads are not automatically tracked")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Lineage Limitations:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Lineage data is retained for 30 days in Dataplex"),(0,n.yg)("li",{parentName:"ul"},"Lineage may take up to 24 hours to appear after job completion"),(0,n.yg)("li",{parentName:"ul"},"Cross-region lineage is not supported by Dataplex"),(0,n.yg)("li",{parentName:"ul"},"Lineage is only available for entities with active lineage tracking enabled")),(0,n.yg)("p",null,"For more details, see ",(0,n.yg)("a",{parentName:"p",href:"https://docs.cloud.google.com/dataplex/docs/about-data-lineage"},"Dataplex Lineage Documentation"),"."),(0,n.yg)("h3",{id:"configuration-options"},"Configuration Options"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Metadata Extraction:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"include_schema"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"true"),"): Extract column metadata and types"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"include_lineage"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"true"),"): Extract table-level lineage (automatically retries transient errors)")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Performance Tuning:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"batch_size"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"1000"),"): Entities per batch for memory optimization. Set to ",(0,n.yg)("inlineCode",{parentName:"li"},"None")," to disable batching (small deployments only)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"max_workers"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"10"),"): Parallel workers for entity extraction")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Lineage Retry Settings")," (optional):"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"lineage_max_retries"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"3"),", range: ",(0,n.yg)("inlineCode",{parentName:"li"},"1-10"),"): Retry attempts for transient errors"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"strong"},"lineage_retry_backoff_multiplier"))," (default: ",(0,n.yg)("inlineCode",{parentName:"li"},"1.0"),", range: ",(0,n.yg)("inlineCode",{parentName:"li"},"0.1-10.0"),"): Backoff delay multiplier")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Example Configuration:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: dataplex\n  config:\n    project_ids:\n      - "my-gcp-project"\n\n    # Location for lakes/zones/entities (if using include_entities)\n    location: "us-central1"\n\n    # Location for entries (Universal Catalog) - defaults to "us"\n    # Must be multi-region (us, eu, asia) for system entry groups like @bigquery\n    entries_location: "us" # Default value, can be omitted\n\n    # API selection\n    include_entries: true # Enable Universal Catalog entries (default: true)\n    include_entities: false # Enable lakes/zones entities (default: false)\n\n    # Metadata extraction settings\n    include_schema: true # Enable schema metadata extraction (default: true)\n    include_lineage: true # Enable lineage extraction with automatic retries\n\n    # Lineage retry settings (optional, defaults shown)\n    lineage_max_retries: 3 # Max retry attempts (range: 1-10)\n    lineage_retry_backoff_multiplier: 1.0 # Exponential backoff multiplier (range: 0.1-10.0)\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Advanced Configuration for Large Deployments:")),(0,n.yg)("p",null,"For deployments with thousands of entities, memory optimization and throughput are critical. The connector uses batched emission to keep memory bounded:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: dataplex\n  config:\n    project_ids:\n      - "my-gcp-project"\n    location: "us-central1"\n    entries_location: "us"\n\n    # API selection\n    include_entries: true\n    include_entities: false\n\n    # Performance tuning\n    max_workers: 10 # Parallelize entity extraction across zones\n    batch_size: 1000 # Process and emit 1000 entities at a time to optimize memory usage\n')),(0,n.yg)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,n.yg)("h4",{id:"lineage-extraction-issues"},"Lineage Extraction Issues"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Automatic Retry Behavior:")),(0,n.yg)("p",null,"The connector automatically retries transient errors when extracting lineage:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Retried errors")," (with exponential backoff): Timeouts (DeadlineExceeded), rate limiting (HTTP 429), service issues (HTTP 503, 500)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Non-retried errors")," (logs warning and continues): Permission denied (HTTP 403), not found (HTTP 404), invalid argument (HTTP 400)")),(0,n.yg)("p",null,"After exhausting retries, the connector logs a warning and continues processing other entities. You'll still get metadata even if lineage extraction fails for some entities."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Common Issues:")),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Regional restrictions"),": Lineage API requires multi-region location (",(0,n.yg)("inlineCode",{parentName:"li"},"us"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"eu"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"asia"),") rather than specific regions (",(0,n.yg)("inlineCode",{parentName:"li"},"us-central1"),"). The connector automatically converts your ",(0,n.yg)("inlineCode",{parentName:"li"},"location")," config."),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Missing permissions"),": Ensure service account has ",(0,n.yg)("inlineCode",{parentName:"li"},"roles/datalineage.viewer")," role on all projects."),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"No lineage data"),": Some entities may not have lineage if they weren't created through supported systems (BigQuery DDL/DML, Cloud Data Fusion, etc.)."),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Rate limiting"),": If you encounter persistent rate limiting, increase ",(0,n.yg)("inlineCode",{parentName:"li"},"lineage_retry_backoff_multiplier")," to add more delay between retries, or decrease ",(0,n.yg)("inlineCode",{parentName:"li"},"lineage_max_retries")," if you prefer faster failure.")),(0,n.yg)("h3",{id:"cli-based-ingestion"},"CLI based Ingestion"),(0,n.yg)("h3",{id:"starter-recipe"},"Starter Recipe"),(0,n.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,n.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,n.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: dataplex\n  config:\n    # Required: GCP project ID(s) where Dataplex resources are located\n    project_ids:\n      - "my-gcp-project"\n\n    # Optional: GCP location for lakes/zones/entities (default: us-central1)\n    # Use regional locations like us-central1, europe-west1, etc.\n    location: "us-central1"\n\n    # Optional: GCP location for entries (Universal Catalog)\n    # Use multi-region locations (us, eu, asia) to access system entry groups like @bigquery\n    # If not specified, uses the same value as \'location\'\n    entries_location: "us"\n\n    # Optional: Environment (default: PROD)\n    env: "PROD"\n\n    # Optional: GCP credentials (if not using Application Default Credentials)\n    # credential:\n    #   project_id: "my-gcp-project"\n    #   private_key_id: "d0121d0000882411234e11166c6aaa23ed5d74e0"\n    #   private_key: "-----BEGIN PRIVATE KEY-----\\nMIIyourkey\\n-----END PRIVATE KEY-----\\n"\n    #   client_email: "test@suppproject-id-1234567.iam.gserviceaccount.com"\n    #   client_id: "123456678890"\n\n    # Optional: Metadata extraction\n    # include_entries: true   # Extract from Universal Catalog (default: true, recommended)\n    # include_entities: false # Extract from Lakes/Zones (default: false)\n    # include_lineage: true   # Extract lineage (default: true)\n    # include_schema: true    # Extract schema metadata (default: true)\n\n    # Optional: Lineage retry settings\n    # lineage_max_retries: 3                    # Max retry attempts (range: 1-10, default: 3)\n    # lineage_retry_backoff_multiplier: 1.0     # Backoff delay multiplier (range: 0.1-10.0, default: 1.0)\n\n    # Optional: Filtering patterns\n    # filter_config:\n    #   # Entries API filters (only applies when include_entries=true)\n    #   entries:\n    #     dataset_pattern:\n    #       allow:\n    #         - "bq_.*"      # Allow BigQuery entries\n    #         - "pubsub_.*"  # Allow Pub/Sub entries\n    #       deny:\n    #         - ".*_test"    # Deny test entries\n    #         - ".*_temp"    # Deny temporary entries\n    #\n    #   # Entities API filters (only applies when include_entities=true)\n    #   entities:\n    #     lake_pattern:\n    #       allow:\n    #         - "retail-.*"\n    #         - "finance-.*"\n    #       deny:\n    #         - ".*-test"\n    #     zone_pattern:\n    #       allow:\n    #         - ".*"\n    #       deny:\n    #         - "deprecated-.*"\n    #     dataset_pattern:\n    #       allow:\n    #         - "table_.*"   # Allow tables\n    #         - "fileset_.*" # Allow filesets\n    #       deny:\n    #         - ".*_backup"  # Exclude backups\n\n    # Optional: Performance tuning\n    # max_workers: 10  # Parallel workers for entity extraction (default: 10)\n    # batch_size: 1000 # Entities per batch for memory optimization (default: 1000)\n\nsink:\n  type: datahub-rest\n  config:\n    server: "http://localhost:8080"\n\n')),(0,n.yg)("h3",{id:"config-details"},"Config Details"),(0,n.yg)(i.A,{mdxType:"Tabs"},(0,n.yg)(l.A,{value:"options",label:"Options",default:!0,mdxType:"TabItem"},(0,n.yg)("p",null,"Note that a ",(0,n.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,n.yg)("div",{className:"config-table"},(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Field"),(0,n.yg)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"batch_size"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of integer, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Batch size for metadata emission and lineage extraction. Entries and entities are emitted in batches to prevent memory issues in large deployments. Lower values reduce memory usage but may increase processing time. Set to None to disable batching (process all entities at once). Recommended: 1000 for large deployments (>10k entities), None for small deployments (<1k entities). Default: 1000. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"1000")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"dataplex_url"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Base URL for Dataplex console (for generating external links). ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},(0,n.yg)("a",{parentName:"td",href:"https://console.cloud.google.com/dataplex"},"https://console.cloud.google.com/dataplex"))))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"enable_stateful_lineage_ingestion"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Enable stateful lineage ingestion. This will store lineage window timestamps after successful lineage ingestion. and will not run lineage ingestion for same timestamps in subsequent run. NOTE: This only works with use_queries_v2=False (legacy extraction path). For queries v2, use enable_stateful_time_window instead. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"entries_location"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"GCP location for Universal Catalog entries extraction. Must be a multi-region location (us, eu, asia) to access system-managed entry groups like @bigquery. Regional locations (us-central1, etc.) only contain placeholder entries and will miss BigQuery tables. Default: 'us' (recommended for most users). ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"us")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"include_entities"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to include Entity metadata from Lakes/Zones (discovered tables/filesets) as Datasets. This is optional and complements the Entries API data. WARNING: When both include_entries and include_entities are enabled and discover the same table, entries will completely replace entity metadata including custom properties (lake, zone, asset info will be lost). Recommended: Use only ONE API, or ensure APIs discover non-overlapping datasets. See documentation for details. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"False")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"include_entries"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to extract Entries from Universal Catalog. This is the primary source of metadata and takes precedence when both sources are enabled. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"include_lineage"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to extract lineage information using Dataplex Lineage API. Extracts table-level lineage relationships between entities. Lineage API calls automatically retry transient errors (timeouts, rate limits) with exponential backoff. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"include_schema"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to extract and ingest schema metadata (columns, types, descriptions). Set to False to skip schema extraction for faster ingestion when only basic dataset metadata is needed. Disabling schema extraction can improve performance for large deployments. Default: True. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"lineage_max_retries"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"integer"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Maximum number of retry attempts for lineage API calls when encountering transient errors (timeouts, rate limits, service unavailable). Each attempt uses exponential backoff. Higher values increase resilience but may slow down ingestion. Default: 3. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"3")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"lineage_retry_backoff_multiplier"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"number"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Multiplier for exponential backoff between lineage API retry attempts (in seconds). Wait time formula: multiplier * (2 ^ attempt_number), capped between 2-10 seconds. Higher values reduce API load but increase ingestion time. Default: 1.0. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"1.0")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"location"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"GCP location/region where Dataplex lakes, zones, and entities are located (e.g., us-central1, europe-west1). Only used for entities extraction (include_entities=True). ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"us-central1")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"max_workers"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"integer"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Number of worker threads to use to parallelize zone entity extraction. Set to 1 to disable parallelization. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"10")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"platform_instance"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of string, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"The instance of the platform that all assets produced by this recipe belong to. This should be unique within the platform. See ",(0,n.yg)("a",{parentName:"td",href:"https://docs.datahub.com/docs/platform-instances/"},"https://docs.datahub.com/docs/platform-instances/")," for more details. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"env"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"The environment that all assets produced by this connector belong to ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"PROD")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"credential"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of GCPCredential, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"GCP credential information. If not specified, uses Application Default Credentials. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"client_email"),"\xa0",(0,n.yg)("abbr",{title:"Required if credential is set"},"\u2753"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Client email")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"client_id"),"\xa0",(0,n.yg)("abbr",{title:"Required if credential is set"},"\u2753"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Client Id")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"private_key"),"\xa0",(0,n.yg)("abbr",{title:"Required if credential is set"},"\u2753"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string(password)"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Private key in a form of '-----BEGIN PRIVATE KEY-----\\nprivate-key\\n-----END PRIVATE KEY-----\\n'")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"private_key_id"),"\xa0",(0,n.yg)("abbr",{title:"Required if credential is set"},"\u2753"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Private key id")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"auth_provider_x509_cert_url"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Auth provider x509 certificate url ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},(0,n.yg)("a",{parentName:"td",href:"https://www.googleapis.com/oauth2/v1/certs"},"https://www.googleapis.com/oauth2/v1/certs"))))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"auth_uri"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Authentication uri ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},(0,n.yg)("a",{parentName:"td",href:"https://accounts.google.com/o/oauth2/auth"},"https://accounts.google.com/o/oauth2/auth"))))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"client_x509_cert_url"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of string, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"If not set it will be default to ",(0,n.yg)("a",{parentName:"td",href:"https://www.googleapis.com/robot/v1/metadata/x509/client_email"},"https://www.googleapis.com/robot/v1/metadata/x509/client_email")," ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"project_id"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of string, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Project id to set the credentials ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"token_uri"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Token uri ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},(0,n.yg)("a",{parentName:"td",href:"https://oauth2.googleapis.com/token"},"https://oauth2.googleapis.com/token"))))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"credential."),(0,n.yg)("span",{className:"path-main"},"type"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Authentication type ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"service","_","account")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"filter_config"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"DataplexFilterConfig"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Filter configuration for Dataplex ingestion.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config."),(0,n.yg)("span",{className:"path-main"},"entities"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"EntitiesFilterConfig"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Filter configuration specific to Dataplex Entities API (Lakes/Zones). ",(0,n.yg)("br",null),"  ",(0,n.yg)("br",null)," These filters only apply when include_entities=True.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities."),(0,n.yg)("span",{className:"path-main"},"dataset_pattern"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"AllowDenyPattern"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"A class to store allow deny regexes")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities.dataset_pattern."),(0,n.yg)("span",{className:"path-main"},"ignoreCase"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of boolean, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities."),(0,n.yg)("span",{className:"path-main"},"lake_pattern"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"AllowDenyPattern"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"A class to store allow deny regexes")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities.lake_pattern."),(0,n.yg)("span",{className:"path-main"},"ignoreCase"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of boolean, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities."),(0,n.yg)("span",{className:"path-main"},"zone_pattern"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"AllowDenyPattern"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"A class to store allow deny regexes")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entities.zone_pattern."),(0,n.yg)("span",{className:"path-main"},"ignoreCase"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of boolean, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config."),(0,n.yg)("span",{className:"path-main"},"entries"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"EntriesFilterConfig"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Filter configuration specific to Dataplex Entries API (Universal Catalog). ",(0,n.yg)("br",null),"  ",(0,n.yg)("br",null)," These filters only apply when include_entries=True.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entries."),(0,n.yg)("span",{className:"path-main"},"dataset_pattern"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"AllowDenyPattern"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"A class to store allow deny regexes")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"filter_config.entries.dataset_pattern."),(0,n.yg)("span",{className:"path-main"},"ignoreCase"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of boolean, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether to ignore case sensitivity during pattern matching. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"project_ids"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"array"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"List of Google Cloud Project IDs to ingest Dataplex resources from. If not specified, uses project_id or attempts to detect from credentials.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"project_ids."),(0,n.yg)("span",{className:"path-main"},"string"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"})),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"stateful_ingestion"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of StatefulIngestionConfig, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Stateful Ingestion Config ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"stateful_ingestion."),(0,n.yg)("span",{className:"path-main"},"enabled"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Whether or not to enable stateful ingest. Default: True if a pipeline_name is set and either a datahub-rest sink or ",(0,n.yg)("inlineCode",{parentName:"td"},"datahub_api")," is specified, otherwise False ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"False")))))))),(0,n.yg)(l.A,{value:"schema",label:"Schema",mdxType:"TabItem"},(0,n.yg)("p",null,"The ",(0,n.yg)("a",{parentName:"p",href:"https://json-schema.org/"},"JSONSchema")," for this configuration is inlined below."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "$defs": {\n    "AllowDenyPattern": {\n      "additionalProperties": false,\n      "description": "A class to store allow deny regexes",\n      "properties": {\n        "allow": {\n          "default": [\n            ".*"\n          ],\n          "description": "List of regex patterns to include in ingestion",\n          "items": {\n            "type": "string"\n          },\n          "title": "Allow",\n          "type": "array"\n        },\n        "deny": {\n          "default": [],\n          "description": "List of regex patterns to exclude from ingestion.",\n          "items": {\n            "type": "string"\n          },\n          "title": "Deny",\n          "type": "array"\n        },\n        "ignoreCase": {\n          "anyOf": [\n            {\n              "type": "boolean"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": true,\n          "description": "Whether to ignore case sensitivity during pattern matching.",\n          "title": "Ignorecase"\n        }\n      },\n      "title": "AllowDenyPattern",\n      "type": "object"\n    },\n    "DataplexFilterConfig": {\n      "additionalProperties": false,\n      "description": "Filter configuration for Dataplex ingestion.",\n      "properties": {\n        "entities": {\n          "$ref": "#/$defs/EntitiesFilterConfig",\n          "description": "Filters specific to Dataplex Entities API (lakes, zones, and entity datasets). Only applies when include_entities=True."\n        },\n        "entries": {\n          "$ref": "#/$defs/EntriesFilterConfig",\n          "description": "Filters specific to Dataplex Entries API (Universal Catalog). Only applies when include_entries=True."\n        }\n      },\n      "title": "DataplexFilterConfig",\n      "type": "object"\n    },\n    "EntitiesFilterConfig": {\n      "additionalProperties": false,\n      "description": "Filter configuration specific to Dataplex Entities API (Lakes/Zones).\\n\\nThese filters only apply when include_entities=True.",\n      "properties": {\n        "lake_pattern": {\n          "$ref": "#/$defs/AllowDenyPattern",\n          "default": {\n            "allow": [\n              ".*"\n            ],\n            "deny": [],\n            "ignoreCase": true\n          },\n          "description": "Regex patterns for lake names to filter in ingestion. Only applies when include_entities=True."\n        },\n        "zone_pattern": {\n          "$ref": "#/$defs/AllowDenyPattern",\n          "default": {\n            "allow": [\n              ".*"\n            ],\n            "deny": [],\n            "ignoreCase": true\n          },\n          "description": "Regex patterns for zone names to filter in ingestion. Only applies when include_entities=True."\n        },\n        "dataset_pattern": {\n          "$ref": "#/$defs/AllowDenyPattern",\n          "default": {\n            "allow": [\n              ".*"\n            ],\n            "deny": [],\n            "ignoreCase": true\n          },\n          "description": "Regex patterns for entity IDs (tables/filesets) to filter in ingestion. Only applies when include_entities=True."\n        }\n      },\n      "title": "EntitiesFilterConfig",\n      "type": "object"\n    },\n    "EntriesFilterConfig": {\n      "additionalProperties": false,\n      "description": "Filter configuration specific to Dataplex Entries API (Universal Catalog).\\n\\nThese filters only apply when include_entries=True.",\n      "properties": {\n        "dataset_pattern": {\n          "$ref": "#/$defs/AllowDenyPattern",\n          "default": {\n            "allow": [\n              ".*"\n            ],\n            "deny": [],\n            "ignoreCase": true\n          },\n          "description": "Regex patterns for entry IDs to filter in ingestion. Only applies when include_entries=True."\n        }\n      },\n      "title": "EntriesFilterConfig",\n      "type": "object"\n    },\n    "GCPCredential": {\n      "additionalProperties": false,\n      "properties": {\n        "project_id": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Project id to set the credentials",\n          "title": "Project Id"\n        },\n        "private_key_id": {\n          "description": "Private key id",\n          "title": "Private Key Id",\n          "type": "string"\n        },\n        "private_key": {\n          "description": "Private key in a form of \'-----BEGIN PRIVATE KEY-----\\\\nprivate-key\\\\n-----END PRIVATE KEY-----\\\\n\'",\n          "format": "password",\n          "title": "Private Key",\n          "type": "string",\n          "writeOnly": true\n        },\n        "client_email": {\n          "description": "Client email",\n          "title": "Client Email",\n          "type": "string"\n        },\n        "client_id": {\n          "description": "Client Id",\n          "title": "Client Id",\n          "type": "string"\n        },\n        "auth_uri": {\n          "default": "https://accounts.google.com/o/oauth2/auth",\n          "description": "Authentication uri",\n          "title": "Auth Uri",\n          "type": "string"\n        },\n        "token_uri": {\n          "default": "https://oauth2.googleapis.com/token",\n          "description": "Token uri",\n          "title": "Token Uri",\n          "type": "string"\n        },\n        "auth_provider_x509_cert_url": {\n          "default": "https://www.googleapis.com/oauth2/v1/certs",\n          "description": "Auth provider x509 certificate url",\n          "title": "Auth Provider X509 Cert Url",\n          "type": "string"\n        },\n        "type": {\n          "default": "service_account",\n          "description": "Authentication type",\n          "title": "Type",\n          "type": "string"\n        },\n        "client_x509_cert_url": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "If not set it will be default to https://www.googleapis.com/robot/v1/metadata/x509/client_email",\n          "title": "Client X509 Cert Url"\n        }\n      },\n      "required": [\n        "private_key_id",\n        "private_key",\n        "client_email",\n        "client_id"\n      ],\n      "title": "GCPCredential",\n      "type": "object"\n    },\n    "StatefulIngestionConfig": {\n      "additionalProperties": false,\n      "description": "Basic Stateful Ingestion Specific Configuration for any source.",\n      "properties": {\n        "enabled": {\n          "default": false,\n          "description": "Whether or not to enable stateful ingest. Default: True if a pipeline_name is set and either a datahub-rest sink or `datahub_api` is specified, otherwise False",\n          "title": "Enabled",\n          "type": "boolean"\n        }\n      },\n      "title": "StatefulIngestionConfig",\n      "type": "object"\n    }\n  },\n  "additionalProperties": false,\n  "description": "Configuration for Google Dataplex source.",\n  "properties": {\n    "enable_stateful_lineage_ingestion": {\n      "default": true,\n      "description": "Enable stateful lineage ingestion. This will store lineage window timestamps after successful lineage ingestion. and will not run lineage ingestion for same timestamps in subsequent run. NOTE: This only works with use_queries_v2=False (legacy extraction path). For queries v2, use enable_stateful_time_window instead.",\n      "title": "Enable Stateful Lineage Ingestion",\n      "type": "boolean"\n    },\n    "stateful_ingestion": {\n      "anyOf": [\n        {\n          "$ref": "#/$defs/StatefulIngestionConfig"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "Stateful Ingestion Config"\n    },\n    "platform_instance": {\n      "anyOf": [\n        {\n          "type": "string"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "The instance of the platform that all assets produced by this recipe belong to. This should be unique within the platform. See https://docs.datahub.com/docs/platform-instances/ for more details.",\n      "title": "Platform Instance"\n    },\n    "env": {\n      "default": "PROD",\n      "description": "The environment that all assets produced by this connector belong to",\n      "title": "Env",\n      "type": "string"\n    },\n    "credential": {\n      "anyOf": [\n        {\n          "$ref": "#/$defs/GCPCredential"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "GCP credential information. If not specified, uses Application Default Credentials."\n    },\n    "project_ids": {\n      "description": "List of Google Cloud Project IDs to ingest Dataplex resources from. If not specified, uses project_id or attempts to detect from credentials.",\n      "items": {\n        "type": "string"\n      },\n      "title": "Project Ids",\n      "type": "array"\n    },\n    "location": {\n      "default": "us-central1",\n      "description": "GCP location/region where Dataplex lakes, zones, and entities are located (e.g., us-central1, europe-west1). Only used for entities extraction (include_entities=True).",\n      "title": "Location",\n      "type": "string"\n    },\n    "entries_location": {\n      "default": "us",\n      "description": "GCP location for Universal Catalog entries extraction. Must be a multi-region location (us, eu, asia) to access system-managed entry groups like @bigquery. Regional locations (us-central1, etc.) only contain placeholder entries and will miss BigQuery tables. Default: \'us\' (recommended for most users).",\n      "title": "Entries Location",\n      "type": "string"\n    },\n    "filter_config": {\n      "$ref": "#/$defs/DataplexFilterConfig",\n      "description": "Filters to control which Dataplex resources are ingested."\n    },\n    "include_entries": {\n      "default": true,\n      "description": "Whether to extract Entries from Universal Catalog. This is the primary source of metadata and takes precedence when both sources are enabled.",\n      "title": "Include Entries",\n      "type": "boolean"\n    },\n    "include_entities": {\n      "default": false,\n      "description": "Whether to include Entity metadata from Lakes/Zones (discovered tables/filesets) as Datasets. This is optional and complements the Entries API data. WARNING: When both include_entries and include_entities are enabled and discover the same table, entries will completely replace entity metadata including custom properties (lake, zone, asset info will be lost). Recommended: Use only ONE API, or ensure APIs discover non-overlapping datasets. See documentation for details.",\n      "title": "Include Entities",\n      "type": "boolean"\n    },\n    "include_schema": {\n      "default": true,\n      "description": "Whether to extract and ingest schema metadata (columns, types, descriptions). Set to False to skip schema extraction for faster ingestion when only basic dataset metadata is needed. Disabling schema extraction can improve performance for large deployments. Default: True.",\n      "title": "Include Schema",\n      "type": "boolean"\n    },\n    "include_lineage": {\n      "default": true,\n      "description": "Whether to extract lineage information using Dataplex Lineage API. Extracts table-level lineage relationships between entities. Lineage API calls automatically retry transient errors (timeouts, rate limits) with exponential backoff.",\n      "title": "Include Lineage",\n      "type": "boolean"\n    },\n    "lineage_max_retries": {\n      "default": 3,\n      "description": "Maximum number of retry attempts for lineage API calls when encountering transient errors (timeouts, rate limits, service unavailable). Each attempt uses exponential backoff. Higher values increase resilience but may slow down ingestion. Default: 3.",\n      "maximum": 10,\n      "minimum": 1,\n      "title": "Lineage Max Retries",\n      "type": "integer"\n    },\n    "lineage_retry_backoff_multiplier": {\n      "default": 1.0,\n      "description": "Multiplier for exponential backoff between lineage API retry attempts (in seconds). Wait time formula: multiplier * (2 ^ attempt_number), capped between 2-10 seconds. Higher values reduce API load but increase ingestion time. Default: 1.0.",\n      "maximum": 10.0,\n      "minimum": 0.1,\n      "title": "Lineage Retry Backoff Multiplier",\n      "type": "number"\n    },\n    "batch_size": {\n      "anyOf": [\n        {\n          "type": "integer"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": 1000,\n      "description": "Batch size for metadata emission and lineage extraction. Entries and entities are emitted in batches to prevent memory issues in large deployments. Lower values reduce memory usage but may increase processing time. Set to None to disable batching (process all entities at once). Recommended: 1000 for large deployments (>10k entities), None for small deployments (<1k entities). Default: 1000.",\n      "title": "Batch Size"\n    },\n    "max_workers": {\n      "default": 10,\n      "description": "Number of worker threads to use to parallelize zone entity extraction. Set to 1 to disable parallelization.",\n      "title": "Max Workers",\n      "type": "integer"\n    },\n    "dataplex_url": {\n      "default": "https://console.cloud.google.com/dataplex",\n      "description": "Base URL for Dataplex console (for generating external links).",\n      "title": "Dataplex Url",\n      "type": "string"\n    }\n  },\n  "title": "DataplexConfig",\n  "type": "object"\n}\n')))),(0,n.yg)("h3",{id:"code-coordinates"},"Code Coordinates"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Class Name: ",(0,n.yg)("inlineCode",{parentName:"li"},"datahub.ingestion.source.dataplex.dataplex.DataplexSource")),(0,n.yg)("li",{parentName:"ul"},"Browse on ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/source/dataplex/dataplex.py"},"GitHub"))),(0,n.yg)("h2",null,"Questions"),(0,n.yg)("p",null,"If you've got any questions on configuring ingestion for Dataplex, feel free to ping us on ",(0,n.yg)("a",{parentName:"p",href:"https://datahub.com/slack"},"our Slack"),"."))}f.isMDXComponent=!0}}]);