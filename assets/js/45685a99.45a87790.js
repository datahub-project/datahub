"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[75868],{7653:(e,t,n)=>{n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(89379),r=n(96540),i=n(7653),c=n(89990),o=function(e,t){return r.createElement(c.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i.A}))};const s=r.forwardRef(o)},15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>d});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},g="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},y=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),g=l(n),y=r,d=g["".concat(s,".").concat(y)]||g[y]||p[y]||i;return n?a.createElement(d,c(c({ref:t},u),{},{components:n})):a.createElement(d,c({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,c=new Array(i);c[0]=y;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[g]="string"==typeof e?e:r,c[1]=o;for(var l=2;l<i;l++)c[l]=n[l];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}y.displayName="MDXCreateElement"},43655:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(96540),r=n(20053);const i="availabilityCard_P5od",c="managedIcon_AxXO",o="platform_wqXv",s="platformAvailable_Y8lN";var l=n(4732),u=n(89379);const g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var p=n(89990),y=function(e,t){return a.createElement(p.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:g}))};const d=a.forwardRef(y);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var v=function(e,t){return a.createElement(p.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:m}))};const h=a.forwardRef(v),f=({saasOnly:e,ossOnly:t})=>a.createElement("div",{className:(0,r.A)(i,"card")},a.createElement("strong",null,"Feature Availability"),a.createElement("div",null,a.createElement("span",{className:(0,r.A)(o,!e&&s)},"Self-Hosted DataHub ",e?a.createElement(l.A,null):a.createElement(d,null))),a.createElement("div",null,a.createElement(h,{className:c}),a.createElement("span",{className:(0,r.A)(o,!t&&s)},"DataHub Cloud ",t?a.createElement(l.A,null):a.createElement(d,null))))},99507:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>u,toc:()=>p});n(96540);var a=n(15680),r=n(43655);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const s={title:"Service Accounts",slug:"/features/feature-guides/service-accounts",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/service-accounts.md"},l="Service Accounts",u={unversionedId:"docs/features/feature-guides/service-accounts",id:"docs/features/feature-guides/service-accounts",title:"Service Accounts",description:"Available starting in DataHub Cloud v0.3.17, DataHub Core v1.4.0.",source:"@site/genDocs/docs/features/feature-guides/service-accounts.md",sourceDirName:"docs/features/feature-guides",slug:"/features/feature-guides/service-accounts",permalink:"/docs/features/feature-guides/service-accounts",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/service-accounts.md",tags:[],version:"current",frontMatter:{title:"Service Accounts",slug:"/features/feature-guides/service-accounts",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/service-accounts.md"},sidebar:"overviewSidebar",previous:{title:"Search Access Controls",permalink:"/docs/features/feature-guides/search-access-controls"},next:{title:"Sync Status",permalink:"/docs/sync-status"}},g={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites and Permissions",id:"prerequisites-and-permissions",level:2},{value:"Using Service Accounts",id:"using-service-accounts",level:2},{value:"Accessing Service Accounts",id:"accessing-service-accounts",level:3},{value:"Creating a Service Account",id:"creating-a-service-account",level:3},{value:"Generating Access Tokens",id:"generating-access-tokens",level:3},{value:"Assigning Roles to Service Accounts",id:"assigning-roles-to-service-accounts",level:3},{value:"Deleting a Service Account",id:"deleting-a-service-account",level:3},{value:"Revoking Access Tokens",id:"revoking-access-tokens",level:3},{value:"Using Service Account Tokens",id:"using-service-account-tokens",level:2},{value:"With the DataHub CLI",id:"with-the-datahub-cli",level:3},{value:"With the Python SDK",id:"with-the-python-sdk",level:3},{value:"With GraphQL API",id:"with-graphql-api",level:3},{value:"With REST API",id:"with-rest-api",level:3},{value:"GraphQL API Reference",id:"graphql-api-reference",level:2},{value:"Create a Service Account",id:"create-a-service-account",level:3},{value:"List Service Accounts",id:"list-service-accounts",level:3},{value:"Get a Service Account",id:"get-a-service-account",level:3},{value:"Delete a Service Account",id:"delete-a-service-account",level:3},{value:"Create Access Token for Service Account",id:"create-access-token-for-service-account",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Token Rotation",id:"token-rotation",level:3},{value:"Least Privilege Access",id:"least-privilege-access",level:3},{value:"FAQ and Troubleshooting",id:"faq-and-troubleshooting",level:2},{value:"Why can&#39;t I see the Service Accounts tab?",id:"why-cant-i-see-the-service-accounts-tab",level:3},{value:"My service account token stopped working",id:"my-service-account-token-stopped-working",level:3},{value:"Can I see which tokens exist for a service account?",id:"can-i-see-which-tokens-exist-for-a-service-account",level:3},{value:"What happens to a service account&#39;s tokens when I delete it?",id:"what-happens-to-a-service-accounts-tokens-when-i-delete-it",level:3},{value:"Can I use service accounts in policies?",id:"can-i-use-service-accounts-in-policies",level:3},{value:"What&#39;s the difference between a personal access token and a service account token?",id:"whats-the-difference-between-a-personal-access-token-and-a-service-account-token",level:3}],y={toc:p},d="wrapper";function m(e){var{components:t}=e,n=o(e,["components"]);return(0,a.yg)(d,c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},y,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"service-accounts"},"Service Accounts"),(0,a.yg)(r.A,{mdxType:"FeatureAvailability"}),(0,a.yg)("p",null,"Available starting in DataHub Cloud v0.3.17, DataHub Core v1.4.0."),(0,a.yg)("h2",{id:"introduction"},"Introduction"),(0,a.yg)("p",null,"Service Accounts provide a secure way to enable programmatic access to DataHub APIs without using personal user credentials. They are designed for automated workflows, CI/CD pipelines, data ingestion processes, and any other use case where a non-human identity needs to interact with DataHub."),(0,a.yg)("p",null,"Key benefits of using service accounts:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Separation of Concerns")," - Decouple automation credentials from personal user accounts"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Auditable Access")," - Track API usage by specific automation workflows"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Granular Permissions")," - Assign specific roles and policies to each service account"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Token Management")," - Generate, rotate, and revoke tokens independently for each service account"),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Security")," - Revoke access instantly without affecting human users")),(0,a.yg)("h2",{id:"prerequisites-and-permissions"},"Prerequisites and Permissions"),(0,a.yg)("p",null,"To manage service accounts, a user must have the ",(0,a.yg)("strong",{parentName:"p"},"Manage Service Accounts")," platform privilege. This privilege allows users to:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Create new service accounts"),(0,a.yg)("li",{parentName:"ul"},"View and list existing service accounts"),(0,a.yg)("li",{parentName:"ul"},"Delete service accounts"),(0,a.yg)("li",{parentName:"ul"},"Generate access tokens for service accounts")),(0,a.yg)("p",null,"By default, users with the ",(0,a.yg)("strong",{parentName:"p"},"Admin")," role have this privilege. You can grant this privilege to other users or groups through ",(0,a.yg)("a",{parentName:"p",href:"/docs/authorization/policies"},"Policies"),"."),(0,a.yg)("h2",{id:"using-service-accounts"},"Using Service Accounts"),(0,a.yg)("h3",{id:"accessing-service-accounts"},"Accessing Service Accounts"),(0,a.yg)("p",null,"Service accounts can be managed from the ",(0,a.yg)("strong",{parentName:"p"},"Settings")," page in DataHub:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to ",(0,a.yg)("strong",{parentName:"li"},"Settings")," (gear icon in the top navigation)"),(0,a.yg)("li",{parentName:"ol"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Users & Groups")," in the left sidebar"),(0,a.yg)("li",{parentName:"ol"},"Select the ",(0,a.yg)("strong",{parentName:"li"},"Service Accounts")," tab")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/service-accounts/service-accounts-list.png"})),(0,a.yg)("h3",{id:"creating-a-service-account"},"Creating a Service Account"),(0,a.yg)("p",null,"To create a new service account:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Click the ",(0,a.yg)("strong",{parentName:"li"},"Create Service Account")," button"),(0,a.yg)("li",{parentName:"ol"},"Enter a ",(0,a.yg)("strong",{parentName:"li"},"Name"),' for the service account (e.g., "Ingestion Pipeline", "CI/CD Bot")'),(0,a.yg)("li",{parentName:"ol"},"Optionally, add a ",(0,a.yg)("strong",{parentName:"li"},"Description")," to explain the service account's purpose"),(0,a.yg)("li",{parentName:"ol"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Create"))),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/service-accounts/create-service-account-modal.png"})),(0,a.yg)("p",null,"The service account will be assigned a unique identifier (URN) automatically. This URN follows the format:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"urn:li:corpuser:service_<uuid>\n")),(0,a.yg)("h3",{id:"generating-access-tokens"},"Generating Access Tokens"),(0,a.yg)("p",null,"After creating a service account, you need to generate an access token for it to authenticate with DataHub APIs:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to ",(0,a.yg)("strong",{parentName:"li"},"Settings")," > ",(0,a.yg)("strong",{parentName:"li"},"Access Tokens")),(0,a.yg)("li",{parentName:"ol"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Generate new token")),(0,a.yg)("li",{parentName:"ol"},"Select ",(0,a.yg)("strong",{parentName:"li"},"Service Account")," as the token type"),(0,a.yg)("li",{parentName:"ol"},"Choose the service account from the dropdown"),(0,a.yg)("li",{parentName:"ol"},"Provide a ",(0,a.yg)("strong",{parentName:"li"},"Name"),' for the token (e.g., "production-ingestion-token")'),(0,a.yg)("li",{parentName:"ol"},"Select a ",(0,a.yg)("strong",{parentName:"li"},"Duration")," for the token validity"),(0,a.yg)("li",{parentName:"ol"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Generate"))),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/service-accounts/generate-token-modal.png"})),(0,a.yg)("admonition",{title:"Important",type:"caution"},(0,a.yg)("p",{parentName:"admonition"},"Copy and store the generated token securely. It will only be displayed once and cannot be retrieved later.")),(0,a.yg)("h3",{id:"assigning-roles-to-service-accounts"},"Assigning Roles to Service Accounts"),(0,a.yg)("p",null,"Service accounts can be assigned DataHub roles to control their permissions. To assign a role:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to ",(0,a.yg)("strong",{parentName:"li"},"Settings")," > ",(0,a.yg)("strong",{parentName:"li"},"Users & Groups")," > ",(0,a.yg)("strong",{parentName:"li"},"Service Accounts")),(0,a.yg)("li",{parentName:"ol"},"Find the service account in the list"),(0,a.yg)("li",{parentName:"ol"},"Use the ",(0,a.yg)("strong",{parentName:"li"},"Role")," dropdown to select a role (e.g., Admin, Editor, Reader)"),(0,a.yg)("li",{parentName:"ol"},"Confirm the role assignment")),(0,a.yg)("p",{align:"center"},(0,a.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/service-accounts/assign-role.png"})),(0,a.yg)("p",null,"Alternatively, you can add service accounts to ",(0,a.yg)("a",{parentName:"p",href:"/docs/authorization/policies"},"Policies")," for more granular permission control."),(0,a.yg)("h3",{id:"deleting-a-service-account"},"Deleting a Service Account"),(0,a.yg)("p",null,"To delete a service account:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to ",(0,a.yg)("strong",{parentName:"li"},"Settings")," > ",(0,a.yg)("strong",{parentName:"li"},"Users & Groups")," > ",(0,a.yg)("strong",{parentName:"li"},"Service Accounts")),(0,a.yg)("li",{parentName:"ol"},"Find the service account you want to delete"),(0,a.yg)("li",{parentName:"ol"},"Click the 3-dot more menu on the right side"),(0,a.yg)("li",{parentName:"ol"},"Click the ",(0,a.yg)("strong",{parentName:"li"},"Delete")," button (trash icon)")),(0,a.yg)("admonition",{type:"warning"},(0,a.yg)("p",{parentName:"admonition"},"Deleting a service account will immediately invalidate all access tokens associated with it. Any automated workflows using those tokens will stop working.")),(0,a.yg)("h3",{id:"revoking-access-tokens"},"Revoking Access Tokens"),(0,a.yg)("p",null,"To revoke a specific token without deleting the entire service account:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to ",(0,a.yg)("strong",{parentName:"li"},"Settings")," > ",(0,a.yg)("strong",{parentName:"li"},"Access Tokens")),(0,a.yg)("li",{parentName:"ol"},"Find the token you want to revoke"),(0,a.yg)("li",{parentName:"ol"},"Click ",(0,a.yg)("strong",{parentName:"li"},"Revoke")),(0,a.yg)("li",{parentName:"ol"},"Confirm the revocation")),(0,a.yg)("h2",{id:"using-service-account-tokens"},"Using Service Account Tokens"),(0,a.yg)("p",null,"Once you have generated an access token for a service account, you can use it to authenticate with DataHub APIs."),(0,a.yg)("h3",{id:"with-the-datahub-cli"},"With the DataHub CLI"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},'# Set the token as an environment variable\nexport DATAHUB_GMS_TOKEN="<your-service-account-token>"\n\n# Or pass it directly\ndatahub get --urn "urn:li:dataset:..."\n')),(0,a.yg)("h3",{id:"with-the-python-sdk"},"With the Python SDK"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.emitter.rest_emitter import DatahubRestEmitter\n\n# Create an emitter with service account token\nemitter = DatahubRestEmitter(\n    gms_server="http://localhost:8080",\n    token="<your-service-account-token>"\n)\n\n# Use the emitter for API calls\nemitter.emit(...)\n')),(0,a.yg)("h3",{id:"with-graphql-api"},"With GraphQL API"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"curl -X POST 'https://your-datahub-instance/api/graphql' \\\n  -H 'Authorization: Bearer <your-service-account-token>' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\"query\": \"{ me { corpUser { urn } } }\"}'\n")),(0,a.yg)("h3",{id:"with-rest-api"},"With REST API"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"curl 'https://your-datahub-instance/openapi/v3/entity/dataset/...' \\\n  -H 'Authorization: Bearer <your-service-account-token>'\n")),(0,a.yg)("h2",{id:"graphql-api-reference"},"GraphQL API Reference"),(0,a.yg)("p",null,"Service accounts can also be managed programmatically using the GraphQL API."),(0,a.yg)("h3",{id:"create-a-service-account"},"Create a Service Account"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},"mutation createServiceAccount($input: CreateServiceAccountInput!) {\n  createServiceAccount(input: $input) {\n    urn\n    type\n    name\n    displayName\n    description\n    createdBy\n    createdAt\n  }\n}\n")),(0,a.yg)("p",null,"Variables:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "input": {\n    "displayName": "My Ingestion Pipeline",\n    "description": "Service account for automated data ingestion"\n  }\n}\n')),(0,a.yg)("h3",{id:"list-service-accounts"},"List Service Accounts"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},"query listServiceAccounts($input: ListServiceAccountsInput!) {\n  listServiceAccounts(input: $input) {\n    start\n    count\n    total\n    serviceAccounts {\n      urn\n      name\n      displayName\n      description\n      createdBy\n      createdAt\n      updatedAt\n    }\n  }\n}\n")),(0,a.yg)("p",null,"Variables:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "input": {\n    "start": 0,\n    "count": 20,\n    "query": ""\n  }\n}\n')),(0,a.yg)("h3",{id:"get-a-service-account"},"Get a Service Account"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},"query getServiceAccount($urn: String!) {\n  getServiceAccount(urn: $urn) {\n    urn\n    name\n    displayName\n    description\n    createdBy\n    createdAt\n    updatedAt\n  }\n}\n")),(0,a.yg)("h3",{id:"delete-a-service-account"},"Delete a Service Account"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},"mutation deleteServiceAccount($urn: String!) {\n  deleteServiceAccount(urn: $urn)\n}\n")),(0,a.yg)("h3",{id:"create-access-token-for-service-account"},"Create Access Token for Service Account"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},"mutation createAccessToken($input: CreateAccessTokenInput!) {\n  createAccessToken(input: $input) {\n    accessToken\n    metadata {\n      id\n      actorUrn\n      ownerUrn\n      name\n      description\n    }\n  }\n}\n")),(0,a.yg)("p",null,"Variables:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "input": {\n    "type": "SERVICE_ACCOUNT",\n    "actorUrn": "urn:li:corpuser:service_<uuid>",\n    "name": "my-token-name",\n    "duration": "ONE_YEAR"\n  }\n}\n')),(0,a.yg)("p",null,"Valid duration options: ",(0,a.yg)("inlineCode",{parentName:"p"},"ONE_HOUR"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"ONE_DAY"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"ONE_MONTH"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"THREE_MONTHS"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"SIX_MONTHS"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"ONE_YEAR"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"NO_EXPIRY")),(0,a.yg)("h2",{id:"best-practices"},"Best Practices"),(0,a.yg)("h3",{id:"naming-conventions"},"Naming Conventions"),(0,a.yg)("p",null,"Use descriptive names that indicate the purpose of each service account:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"ingestion-snowflake-prod")," - For Snowflake production ingestion"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"cicd-github-actions")," - For GitHub Actions CI/CD pipelines"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"airflow-metadata-sync")," - For Airflow metadata synchronization")),(0,a.yg)("h3",{id:"token-rotation"},"Token Rotation"),(0,a.yg)("p",null,"Regularly rotate service account tokens to maintain security:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Generate a new token for the service account"),(0,a.yg)("li",{parentName:"ol"},"Update your automation to use the new token"),(0,a.yg)("li",{parentName:"ol"},"Revoke the old token")),(0,a.yg)("h3",{id:"least-privilege-access"},"Least Privilege Access"),(0,a.yg)("p",null,"Assign the minimum permissions required for each service account:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"For ingestion pipelines: Assign a custom policy that only allows creating/updating specific entity types"),(0,a.yg)("li",{parentName:"ul"},"For read-only integrations: Use a Reader role or custom read-only policy"),(0,a.yg)("li",{parentName:"ul"},"For admin automation: Use the Admin role only when absolutely necessary")),(0,a.yg)("h2",{id:"faq-and-troubleshooting"},"FAQ and Troubleshooting"),(0,a.yg)("h3",{id:"why-cant-i-see-the-service-accounts-tab"},"Why can't I see the Service Accounts tab?"),(0,a.yg)("p",null,"The Service Accounts tab is only visible to users with the ",(0,a.yg)("strong",{parentName:"p"},"Manage Service Accounts")," privilege. Contact your DataHub administrator to request access."),(0,a.yg)("h3",{id:"my-service-account-token-stopped-working"},"My service account token stopped working"),(0,a.yg)("p",null,"Check the following:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Token expiration"),": The token may have expired. Generate a new token."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Service account deleted"),": The service account may have been deleted. Create a new one."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Token revoked"),": Someone may have revoked the token. Generate a new one."),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Permission changes"),": The service account's permissions may have been modified.")),(0,a.yg)("h3",{id:"can-i-see-which-tokens-exist-for-a-service-account"},"Can I see which tokens exist for a service account?"),(0,a.yg)("p",null,"Yes, navigate to ",(0,a.yg)("strong",{parentName:"p"},"Settings")," > ",(0,a.yg)("strong",{parentName:"p"},"Access Tokens")," and filter by the service account name to see all tokens associated with it. Note that YOU must filter for the owner of the service account to see it. Whoever created the service account will be the token owner."),(0,a.yg)("h3",{id:"what-happens-to-a-service-accounts-tokens-when-i-delete-it"},"What happens to a service account's tokens when I delete it?"),(0,a.yg)("p",null,"All tokens associated with a service account are invalidated when the service account is deleted."),(0,a.yg)("h3",{id:"can-i-use-service-accounts-in-policies"},"Can I use service accounts in policies?"),(0,a.yg)("p",null,"Yes, service accounts can be added to policies just like regular users. Use the service account's URN (e.g., ",(0,a.yg)("inlineCode",{parentName:"p"},"urn:li:corpuser:service_<uuid>"),") when configuring policy actors."),(0,a.yg)("h3",{id:"whats-the-difference-between-a-personal-access-token-and-a-service-account-token"},"What's the difference between a personal access token and a service account token?"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Feature"),(0,a.yg)("th",{parentName:"tr",align:null},"Personal Access Token"),(0,a.yg)("th",{parentName:"tr",align:null},"Service Account Token"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Associated with"),(0,a.yg)("td",{parentName:"tr",align:null},"A human user"),(0,a.yg)("td",{parentName:"tr",align:null},"A service account")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Permissions"),(0,a.yg)("td",{parentName:"tr",align:null},"Inherits user's permissions"),(0,a.yg)("td",{parentName:"tr",align:null},"Based on service account's role/policies")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Revocation impact"),(0,a.yg)("td",{parentName:"tr",align:null},"Only affects the token holder"),(0,a.yg)("td",{parentName:"tr",align:null},"Only affects the specific automation")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Use case"),(0,a.yg)("td",{parentName:"tr",align:null},"Individual user API access"),(0,a.yg)("td",{parentName:"tr",align:null},"Automated workflows and integrations")))))}m.isMDXComponent=!0}}]);