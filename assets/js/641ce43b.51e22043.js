"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[17881],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>g});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),d=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(a),m=r,g=c["".concat(o,".").concat(m)]||c[m]||u[m]||i;return a?n.createElement(g,s(s({ref:t},p),{},{components:a})):n.createElement(g,s({ref:t},p))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[c]="string"==typeof e?e:r,s[1]=l;for(var d=2;d<i;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},86922:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>g,frontMatter:()=>l,metadata:()=>d,toc:()=>c});a(96540);var n=a(15680);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l={title:"Chart Entity",slug:"/metadata-integration/java/docs/sdk-v2/chart-entity",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/chart-entity.md"},o="Chart Entity",d={unversionedId:"metadata-integration/java/docs/sdk-v2/chart-entity",id:"metadata-integration/java/docs/sdk-v2/chart-entity",title:"Chart Entity",description:"The Chart entity represents visualizations and reports in BI tools (e.g., Looker, Tableau, Superset). This guide covers chart operations in SDK V2.",source:"@site/genDocs/metadata-integration/java/docs/sdk-v2/chart-entity.md",sourceDirName:"metadata-integration/java/docs/sdk-v2",slug:"/metadata-integration/java/docs/sdk-v2/chart-entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/chart-entity",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/chart-entity.md",tags:[],version:"current",frontMatter:{title:"Chart Entity",slug:"/metadata-integration/java/docs/sdk-v2/chart-entity",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/chart-entity.md"},sidebar:"overviewSidebar",previous:{title:"Dataset Entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity"},next:{title:"Dashboard Entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/dashboard-entity"}},p={},c=[{value:"Creating a Chart",id:"creating-a-chart",level:2},{value:"Minimal Chart",id:"minimal-chart",level:3},{value:"With Metadata",id:"with-metadata",level:3},{value:"With Custom Properties",id:"with-custom-properties",level:3},{value:"URN Construction",id:"urn-construction",level:2},{value:"Supported BI Tools",id:"supported-bi-tools",level:2},{value:"Chart Operations",id:"chart-operations",level:2},{value:"Adding Tags",id:"adding-tags",level:3},{value:"Managing Owners",id:"managing-owners",level:3},{value:"Adding Glossary Terms",id:"adding-glossary-terms",level:3},{value:"Setting Domain",id:"setting-domain",level:3},{value:"Setting Description and Title",id:"setting-description-and-title",level:3},{value:"Managing Custom Properties",id:"managing-custom-properties",level:3},{value:"Lineage Operations",id:"lineage-operations",level:2},{value:"Setting Input Datasets",id:"setting-input-datasets",level:3},{value:"Adding Individual Input Datasets",id:"adding-individual-input-datasets",level:3},{value:"Removing Input Datasets",id:"removing-input-datasets",level:3},{value:"Retrieving Input Datasets",id:"retrieving-input-datasets",level:3},{value:"Complete Lineage Example",id:"complete-lineage-example",level:3},{value:"Chart-Specific Properties",id:"chart-specific-properties",level:2},{value:"Chart Type",id:"chart-type",level:3},{value:"Access Level",id:"access-level",level:3},{value:"External and Chart URLs",id:"external-and-chart-urls",level:3},{value:"Last Refreshed Timestamp",id:"last-refreshed-timestamp",level:3},{value:"Complete Properties Example",id:"complete-properties-example",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Builder Options Reference",id:"builder-options-reference",level:2},{value:"Patch-Based Operations",id:"patch-based-operations",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Creating Multiple Charts",id:"creating-multiple-charts",level:3},{value:"Linking Charts to Dashboards",id:"linking-charts-to-dashboards",level:3},{value:"Updating Charts",id:"updating-charts",level:2},{value:"Load and Modify",id:"load-and-modify",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic Chart Creation",id:"basic-chart-creation",level:3},{value:"Comprehensive Chart with Metadata and Lineage",id:"comprehensive-chart-with-metadata-and-lineage",level:3},{value:"Chart Lineage Operations",id:"chart-lineage-operations",level:3}],u={toc:c},m="wrapper";function g(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(m,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},u,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"chart-entity"},"Chart Entity"),(0,n.yg)("p",null,"The Chart entity represents visualizations and reports in BI tools (e.g., Looker, Tableau, Superset). This guide covers chart operations in SDK V2."),(0,n.yg)("h2",{id:"creating-a-chart"},"Creating a Chart"),(0,n.yg)("h3",{id:"minimal-chart"},"Minimal Chart"),(0,n.yg)("p",null,"Only tool and id are required:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Chart chart = Chart.builder()\n    .tool("looker")\n    .id("my_sales_chart")\n    .build();\n')),(0,n.yg)("h3",{id:"with-metadata"},"With Metadata"),(0,n.yg)("p",null,"Add title, description, and custom properties:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Chart chart = Chart.builder()\n    .tool("tableau")\n    .id("sales_dashboard_chart_1")\n    .title("Sales Performance by Region")\n    .description("Monthly sales broken down by geographic region")\n    .build();\n')),(0,n.yg)("h3",{id:"with-custom-properties"},"With Custom Properties"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Map<String, String> properties = new HashMap<>();\nproperties.put("dashboard", "executive_dashboard");\nproperties.put("refresh_schedule", "hourly");\n\nChart chart = Chart.builder()\n    .tool("looker")\n    .id("revenue_chart")\n    .title("Revenue Trends")\n    .customProperties(properties)\n    .build();\n')),(0,n.yg)("h2",{id:"urn-construction"},"URN Construction"),(0,n.yg)("p",null,"Chart URNs follow the pattern:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"urn:li:chart:({tool},{id})\n")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Example:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Chart chart = Chart.builder()\n    .tool("looker")\n    .id("my_chart")\n    .build();\n\nChartUrn urn = chart.getChartUrn();\n// urn:li:chart:(looker,my_chart)\n')),(0,n.yg)("h2",{id:"supported-bi-tools"},"Supported BI Tools"),(0,n.yg)("p",null,"Common tool identifiers:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"looker")," - Looker"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"tableau")," - Tableau"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"superset")," - Apache Superset"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"powerbi")," - Power BI"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"metabase")," - Metabase"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"redash")," - Redash"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"mode")," - Mode Analytics")),(0,n.yg)("h2",{id:"chart-operations"},"Chart Operations"),(0,n.yg)("h3",{id:"adding-tags"},"Adding Tags"),(0,n.yg)("p",null,"Add tags to categorize and classify your charts:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Simple tag (automatically adds "urn:li:tag:" prefix)\nchart.addTag("pii");\nchart.addTag("financial");\n\n// Or use full URN\nchart.addTag("urn:li:tag:production");\n')),(0,n.yg)("h3",{id:"managing-owners"},"Managing Owners"),(0,n.yg)("p",null,"Add owners with different ownership types:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.common.OwnershipType;\n\n// Add technical owner\nchart.addOwner("urn:li:corpuser:data_team", OwnershipType.TECHNICAL_OWNER);\n\n// Add business owner\nchart.addOwner("urn:li:corpuser:sales_team", OwnershipType.BUSINESS_OWNER);\n\n// Add data steward\nchart.addOwner("urn:li:corpuser:compliance_team", OwnershipType.DATA_STEWARD);\n\n// Remove an owner\nchart.removeOwner("urn:li:corpuser:old_owner");\n')),(0,n.yg)("h3",{id:"adding-glossary-terms"},"Adding Glossary Terms"),(0,n.yg)("p",null,"Link charts to business glossary terms:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'chart.addTerm("urn:li:glossaryTerm:SalesMetrics");\nchart.addTerm("urn:li:glossaryTerm:QuarterlyReporting");\n\n// Remove a term\nchart.removeTerm("urn:li:glossaryTerm:OldTerm");\n')),(0,n.yg)("h3",{id:"setting-domain"},"Setting Domain"),(0,n.yg)("p",null,"Organize charts into domains:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Set domain\nchart.setDomain("urn:li:domain:Sales");\n\n// Remove domain\nchart.setDomain(null);\n// or\nchart.removeDomain();\n')),(0,n.yg)("h3",{id:"setting-description-and-title"},"Setting Description and Title"),(0,n.yg)("p",null,"Update chart description and title using patch-based updates:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'chart.setDescription("Updated chart description");\nchart.setTitle("New Chart Title");\n')),(0,n.yg)("h3",{id:"managing-custom-properties"},"Managing Custom Properties"),(0,n.yg)("p",null,"Add, update, or remove custom properties:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Add individual properties\nchart.addCustomProperty("refresh_schedule", "hourly");\nchart.addCustomProperty("chart_type", "bar");\n\n// Set all properties at once (replaces existing)\nMap<String, String> props = new HashMap<>();\nprops.put("dashboard_url", "https://dashboard.example.com");\nprops.put("author", "data_team");\nchart.setCustomProperties(props);\n\n// Remove a property\nchart.removeCustomProperty("old_property");\n')),(0,n.yg)("h2",{id:"lineage-operations"},"Lineage Operations"),(0,n.yg)("p",null,"Chart lineage defines the data flow relationships between charts and the datasets they consume. This is essential for impact analysis, data governance, and understanding data dependencies."),(0,n.yg)("h3",{id:"setting-input-datasets"},"Setting Input Datasets"),(0,n.yg)("p",null,"Define which datasets a chart consumes:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.common.urn.DatasetUrn;\nimport java.util.Arrays;\n\n// Create dataset URNs\nDatasetUrn salesDataset = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.transactions,PROD)");\nDatasetUrn customerDataset = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.customers,PROD)");\n\n// Set all input datasets at once (replaces existing)\nchart.setInputDatasets(Arrays.asList(salesDataset, customerDataset));\n')),(0,n.yg)("h3",{id:"adding-individual-input-datasets"},"Adding Individual Input Datasets"),(0,n.yg)("p",null,"Add input datasets incrementally:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Add datasets one at a time\nchart.addInputDataset(salesDataset);\nchart.addInputDataset(customerDataset);\n\n// This pattern is useful when:\n// - Building lineage incrementally\n// - Discovering datasets during chart analysis\n// - Adding new data sources to existing chart\n")),(0,n.yg)("h3",{id:"removing-input-datasets"},"Removing Input Datasets"),(0,n.yg)("p",null,"Remove datasets that are no longer consumed:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'DatasetUrn legacyDataset = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:postgres,legacy.old_table,PROD)");\n\n// Remove specific dataset from lineage\nchart.removeInputDataset(legacyDataset);\n')),(0,n.yg)("h3",{id:"retrieving-input-datasets"},"Retrieving Input Datasets"),(0,n.yg)("p",null,"Get the list of datasets a chart consumes:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Load chart from DataHub\nChartUrn chartUrn = new ChartUrn("looker", "my_chart");\nChart chart = client.entities().get(chartUrn);\n\n// Get all input datasets\nList<DatasetUrn> inputDatasets = chart.getInputDatasets();\nSystem.out.println("Chart consumes " + inputDatasets.size() + " datasets:");\nfor (DatasetUrn dataset : inputDatasets) {\n    System.out.println("  - " + dataset);\n}\n')),(0,n.yg)("h3",{id:"complete-lineage-example"},"Complete Lineage Example"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Create chart with comprehensive lineage\nChart salesChart = Chart.builder()\n    .tool("tableau")\n    .id("sales_dashboard_chart")\n    .title("Sales Performance")\n    .build();\n\n// Define input datasets\nDatasetUrn transactions = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.transactions,PROD)");\nDatasetUrn customers = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.customers,PROD)");\nDatasetUrn products = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.products,PROD)");\n\n// Set lineage\nsalesChart.setInputDatasets(Arrays.asList(transactions, customers, products));\n\n// Add metadata\nsalesChart.addTag("sales")\n         .addOwner("urn:li:corpuser:data_team", OwnershipType.TECHNICAL_OWNER)\n         .setDomain("urn:li:domain:Sales");\n\n// Save to DataHub\nclient.entities().upsert(salesChart);\n')),(0,n.yg)("h2",{id:"chart-specific-properties"},"Chart-Specific Properties"),(0,n.yg)("p",null,"Charts have several specialized properties beyond basic metadata:"),(0,n.yg)("h3",{id:"chart-type"},"Chart Type"),(0,n.yg)("p",null,"Set the visualization type:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Available types: BAR, LINE, PIE, TABLE, TEXT, BOXPLOT, AREA, SCATTER\nchart.setChartType("BAR");\n\n// Get chart type\nString chartType = chart.getChartType();\n')),(0,n.yg)("h3",{id:"access-level"},"Access Level"),(0,n.yg)("p",null,"Control chart visibility:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Available levels: PUBLIC, PRIVATE\nchart.setAccess("PUBLIC");\n\n// Get access level\nString access = chart.getAccess();\n')),(0,n.yg)("h3",{id:"external-and-chart-urls"},"External and Chart URLs"),(0,n.yg)("p",null,"Set URLs for accessing the chart:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// External URL - link to view chart in source BI tool\nchart.setExternalUrl("https://looker.company.com/dashboards/123");\n\n// Chart URL - direct URL to chart (may be different from external URL)\nchart.setChartUrl("https://looker.company.com/embed/charts/456");\n\n// Get URLs\nString externalUrl = chart.getExternalUrl();\nString chartUrl = chart.getChartUrl();\n')),(0,n.yg)("h3",{id:"last-refreshed-timestamp"},"Last Refreshed Timestamp"),(0,n.yg)("p",null,"Track when chart data was last updated:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Set timestamp (milliseconds since epoch)\nlong currentTime = System.currentTimeMillis();\nchart.setLastRefreshed(currentTime);\n\n// Or use a specific time\nlong specificTime = Instant.parse("2025-10-29T10:00:00Z").toEpochMilli();\nchart.setLastRefreshed(specificTime);\n\n// Get last refreshed time\nLong lastRefreshed = chart.getLastRefreshed();\nif (lastRefreshed != null) {\n    Instant refreshTime = Instant.ofEpochMilli(lastRefreshed);\n    System.out.println("Last refreshed: " + refreshTime);\n}\n')),(0,n.yg)("h3",{id:"complete-properties-example"},"Complete Properties Example"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import java.time.Instant;\n\nChart chart = Chart.builder()\n    .tool("looker")\n    .id("sales_performance")\n    .title("Sales Performance Dashboard")\n    .build();\n\n// Set all chart-specific properties\nchart.setChartType("BAR")\n     .setAccess("PUBLIC")\n     .setExternalUrl("https://looker.company.com/dashboards/sales")\n     .setChartUrl("https://looker.company.com/embed/charts/sales_performance")\n     .setLastRefreshed(System.currentTimeMillis());\n\n// Set lineage\nDatasetUrn salesDataset = DatasetUrn.createFromString(\n    "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.transactions,PROD)");\nchart.addInputDataset(salesDataset);\n\n// Add metadata\nchart.addTag("sales")\n     .setDomain("urn:li:domain:Sales");\n\nclient.entities().upsert(chart);\n')),(0,n.yg)("h2",{id:"complete-example"},"Complete Example"),(0,n.yg)("p",null,"Here's a comprehensive example showing all chart operations:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.common.OwnershipType;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Chart;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\n\npublic class ChartExample {\n    public static void main(String[] args)\n        throws IOException, ExecutionException, InterruptedException {\n        // Create client\n        DataHubClientV2 client = DataHubClientV2.builder()\n            .server("http://localhost:8080")\n            .build();\n\n        try {\n            // Create chart with basic metadata\n            Chart chart = Chart.builder()\n                .tool("looker")\n                .id("regional_sales_chart")\n                .title("Regional Sales Performance")\n                .description("Quarterly sales broken down by region and product category")\n                .build();\n\n            // Add tags for categorization\n            chart.addTag("sales")\n                 .addTag("executive")\n                 .addTag("quarterly-review");\n\n            // Add owners\n            chart.addOwner("urn:li:corpuser:sales_team", OwnershipType.TECHNICAL_OWNER)\n                 .addOwner("urn:li:corpuser:bi_team", OwnershipType.DATA_STEWARD);\n\n            // Add glossary terms\n            chart.addTerm("urn:li:glossaryTerm:SalesMetrics")\n                 .addTerm("urn:li:glossaryTerm:QuarterlyReporting");\n\n            // Set domain\n            chart.setDomain("urn:li:domain:Sales");\n\n            // Add custom properties\n            chart.addCustomProperty("dashboard", "executive_overview")\n                 .addCustomProperty("chart_type", "bar")\n                 .addCustomProperty("data_source", "snowflake")\n                 .addCustomProperty("refresh_schedule", "hourly");\n\n            // Upsert to DataHub (emits all accumulated patches)\n            client.entities().upsert(chart);\n\n            System.out.println("Successfully created chart: " + chart.getUrn());\n            System.out.println("Total patches: " + chart.getPendingPatches().size());\n\n        } finally {\n            client.close();\n        }\n    }\n}\n')),(0,n.yg)("h2",{id:"builder-options-reference"},"Builder Options Reference"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Method"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"tool(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705 Yes"),(0,n.yg)("td",{parentName:"tr",align:null},'BI tool identifier (e.g., "looker", "tableau")')),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"id(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705 Yes"),(0,n.yg)("td",{parentName:"tr",align:null},"Chart identifier within the tool")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"title(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Chart title")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"description(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Chart description")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"customProperties(Map)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Map of custom key-value properties")))),(0,n.yg)("h2",{id:"patch-based-operations"},"Patch-Based Operations"),(0,n.yg)("p",null,"Chart entities now support patch-based operations similar to Dataset. All mutations (addTag, addOwner, etc.) create patch MCPs that accumulate until save(). This enables:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Efficient batching"),": Multiple operations in a single network call"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Incremental updates"),": Only modified fields are sent to the server"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Fluent chaining"),": Build complex metadata in a readable way")),(0,n.yg)("p",null,"Available patch operations:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Operation"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"addTag(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Add a tag to the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeTag(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove a tag from the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"addOwner(String, OwnershipType)")),(0,n.yg)("td",{parentName:"tr",align:null},"Add an owner with ownership type")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeOwner(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove an owner from the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"addTerm(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Add a glossary term to the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeTerm(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove a glossary term")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setDomain(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set the domain for the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeDomain()")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove the domain from the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setDescription(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Update chart description")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setTitle(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Update chart title")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"addCustomProperty(String, String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Add or update a custom property")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeCustomProperty(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove a custom property")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setCustomProperties(Map)")),(0,n.yg)("td",{parentName:"tr",align:null},"Replace all custom properties")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setInputDatasets(List)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set input datasets (lineage)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"addInputDataset(DatasetUrn)")),(0,n.yg)("td",{parentName:"tr",align:null},"Add an input dataset (lineage)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"removeInputDataset(DatasetUrn)")),(0,n.yg)("td",{parentName:"tr",align:null},"Remove an input dataset (lineage)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setExternalUrl(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set external URL for the chart")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setChartUrl(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set chart URL")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setLastRefreshed(long)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set last refreshed timestamp")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setChartType(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set chart type (BAR, LINE, etc.)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setAccess(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"Set access level (PUBLIC, PRIVATE)")))),(0,n.yg)("p",null,"See ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/patch-operations"},"Patch Operations Guide")," for more details on how patch-based updates work."),(0,n.yg)("h2",{id:"common-patterns"},"Common Patterns"),(0,n.yg)("h3",{id:"creating-multiple-charts"},"Creating Multiple Charts"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'List<String> chartIds = Arrays.asList("chart1", "chart2", "chart3");\n\nfor (String chartId : chartIds) {\n    Chart chart = Chart.builder()\n        .tool("looker")\n        .id(chartId)\n        .title("Chart " + chartId)\n        .build();\n\n    client.entities().upsert(chart);\n}\n')),(0,n.yg)("h3",{id:"linking-charts-to-dashboards"},"Linking Charts to Dashboards"),(0,n.yg)("p",null,"Use custom properties to track relationships:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Chart chart = Chart.builder()\n    .tool("tableau")\n    .id("sales_chart")\n    .build();\n\nMap<String, String> props = new HashMap<>();\nprops.put("dashboard_id", "executive_dashboard");\nprops.put("position", "top_left");\n\nchart.setCustomProperties(props);\nclient.entities().upsert(chart);\n')),(0,n.yg)("h2",{id:"updating-charts"},"Updating Charts"),(0,n.yg)("h3",{id:"load-and-modify"},"Load and Modify"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Load existing chart\nChartUrn urn = new ChartUrn("looker", "my_chart");\nChart chart = client.entities().get(urn);\n\n// Modify\nchart.setDescription("Updated description");\n\n// Save changes\nclient.entities().update(chart);\n')),(0,n.yg)("h2",{id:"next-steps"},"Next Steps"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity"},"Dataset Entity Guide"))," - Comprehensive dataset operations"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/entities-overview"},"Entities Overview"))," - Common patterns across entities"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/patch-operations"},"Patch Operations"))," - Understanding incremental updates")),(0,n.yg)("h2",{id:"examples"},"Examples"),(0,n.yg)("h3",{id:"basic-chart-creation"},"Basic Chart Creation"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/ChartCreateExample.java\npackage io.datahubproject.examples.v2;\n\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Chart;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Example demonstrating how to create a Chart using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Creating a DataHubClientV2\n *   <li>Building a Chart with fluent builder\n *   <li>Setting chart properties\n *   <li>Upserting to DataHub\n * </ul>\n *\n * <p>Note: Chart currently has basic functionality. For advanced operations like tags and owners,\n * use patch-based patterns similar to Dataset.\n */\npublic class ChartCreateExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException {\n    // Create client (use environment variables or pass explicit values)\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN")) // Optional\n            .build();\n\n    try {\n      // Test connection\n      if (!client.testConnection()) {\n        System.err.println("Failed to connect to DataHub server");\n        return;\n      }\n      System.out.println("\u2713 Connected to DataHub");\n\n      // Prepare custom properties\n      Map<String, String> customProperties = new HashMap<>();\n      customProperties.put("dashboard", "executive_summary");\n      customProperties.put("refresh_rate", "daily");\n      customProperties.put("data_source", "snowflake.analytics.revenue_summary");\n      customProperties.put("chart_type", "stacked_bar");\n\n      // Build chart with metadata\n      Chart chart =\n          Chart.builder()\n              .tool("looker")\n              .id("customer_revenue_by_region")\n              .title("Revenue by Region")\n              .description(\n                  "Monthly revenue breakdown by geographic region with year-over-year comparison")\n              .customProperties(customProperties)\n              .build();\n\n      System.out.println("\u2713 Built chart with URN: " + chart.getUrn());\n\n      // Upsert to DataHub\n      client.entities().upsert(chart);\n\n      System.out.println("\u2713 Successfully created chart in DataHub!");\n      System.out.println("\\n  URN: " + chart.getUrn());\n      System.out.println(\n          "  View in DataHub: " + client.getConfig().getServer() + "/chart/" + chart.getUrn());\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')),(0,n.yg)("h3",{id:"comprehensive-chart-with-metadata-and-lineage"},"Comprehensive Chart with Metadata and Lineage"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/ChartFullExample.java\npackage io.datahubproject.examples.v2;\n\nimport com.linkedin.common.OwnershipType;\nimport com.linkedin.common.urn.DatasetUrn;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Chart;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.util.Arrays;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Comprehensive example demonstrating all Chart metadata operations using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Creating a chart with complete metadata\n *   <li>Adding tags, owners, glossary terms\n *   <li>Setting domain and custom properties\n *   <li>Setting up lineage with input datasets\n *   <li>Setting chart-specific properties (type, access, URLs, refresh time)\n *   <li>Combining all operations in single entity\n * </ul>\n */\npublic class ChartFullExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException, URISyntaxException {\n    // Create client\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN"))\n            .build();\n\n    try {\n      // Test connection\n      if (!client.testConnection()) {\n        System.err.println("Failed to connect to DataHub server");\n        return;\n      }\n      System.out.println("\u2713 Connected to DataHub");\n\n      // Build comprehensive chart with all metadata types\n      Chart chart =\n          Chart.builder()\n              .tool("looker")\n              .id("executive_dashboard_sales_chart")\n              .title("Executive Sales Performance Dashboard")\n              .description(\n                  "Comprehensive sales performance visualization showing quarterly revenue trends, "\n                      + "regional breakdowns, and product category performance. "\n                      + "This chart is the primary view for executive leadership to track business metrics.")\n              .build();\n\n      System.out.println("\u2713 Built chart with URN: " + chart.getUrn());\n\n      // Add multiple tags for categorization\n      chart\n          .addTag("executive")\n          .addTag("sales")\n          .addTag("financial")\n          .addTag("quarterly-review")\n          .addTag("mission-critical");\n\n      System.out.println("\u2713 Added 5 tags");\n\n      // Add multiple owners with different roles\n      chart\n          .addOwner("urn:li:corpuser:sales_team", OwnershipType.TECHNICAL_OWNER)\n          .addOwner("urn:li:corpuser:bi_team", OwnershipType.DATA_STEWARD)\n          .addOwner("urn:li:corpuser:executive_team", OwnershipType.BUSINESS_OWNER);\n\n      System.out.println("\u2713 Added 3 owners");\n\n      // Add glossary terms for business context\n      chart\n          .addTerm("urn:li:glossaryTerm:SalesMetrics")\n          .addTerm("urn:li:glossaryTerm:QuarterlyReporting")\n          .addTerm("urn:li:glossaryTerm:ExecutiveDashboard");\n\n      System.out.println("\u2713 Added 3 glossary terms");\n\n      // Set domain for organizational structure\n      chart.setDomain("urn:li:domain:Sales");\n\n      System.out.println("\u2713 Set domain");\n\n      // Add comprehensive custom properties\n      chart\n          .addCustomProperty("visualization_tool", "looker")\n          .addCustomProperty("dashboard_id", "executive_overview")\n          .addCustomProperty("refresh_schedule", "hourly")\n          .addCustomProperty("data_source", "snowflake")\n          .addCustomProperty("sla_tier", "tier1")\n          .addCustomProperty("chart_position", "top_center")\n          .addCustomProperty("business_criticality", "mission-critical");\n\n      System.out.println("\u2713 Added 7 custom properties");\n\n      // Set chart-specific properties\n      chart\n          .setChartType("BAR") // Chart type: BAR, LINE, PIE, TABLE, TEXT, BOXPLOT\n          .setAccess("PUBLIC") // Access level: PUBLIC or PRIVATE\n          .setExternalUrl("https://looker.company.com/charts/executive_dashboard_sales_chart")\n          .setChartUrl("https://looker.company.com/embed/charts/executive_dashboard_sales_chart")\n          .setLastRefreshed(System.currentTimeMillis()); // When chart data was last refreshed\n\n      System.out.println("\u2713 Set chart-specific properties (type, access, URLs, refresh time)");\n\n      // Set up lineage: Define which datasets this chart consumes\n      // This chart visualizes data from sales transactions and customer data\n      DatasetUrn salesDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.transactions,PROD)");\n      DatasetUrn customerDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.customers,PROD)");\n      DatasetUrn regionDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales.regions,PROD)");\n\n      chart.setInputDatasets(Arrays.asList(salesDataset, customerDataset, regionDataset));\n\n      System.out.println("\u2713 Set input datasets (lineage): 3 datasets");\n\n      // Count accumulated patches\n      System.out.println("\\nAccumulated " + chart.getPendingPatches().size() + " patches");\n\n      // Upsert to DataHub - all metadata in single operation\n      client.entities().upsert(chart);\n\n      System.out.println("\\n\u2713 Successfully created comprehensive chart in DataHub!");\n      System.out.println("\\nSummary:");\n      System.out.println("  URN: " + chart.getUrn());\n      System.out.println("  Tool: looker");\n      System.out.println("  Tags: 5");\n      System.out.println("  Owners: 3");\n      System.out.println("  Glossary Terms: 3");\n      System.out.println("  Domain: Sales");\n      System.out.println("  Custom Properties: 7");\n      System.out.println("  Chart Type: BAR");\n      System.out.println("  Access Level: PUBLIC");\n      System.out.println("  Input Datasets: 3 (lineage relationships)");\n      System.out.println(\n          "\\n  View in DataHub: " + client.getConfig().getServer() + "/chart/" + chart.getUrn());\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')),(0,n.yg)("h3",{id:"chart-lineage-operations"},"Chart Lineage Operations"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/ChartLineageExample.java\npackage io.datahubproject.examples.v2;\n\nimport com.linkedin.common.urn.DatasetUrn;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Chart;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Example demonstrating chart lineage operations using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Creating a chart with input datasets (lineage)\n *   <li>Adding individual input datasets\n *   <li>Removing input datasets\n *   <li>Retrieving input datasets\n *   <li>Best practices for managing chart lineage\n * </ul>\n */\npublic class ChartLineageExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException, URISyntaxException {\n    // Create client\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN"))\n            .build();\n\n    try {\n      // Test connection\n      if (!client.testConnection()) {\n        System.err.println("Failed to connect to DataHub server");\n        return;\n      }\n      System.out.println("\u2713 Connected to DataHub\\n");\n\n      // ==================== Example 1: Create chart with input datasets ====================\n      System.out.println("Example 1: Creating chart with multiple input datasets");\n      System.out.println("--------------------------------------------------------");\n\n      Chart salesChart =\n          Chart.builder()\n              .tool("tableau")\n              .id("sales_performance_chart")\n              .title("Sales Performance Dashboard")\n              .description("Aggregates sales data from multiple sources")\n              .build();\n\n      // Define the datasets this chart consumes\n      // In a real scenario, these datasets would already exist in DataHub\n      DatasetUrn transactionsDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales_db.transactions,PROD)");\n      DatasetUrn customersDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales_db.customers,PROD)");\n      DatasetUrn productsDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,sales_db.products,PROD)");\n\n      // Set all input datasets at once\n      salesChart.setInputDatasets(\n          Arrays.asList(transactionsDataset, customersDataset, productsDataset));\n\n      System.out.println("Created chart: " + salesChart.getUrn());\n      System.out.println("Input datasets:");\n      System.out.println("  - " + transactionsDataset);\n      System.out.println("  - " + customersDataset);\n      System.out.println("  - " + productsDataset);\n\n      // Upsert chart to DataHub\n      client.entities().upsert(salesChart);\n      System.out.println("\u2713 Chart with lineage created in DataHub\\n");\n\n      // ==================== Example 2: Add input datasets incrementally ====================\n      System.out.println("Example 2: Adding input datasets incrementally");\n      System.out.println("------------------------------------------------");\n\n      Chart revenueChart =\n          Chart.builder()\n              .tool("looker")\n              .id("revenue_trends_chart")\n              .title("Revenue Trends Over Time")\n              .description("Shows revenue trends from various data sources")\n              .build();\n\n      // Add input datasets one by one\n      DatasetUrn revenueDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:bigquery,finance.revenue,PROD)");\n      revenueChart.addInputDataset(revenueDataset);\n      System.out.println("Added input dataset: " + revenueDataset);\n\n      DatasetUrn forecastDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:bigquery,finance.forecast,PROD)");\n      revenueChart.addInputDataset(forecastDataset);\n      System.out.println("Added input dataset: " + forecastDataset);\n\n      // This pattern is useful when building lineage incrementally\n      // or when input datasets are discovered during chart analysis\n      DatasetUrn budgetDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:bigquery,finance.budget,PROD)");\n      revenueChart.addInputDataset(budgetDataset);\n      System.out.println("Added input dataset: " + budgetDataset);\n\n      client.entities().upsert(revenueChart);\n      System.out.println("\u2713 Chart with incremental lineage created in DataHub\\n");\n\n      // ==================== Example 3: Remove input datasets ====================\n      System.out.println("Example 3: Removing input datasets");\n      System.out.println("-----------------------------------");\n\n      Chart analyticsChart =\n          Chart.builder()\n              .tool("superset")\n              .id("customer_analytics_chart")\n              .title("Customer Analytics")\n              .description("Customer behavior analysis")\n              .build();\n\n      // Set initial input datasets\n      DatasetUrn customerBehaviorDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:postgres,analytics.customer_behavior,PROD)");\n      DatasetUrn clickstreamDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:kafka,analytics.clickstream,PROD)");\n      DatasetUrn legacyDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:postgres,analytics.legacy_data,PROD)");\n\n      analyticsChart.setInputDatasets(\n          Arrays.asList(customerBehaviorDataset, clickstreamDataset, legacyDataset));\n      System.out.println("Initial input datasets: 3");\n\n      // Remove legacy dataset (no longer used)\n      analyticsChart.removeInputDataset(legacyDataset);\n      System.out.println("Removed legacy dataset: " + legacyDataset);\n\n      client.entities().upsert(analyticsChart);\n      System.out.println("\u2713 Chart lineage updated in DataHub\\n");\n\n      // ==================== Example 4: Retrieve input datasets ====================\n      System.out.println("Example 4: Retrieving input datasets from existing chart");\n      System.out.println("---------------------------------------------------------");\n\n      // Load an existing chart and inspect its lineage\n      // Note: In a real scenario, you would load from DataHub:\n      // Chart existingChart = client.entities().get(salesChart.getChartUrn());\n\n      // For this example, we\'ll use the chart we just created\n      Chart existingChart =\n          Chart.builder()\n              .tool("tableau")\n              .id("sales_performance_chart")\n              .title("Sales Performance Dashboard")\n              .build();\n\n      // In production, after loading from DataHub, you can retrieve input datasets\n      List<DatasetUrn> inputDatasets = existingChart.getInputDatasets();\n      System.out.println("Chart: " + existingChart.getUrn());\n      System.out.println("Input datasets: " + inputDatasets.size());\n      for (DatasetUrn dataset : inputDatasets) {\n        System.out.println("  - " + dataset);\n      }\n\n      // ==================== Example 5: Complex lineage scenario ====================\n      System.out.println("\\nExample 5: Complex lineage with multiple chart types");\n      System.out.println("-----------------------------------------------------");\n\n      // Create a comprehensive dashboard with multiple charts\n      Chart[] dashboardCharts =\n          new Chart[] {\n            Chart.builder()\n                .tool("looker")\n                .id("dashboard_sales_by_region")\n                .title("Sales by Region")\n                .build(),\n            Chart.builder()\n                .tool("looker")\n                .id("dashboard_top_products")\n                .title("Top Products")\n                .build(),\n            Chart.builder()\n                .tool("looker")\n                .id("dashboard_customer_segments")\n                .title("Customer Segments")\n                .build()\n          };\n\n      // Define shared and specific datasets\n      DatasetUrn sharedSalesDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,warehouse.sales_fact,PROD)");\n      DatasetUrn regionDimensionDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,warehouse.region_dim,PROD)");\n      DatasetUrn productDimensionDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,warehouse.product_dim,PROD)");\n      DatasetUrn customerDimensionDataset =\n          DatasetUrn.createFromString(\n              "urn:li:dataset:(urn:li:dataPlatform:snowflake,warehouse.customer_dim,PROD)");\n\n      // Sales by Region chart consumes sales and region data\n      dashboardCharts[0].setInputDatasets(\n          Arrays.asList(sharedSalesDataset, regionDimensionDataset));\n\n      // Top Products chart consumes sales and product data\n      dashboardCharts[1].setInputDatasets(\n          Arrays.asList(sharedSalesDataset, productDimensionDataset));\n\n      // Customer Segments chart consumes sales and customer data\n      dashboardCharts[2].setInputDatasets(\n          Arrays.asList(sharedSalesDataset, customerDimensionDataset));\n\n      // Upsert all charts\n      for (Chart chart : dashboardCharts) {\n        client.entities().upsert(chart);\n        System.out.println("Created chart: " + chart.getUrn());\n      }\n\n      System.out.println(\n          "\\n\u2713 Successfully created "\n              + dashboardCharts.length\n              + " charts with complex lineage relationships");\n\n      // ==================== Summary ====================\n      System.out.println("\\n" + "=".repeat(60));\n      System.out.println("SUMMARY: Chart Lineage Operations");\n      System.out.println("=".repeat(60));\n      System.out.println("\\nKey Takeaways:");\n      System.out.println("1. Use setInputDatasets() to define all lineage relationships at once");\n      System.out.println("2. Use addInputDataset() to add lineage incrementally");\n      System.out.println("3. Use removeInputDataset() to remove outdated lineage");\n      System.out.println("4. Use getInputDatasets() to inspect existing lineage");\n      System.out.println(\n          "5. Lineage helps users understand data flow and impact analysis in DataHub");\n      System.out.println("\\nBest Practices:");\n      System.out.println("- Always establish lineage when creating charts");\n      System.out.println("- Keep lineage up-to-date when chart queries change");\n      System.out.println("- Use lineage for impact analysis and data governance");\n      System.out.println("- Document shared datasets used across multiple charts");\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')))}g.isMDXComponent=!0}}]);