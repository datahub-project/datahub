"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[85333],{7653:(e,a,t)=>{t.d(a,{A:()=>n});const n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,a,t)=>{t.d(a,{A:()=>l});var n=t(89379),i=t(96540),o=t(7653),r=t(89990),s=function(e,a){return i.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:a,icon:o.A}))};const l=i.forwardRef(s)},15680:(e,a,t)=>{t.d(a,{xA:()=>u,yg:()=>p});var n=t(96540);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){i(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=n.createContext({}),c=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):r(r({},a),e)),t},u=function(e){var a=c(e.components);return n.createElement(l.Provider,{value:a},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},y=n.forwardRef((function(e,a){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),g=c(t),y=i,p=g["".concat(l,".").concat(y)]||g[y]||m[y]||o;return t?n.createElement(p,r(r({ref:a},u),{},{components:t})):n.createElement(p,r({ref:a},u))}));function p(e,a){var t=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=y;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[g]="string"==typeof e?e:i,r[1]=s;for(var c=2;c<o;c++)r[c]=t[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,t)}y.displayName="MDXCreateElement"},43655:(e,a,t)=>{t.d(a,{A:()=>f});var n=t(96540),i=t(20053);const o="availabilityCard_P5od",r="managedIcon_AxXO",s="platform_wqXv",l="platformAvailable_Y8lN";var c=t(4732),u=t(89379);const g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var m=t(89990),y=function(e,a){return n.createElement(m.A,(0,u.A)((0,u.A)({},e),{},{ref:a,icon:g}))};const p=n.forwardRef(y);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var h=function(e,a){return n.createElement(m.A,(0,u.A)((0,u.A)({},e),{},{ref:a,icon:d}))};const b=n.forwardRef(h),f=({saasOnly:e,ossOnly:a})=>n.createElement("div",{className:(0,i.A)(o,"card")},n.createElement("strong",null,"Feature Availability"),n.createElement("div",null,n.createElement("span",{className:(0,i.A)(s,!e&&l)},"Self-Hosted DataHub ",e?n.createElement(c.A,null):n.createElement(p,null))),n.createElement("div",null,n.createElement(b,{className:r}),n.createElement("span",{className:(0,i.A)(s,!a&&l)},"DataHub Cloud ",a?n.createElement(c.A,null):n.createElement(p,null))))},63005:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>g,contentTitle:()=>c,default:()=>d,frontMatter:()=>l,metadata:()=>u,toc:()=>m});t(96540);var n=t(15680),i=t(43655);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):function(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})),e}function s(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const l={title:"Databricks Metadata Sync Automation",slug:"/automations/databricks-metadata-sync",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/databricks-metadata-sync.md"},c="Databricks Metadata Sync Automation",u={unversionedId:"docs/automations/databricks-metadata-sync",id:"docs/automations/databricks-metadata-sync",title:"Databricks Metadata Sync Automation",description:"This feature is currently in Public Beta in DataHub Cloud. Reach out to your DataHub Cloud representative if you face any issues configuring or validating the capabilities outlined below.",source:"@site/genDocs/docs/automations/databricks-metadata-sync.md",sourceDirName:"docs/automations",slug:"/automations/databricks-metadata-sync",permalink:"/docs/automations/databricks-metadata-sync",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/automations/databricks-metadata-sync.md",tags:[],version:"current",frontMatter:{title:"Databricks Metadata Sync Automation",slug:"/automations/databricks-metadata-sync",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/databricks-metadata-sync.md"},sidebar:"overviewSidebar",previous:{title:"BigQuery Metadata Sync Automation",permalink:"/docs/automations/bigquery-metadata-sync"},next:{title:"Snowflake Tag Propagation Automation",permalink:"/docs/automations/snowflake-tag-propagation"}},g={},m=[{value:"Overview",id:"overview",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Sync Capabilities",id:"sync-capabilities",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Required Unity Catalog Permissions",id:"required-unity-catalog-permissions",level:3},{value:"Basic Access Permissions (Required for Both Tags and Descriptions)",id:"basic-access-permissions-required-for-both-tags-and-descriptions",level:4},{value:"Permissions for Tag Synchronization",id:"permissions-for-tag-synchronization",level:4},{value:"Permissions for Description Synchronization",id:"permissions-for-description-synchronization",level:4},{value:"Example Permission Configuration",id:"example-permission-configuration",level:3},{value:"For Tags Only",id:"for-tags-only",level:4},{value:"For Descriptions Only",id:"for-descriptions-only",level:4},{value:"For Both Tags and Descriptions",id:"for-both-tags-and-descriptions",level:4},{value:"Connection Requirements",id:"connection-requirements",level:3},{value:"Configuration Guide",id:"configuration-guide",level:2},{value:"Step 1: Access Automations",id:"step-1-access-automations",level:3},{value:"Step 2: Create Databricks Automation",id:"step-2-create-databricks-automation",level:3},{value:"Step 3: Configure Sync Options",id:"step-3-configure-sync-options",level:3},{value:"Select Action",id:"select-action",level:4},{value:"Configure Tag Selection (if Tags selected)",id:"configure-tag-selection-if-tags-selected",level:4},{value:"Step 4: Configure Connection Settings",id:"step-4-configure-connection-settings",level:3},{value:"Required Connection Details",id:"required-connection-details",level:4},{value:"Test Connection",id:"test-connection",level:4},{value:"Step 5: Configure Automation Details",id:"step-5-configure-automation-details",level:3},{value:"Historical Data Synchronization",id:"historical-data-synchronization",level:2},{value:"Initializing Existing Assets",id:"initializing-existing-assets",level:3},{value:"Initialization Process",id:"initialization-process",level:4},{value:"Validating the Integration",id:"validating-the-integration",level:2},{value:"Viewing Synced Metadata",id:"viewing-synced-metadata",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Permission Errors",id:"permission-errors",level:4},{value:"Connection Issues",id:"connection-issues",level:4},{value:"Synchronization Failures",id:"synchronization-failures",level:4},{value:"Support Resources",id:"support-resources",level:3},{value:"FAQ",id:"faq",level:2}],y={toc:m},p="wrapper";function d(e){var{components:a}=e,t=s(e,["components"]);return(0,n.yg)(p,r(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){o(e,a,t[a])}))}return e}({},y,t),{components:a,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"databricks-metadata-sync-automation"},"Databricks Metadata Sync Automation"),(0,n.yg)(i.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"This feature is currently in ",(0,n.yg)("strong",{parentName:"p"},"Public Beta")," in DataHub Cloud. Reach out to your DataHub Cloud representative if you face any issues configuring or validating the capabilities outlined below.")),(0,n.yg)("h2",{id:"overview"},"Overview"),(0,n.yg)("p",null,"Databricks Metadata Sync is an automation feature that enables seamless synchronization of DataHub Tags and Descriptions with Databricks Unity Catalog. This automation ensures consistent metadata governance across both platforms, automatically propagating DataHub governance artifacts to Unity Catalog tables, columns, catalogs, and schemas. Typically, this will be used in conjunction with the ",(0,n.yg)("a",{parentName:"p",href:"/docs/generated/ingestion/sources/databricks"},"Databricks ingestion source"),", which enables ingesting Tags & descriptions from Databricks into DataHub."),(0,n.yg)("p",null,"This automation is exclusively available in DataHub Cloud."),(0,n.yg)("h2",{id:"use-cases"},"Use Cases"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Maintain consistent metadata across DataHub and Databricks"),(0,n.yg)("li",{parentName:"ul"},"Improve data discovery by propagating descriptions back to Databricks"),(0,n.yg)("li",{parentName:"ul"},"Unity data governance by managing Tag application directly within DataHub")),(0,n.yg)("h2",{id:"sync-capabilities"},"Sync Capabilities"),(0,n.yg)("p",null,"The Databricks Metadata Sync automation provides comprehensive metadata synchronization with the following features:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Automated Tag Propagation"),": Seamlessly sync DataHub Tags to Unity Catalog tables, columns, catalogs, and schemas"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Description Synchronization"),": Automatically propagate DataHub descriptions to Unity Catalog objects as comments"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Bidirectional Updates"),": Maintain consistency by automatically removing Tags and descriptions from Unity Catalog when they are removed in DataHub"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Selective Propagation"),": Configure specific Tags for propagation, or sync all Tags"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Historical Backfill"),": Initialize Tags and Descriptions for assets on Databricks with current DataHub Tags & Descriptions.")),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("strong",{parentName:"p"},"A note about legacy Hive Metastore"),": Bi-directional sync for ",(0,n.yg)("em",{parentName:"p"},"descriptions")," is supported for Hive Metastore Schemas & Tables, but Tag sync is ",(0,n.yg)("em",{parentName:"p"},"not"),". This is because Databricks does not support applying of Tags to these assets on Hive Metastore.")),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("p",null,"Before enabling Databricks Metadata Sync, ensure the following permissions and configurations are in place:"),(0,n.yg)("h3",{id:"required-unity-catalog-permissions"},"Required Unity Catalog Permissions"),(0,n.yg)("h4",{id:"basic-access-permissions-required-for-both-tags-and-descriptions"},"Basic Access Permissions (Required for Both Tags and Descriptions)"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"USE CATALOG"),": Access to the Unity Catalog containing target objects"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"USE SCHEMA"),": Permission to access schemas within the catalog")),(0,n.yg)("h4",{id:"permissions-for-tag-synchronization"},"Permissions for Tag Synchronization"),(0,n.yg)("p",null,"Based on Unity Catalog requirements, to add tags to objects you need:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"APPLY TAG"),": Required on each object where tags will be applied (catalogs, schemas, tables, columns)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"USE SCHEMA"),": Required on the object's parent schema (already covered in basic access)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"USE CATALOG"),": Required on the object's parent catalog (already covered in basic access)")),(0,n.yg)("p",null,(0,n.yg)("em",{parentName:"p"},"Note: If using governed tags, you may also need ASSIGN permission on the tag policy.")),(0,n.yg)("h4",{id:"permissions-for-description-synchronization"},"Permissions for Description Synchronization"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"MODIFY"),": Required to update comments/descriptions on Unity Catalog objects (catalogs, schemas, tables, columns)")),(0,n.yg)("h3",{id:"example-permission-configuration"},"Example Permission Configuration"),(0,n.yg)("p",null,"Configure the necessary permissions for your DataHub automation service principal based on your sync requirements:"),(0,n.yg)("h4",{id:"for-tags-only"},"For Tags Only"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sql"},"-- Basic access permissions\nGRANT USE CATALOG ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT USE SCHEMA ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n\n-- Tag application permissions\nGRANT APPLY TAG ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT APPLY TAG ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\nGRANT APPLY TAG ON ALL TABLES IN SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n")),(0,n.yg)("h4",{id:"for-descriptions-only"},"For Descriptions Only"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sql"},"-- Basic access permissions\nGRANT USE CATALOG ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT USE SCHEMA ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n\n-- Description modification permissions\nGRANT MODIFY ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT MODIFY ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\nGRANT MODIFY ON ALL TABLES IN SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n")),(0,n.yg)("h4",{id:"for-both-tags-and-descriptions"},"For Both Tags and Descriptions"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sql"},"-- Basic access permissions\nGRANT USE CATALOG ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT USE SCHEMA ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n\n-- Tag application permissions\nGRANT APPLY TAG ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT APPLY TAG ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\nGRANT APPLY TAG ON ALL TABLES IN SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n\n-- Description modification permissions\nGRANT MODIFY ON CATALOG your_catalog TO `datahub-automation@your-domain.com`;\nGRANT MODIFY ON SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\nGRANT MODIFY ON ALL TABLES IN SCHEMA your_catalog.your_schema TO `datahub-automation@your-domain.com`;\n")),(0,n.yg)("h3",{id:"connection-requirements"},"Connection Requirements"),(0,n.yg)("p",null,"Ensure your DataHub instance has:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Valid Databricks workspace credentials"),(0,n.yg)("li",{parentName:"ul"},"Network connectivity to your Databricks Unity Catalog environment"),(0,n.yg)("li",{parentName:"ul"},"Appropriate service principal or user authentication configured"),(0,n.yg)("li",{parentName:"ul"},"Databricks warehouse id for executing operations")),(0,n.yg)("h2",{id:"configuration-guide"},"Configuration Guide"),(0,n.yg)("h3",{id:"step-1-access-automations"},"Step 1: Access Automations"),(0,n.yg)("p",null,"Navigate to the Automations section in your DataHub Cloud interface:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Select ",(0,n.yg)("strong",{parentName:"li"},"Automations")," from the dropdown menu, Under the ",(0,n.yg)("strong",{parentName:"li"},"Govern")," section")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automations-nav-link.png",alt:"Navigate to Automations"})),(0,n.yg)("h3",{id:"step-2-create-databricks-automation"},"Step 2: Create Databricks Automation"),(0,n.yg)("p",null,"Configure the automation:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Click the ",(0,n.yg)("strong",{parentName:"li"},"Create")," button"),(0,n.yg)("li",{parentName:"ol"},"Select ",(0,n.yg)("strong",{parentName:"li"},"Databricks Metadata Sync")," from the available automation types")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"60%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/databricks-metadata-sync/automation-selection.png",alt:"Select Databricks Metadata Sync"})),(0,n.yg)("h3",{id:"step-3-configure-sync-options"},"Step 3: Configure Sync Options"),(0,n.yg)("p",null,"Choose the types of information to synchronize:"),(0,n.yg)("h4",{id:"select-action"},"Select Action"),(0,n.yg)("p",null,"Choose between:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Tags"),": Sync Tags for Tables, Columns, Catalogs, & Schemas (Unity Catalog only)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Descriptions"),": Sync descriptions for Tables, Columns, Catalogs & Schemas as comments (Unity Catalog & legacy Hive Metastore)")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"60%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/databricks-metadata-sync/select-action.png",alt:"Select Sync Action"})),(0,n.yg)("h4",{id:"configure-tag-selection-if-tags-selected"},"Configure Tag Selection (if Tags selected)"),(0,n.yg)("p",null,"When syncing Tags, you can choose:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"All Tags"),": Propagate all DataHub Tags to Unity Catalog"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Specific Tags"),": Select only specific Tags for synchronization")),(0,n.yg)("h3",{id:"step-4-configure-connection-settings"},"Step 4: Configure Connection Settings"),(0,n.yg)("p",null,"Complete the Databricks connection configuration:"),(0,n.yg)("h4",{id:"required-connection-details"},"Required Connection Details"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Workspace URL"),": Your Databricks workspace URL (e.g., ",(0,n.yg)("inlineCode",{parentName:"li"},"https://abcsales.cloud.databricks.com"),")"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Warehouse ID"),": The SQL warehouse ID used for executing for metadata operations (e.g., ",(0,n.yg)("inlineCode",{parentName:"li"},"fab3e5fg0bcbfc56"),")"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Token"),": Databricks personal access token or service principal token")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"60%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/databricks-metadata-sync/connection-config.png",alt:"Connection Configuration"})),(0,n.yg)("h4",{id:"test-connection"},"Test Connection"),(0,n.yg)("p",null,"Click ",(0,n.yg)("strong",{parentName:"p"},"Test Connection")," to verify your configuration before proceeding."),(0,n.yg)("h3",{id:"step-5-configure-automation-details"},"Step 5: Configure Automation Details"),(0,n.yg)("p",null,"Provide automation metadata:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Name"),': Descriptive name for your automation (e.g., "Databricks Metadata Sync")'),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Description"),": Details about the automation's purpose and scope"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Category"),": Select an appropriate category for organization")),(0,n.yg)("p",null,"Click ",(0,n.yg)("strong",{parentName:"p"},"Save and Run")," to activate the automation and begin real-time synchronization."),(0,n.yg)("h2",{id:"historical-data-synchronization"},"Historical Data Synchronization"),(0,n.yg)("h3",{id:"initializing-existing-assets"},"Initializing Existing Assets"),(0,n.yg)("p",null,"For environments with existing DataHub metadata, you can perform a one-time backfill to ensure all current Tags and Descriptions from DataHub are propagated to Unity Catalog. Depending on the number of assets, this might take a while!"),(0,n.yg)("h4",{id:"initialization-process"},"Initialization Process"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Navigate to your created Databricks Metadata Sync automation"),(0,n.yg)("li",{parentName:"ol"},"Click the three-dot ",(0,n.yg)("strong",{parentName:"li"},"More")," menu next to the automation")),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-more-menu.png",alt:"Automation More Menu"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},"Select ",(0,n.yg)("strong",{parentName:"li"},"Initialize")," from the dropdown menu")),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-initialize.png",alt:"Initialize Automation"})),(0,n.yg)("admonition",{title:"Initialization Timeline",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"The initialization process duration depends on the volume of Unity Catalog assets in your environment. Large catalogs with extensive metadata may require significant processing time.")),(0,n.yg)("h2",{id:"validating-the-integration"},"Validating the Integration"),(0,n.yg)("h3",{id:"viewing-synced-metadata"},"Viewing Synced Metadata"),(0,n.yg)("p",null,"Confirm successful metadata syncing by examining Unity Catalog objects:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Access Databricks UI"),": Navigate to your Databricks workspace"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Browse Catalog"),": Open the Unity Catalog explorer"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Inspect Objects"),": Select tables or columns to view applied tags and comments")),(0,n.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,n.yg)("h3",{id:"common-issues-and-solutions"},"Common Issues and Solutions"),(0,n.yg)("h4",{id:"permission-errors"},"Permission Errors"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Verify service principal has all required Unity Catalog permissions"),(0,n.yg)("li",{parentName:"ul"},"Confirm catalog and schema access rights"),(0,n.yg)("li",{parentName:"ul"},"Check tag creation and application privileges")),(0,n.yg)("h4",{id:"connection-issues"},"Connection Issues"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Validate Databricks workspace URL format"),(0,n.yg)("li",{parentName:"ul"},"Ensure access token is valid and not expired"),(0,n.yg)("li",{parentName:"ul"},"Verify warehouse ID is correct and accessible"),(0,n.yg)("li",{parentName:"ul"},"Check network connectivity between DataHub and Databricks")),(0,n.yg)("h4",{id:"synchronization-failures"},"Synchronization Failures"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Check Unity Catalog object permissions"),(0,n.yg)("li",{parentName:"ul"},"Verify target objects exist and are accessible"),(0,n.yg)("li",{parentName:"ul"},"Ensure warehouse is running and available")),(0,n.yg)("h3",{id:"support-resources"},"Support Resources"),(0,n.yg)("p",null,"For additional assistance with Databricks Metadata Sync, contact your DataHub Cloud representative."),(0,n.yg)("h2",{id:"faq"},"FAQ"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Where should I manage Tags & Descriptions?"))),(0,n.yg)("p",null,"In general, we recommend centrally authoring Tags and Descriptions within DataHub. This allows you to maintain a clear and consistent governance posture across ",(0,n.yg)("em",{parentName:"p"},"all")," of your data sources and data products - there is always data outside of Databricks! Authoring this critical information in DataHub also improves the experience for your data practicioners trying to find the right data."),(0,n.yg)("p",null,'This automation is intended to enable this style of management, allowing you to "push down" metadata from the central catalog into Databricks, where your data is stored and queried.'),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"How does DataHub represent key-value tags from Databricks?"))),(0,n.yg)("p",null,"During ingestion from ",(0,n.yg)("a",{parentName:"p",href:"/docs/generated/ingestion/sources/databricks"},"Databricks"),", DataHub can ingest tags and descriptions that were originally authored within Databricks. DataHub converts key-value formatted tags in Databricks into DataHub tags of the format: ",(0,n.yg)("inlineCode",{parentName:"p"},"key:value"),". For example, if you have a tag with key ",(0,n.yg)("inlineCode",{parentName:"p"},"has_pii")," and value ",(0,n.yg)("inlineCode",{parentName:"p"},"true")," in Databricks, this will be ingested as a single combined tag named ",(0,n.yg)("inlineCode",{parentName:"p"},"has_pii: true")," in DataHub."),(0,n.yg)("p",null,"After ingestion into DataHub, you can apply this tag to tables or columns and sync it back to Databricks using this automation. Any tag with the format ",(0,n.yg)("inlineCode",{parentName:"p"},"key:value")," that is applied on DataHub will be synced back to Databricks in proper key, value form."),(0,n.yg)("p",null,"If you apply a tag without a separator colon in DataHub (e.g. ",(0,n.yg)("inlineCode",{parentName:"p"},"has_pii"),"), it will be synced back to Databricks with the key being ",(0,n.yg)("inlineCode",{parentName:"p"},"has_pii")," and value being empty."),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"I updated a table description in ",(0,n.yg)("em",{parentName:"strong"},"Databricks"),", but I don't see it reflecting after ingestion into DataHub. Why not?"))),(0,n.yg)("p",null,"This is usually because you've already overridden the description inside DataHub for this table. DataHub assumes that ",(0,n.yg)("em",{parentName:"p"},"it")," will be the source of truth for documentation, which means that any edits that have taken place in the DataHub UI (or via API) will take precedent over changes provided in Databricks. When you change the description in DataHub, the description change will overwrite the latest description in Databricks if this automation is enabled."),(0,n.yg)("p",null,"But fear not - you can always view the original underlying Databricks description underneath the DataHub description in the DataHub UI, even when it changes."),(0,n.yg)("ol",{start:4},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Can I sync DataHub Structured Properties or Glossary Terms back to Databricks as Tags?"))),(0,n.yg)("p",null,"Currently, no. Sync back is limited to Tags, to keep the concepts aligned more simply across both platforms. Reach out if you'd benefit from this capability!"))}d.isMDXComponent=!0}}]);