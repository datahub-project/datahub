"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[79522],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>y});var n=a(96540);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),g=u(a),d=l,y=g["".concat(s,".").concat(d)]||g[d]||c[d]||i;return a?n.createElement(y,r(r({ref:t},p),{},{components:a})):n.createElement(y,r({ref:t},p))}));function y(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[g]="string"==typeof e?e:l,r[1]=o;for(var u=2;u<i;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},14466:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>y,frontMatter:()=>o,metadata:()=>u,toc:()=>g});a(96540);var n=a(15680);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}const o={title:"DataHub Agent Context",sidebar_label:"Agent Context",slug:"/datahub-agent-context",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/datahub-agent-context/README.md"},s="DataHub Agent Context",u={unversionedId:"datahub-agent-context/README",id:"datahub-agent-context/README",title:"DataHub Agent Context",description:"DataHub Agent Context provides a collection of tools and utilities for building AI agents that interact with DataHub metadata. This package contains MCP (Model Context Protocol) tools that enable AI agents to search, retrieve, and manipulate metadata in DataHub. These can be used directly to create an agent, or be included in an MCP server such as Datahub's open source MCP server.",source:"@site/genDocs/datahub-agent-context/README.md",sourceDirName:"datahub-agent-context",slug:"/datahub-agent-context",permalink:"/docs/datahub-agent-context",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/datahub-agent-context/README.md",tags:[],version:"current",frontMatter:{title:"DataHub Agent Context",sidebar_label:"Agent Context",slug:"/datahub-agent-context",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/datahub-agent-context/README.md"}},p={},g=[{value:"Features",id:"features",level:2},{value:"Installation",id:"installation",level:2},{value:"Base Installation",id:"base-installation",level:3},{value:"With LangChain Support",id:"with-langchain-support",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Basic Example",id:"basic-example",level:3},{value:"LangChain Integration",id:"langchain-integration",level:3},{value:"Available Tools",id:"available-tools",level:3},{value:"Search Tools",id:"search-tools",level:4},{value:"Entity Tools",id:"entity-tools",level:4},{value:"Lineage Tools",id:"lineage-tools",level:4},{value:"Query Tools",id:"query-tools",level:4},{value:"Mutation Tools",id:"mutation-tools",level:4},{value:"User Tools",id:"user-tools",level:4},{value:"Architecture",id:"architecture",level:2},{value:"Development",id:"development",level:2},{value:"Setup",id:"setup",level:3},{value:"Testing",id:"testing",level:3},{value:"Support",id:"support",level:2}],c={toc:g},d="wrapper";function y(e){var{components:t}=e,a=r(e,["components"]);return(0,n.yg)(d,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){l(e,t,a[t])}))}return e}({},c,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"datahub-agent-context"},"DataHub Agent Context"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"DataHub Agent Context")," provides a collection of tools and utilities for building AI agents that interact with DataHub metadata. This package contains MCP (Model Context Protocol) tools that enable AI agents to search, retrieve, and manipulate metadata in DataHub. These can be used directly to create an agent, or be included in an MCP server such as Datahub's open source MCP server."),(0,n.yg)("h2",{id:"features"},"Features"),(0,n.yg)("h2",{id:"installation"},"Installation"),(0,n.yg)("h3",{id:"base-installation"},"Base Installation"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-shell"},"python3 -m pip install --upgrade pip wheel setuptools\npython3 -m pip install --upgrade datahub-agent-context\n")),(0,n.yg)("h3",{id:"with-langchain-support"},"With LangChain Support"),(0,n.yg)("p",null,"For building LangChain agents with pre-built tools:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-shell"},'python3 -m pip install --upgrade "datahub-agent-context[langchain]"\n')),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("p",null,"This package requires:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Python 3.9 or higher"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"acryl-datahub")," package")),(0,n.yg)("h2",{id:"quick-start"},"Quick Start"),(0,n.yg)("h3",{id:"basic-example"},"Basic Example"),(0,n.yg)("p",null,"These tools are designed to be used with an AI agent and have the responses passed directly to an LLM, so the return schema is a simple dict, but they can be used independently if desired."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.ingestion.graph.client import DataHubGraph\nfrom datahub_agent_context.mcp_tools.search import search\nfrom datahub_agent_context.mcp_tools.entities import get_entities\n\n# Initialize DataHub graph client\nclient = DataHubClient.from_env()\n\n# Search for datasets\nwith client as client:\n    results = search(\n        query="user_data",\n        filters={"entity_type": ["dataset"]},\n        num_results=10\n    )\n\n# Get detailed entity information\nwith client as client:\n    entities = get_entities(\n        urns=[result["entity"]["urn"] for result in results["searchResults"]]\n    )\n')),(0,n.yg)("h3",{id:"langchain-integration"},"LangChain Integration"),(0,n.yg)("p",null,"Build AI agents with pre-built LangChain tools:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk.main_client import DataHubClient\nfrom datahub_agent_context.langchain_tools import build_langchain_tools\nfrom langchain.agents import create_agent\n\n# Initialize DataHub client\nclient = DataHubClient.from_env()\n\n# Build all tools (read-only by default)\ntools = build_langchain_tools(client, include_mutations=False)\n\n# Or include mutation tools for tagging, descriptions, etc.\ntools = build_langchain_tools(client, include_mutations=True)\n\n# Create agent\nagent = create_agent(model, tools=tools, system_prompt="...")\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"See ",(0,n.yg)("a",{parentName:"strong",href:"https://github.com/datahub-project/datahub/blob/master/datahub-agent-context/examples/langchain/"},"examples/langchain/"))," for complete LangChain agent examples including:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/datahub-agent-context/examples/langchain/simple_search.py"},"simple_search.py")," - Minimal example with AWS Bedrock")),(0,n.yg)("h3",{id:"available-tools"},"Available Tools"),(0,n.yg)("h4",{id:"search-tools"},"Search Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"search()")," - Search across all entity types with filters and sorting"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"search_documents()")," - Search specifically for Document entities"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"grep_documents()")," - Grep for patterns in document content")),(0,n.yg)("h4",{id:"entity-tools"},"Entity Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"get_entities()")," - Get detailed information about entities by URN"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"list_schema_fields()")," - List and filter schema fields for datasets")),(0,n.yg)("h4",{id:"lineage-tools"},"Lineage Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"get_lineage()")," - Get upstream or downstream lineage"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"get_lineage_paths_between()")," - Get detailed paths between two entities")),(0,n.yg)("h4",{id:"query-tools"},"Query Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"get_dataset_queries()")," - Get SQL queries for datasets or columns")),(0,n.yg)("h4",{id:"mutation-tools"},"Mutation Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"add_tags()"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"remove_tags()")," - Manage tags"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"update_description()")," - Update entity descriptions"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"set_domains()"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"remove_domains()")," - Manage domains"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"add_owners()"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"remove_owners()")," - Manage owners"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"add_glossary_terms()"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"remove_glossary_terms()")," - Manage glossary terms"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"add_structured_properties()"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"remove_structured_properties()")," - Manage structured properties"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"save_document()")," - Save or update a Document.")),(0,n.yg)("h4",{id:"user-tools"},"User Tools"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"get_me()")," - Get information about the authenticated user")),(0,n.yg)("h2",{id:"architecture"},"Architecture"),(0,n.yg)("p",null,"The package is organized into the following modules:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"mcp_tools/")," - Core MCP tool implementations",(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"base.py")," - Base GraphQL execution and response cleaning"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"search.py")," - Search functionality"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"documents.py")," - Document search and grep"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"entities.py")," - Entity retrieval"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"lineage.py")," - Lineage querying"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"queries.py")," - Query retrieval"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"tags.py"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"descriptions.py"),", ",(0,n.yg)("inlineCode",{parentName:"li"},"domains.py"),", etc. - Mutation tools"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"helpers.py")," - Shared utility functions"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"gql/")," - GraphQL query definitions")))),(0,n.yg)("h2",{id:"development"},"Development"),(0,n.yg)("h3",{id:"setup"},"Setup"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-shell"},"# Clone the repository\ngit clone https://github.com/datahub-project/datahub.git\ncd datahub/datahub-agent-context\n\n# Set up development environment\n./gradlew :datahub-agent-context:installDev\n\n# Run tests\n./gradlew :datahub-agent-context:testFull\n\n# Run linting\n./gradlew :datahub-agent-context:lintFix\n")),(0,n.yg)("h3",{id:"testing"},"Testing"),(0,n.yg)("p",null,"The package includes comprehensive unit tests for all tools:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-shell"},"# Run full test suite\n./gradlew :datahub-agent-context:testFull\n")),(0,n.yg)("h2",{id:"support"},"Support"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://datahubproject.io/docs/"},"Documentation")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://datahub.com/slack"},"Slack Community")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/issues"},"GitHub Issues"))))}y.isMDXComponent=!0}}]);