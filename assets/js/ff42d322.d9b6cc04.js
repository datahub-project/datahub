"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[21562],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>y});var a=n(96540);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},g=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),c=u(n),d=i,y=c["".concat(s,".").concat(d)]||c[d]||p[d]||r;return n?a.createElement(y,l(l({ref:t},g),{},{components:n})):a.createElement(y,l({ref:t},g))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[c]="string"==typeof e?e:i,l[1]=o;for(var u=2;u<r;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},84253:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>s,default:()=>y,frontMatter:()=>o,metadata:()=>u,toc:()=>c});n(96540);var a=n(15680);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const o={title:"DataHubClientV2 Configuration",slug:"/metadata-integration/java/docs/sdk-v2/client",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/client.md"},s="DataHubClientV2 Configuration",u={unversionedId:"metadata-integration/java/docs/sdk-v2/client",id:"metadata-integration/java/docs/sdk-v2/client",title:"DataHubClientV2 Configuration",description:"The DataHubClientV2 is the primary entry point for interacting with DataHub using SDK V2. This guide covers client configuration, connection management, and operation modes.",source:"@site/genDocs/metadata-integration/java/docs/sdk-v2/client.md",sourceDirName:"metadata-integration/java/docs/sdk-v2",slug:"/metadata-integration/java/docs/sdk-v2/client",permalink:"/docs/metadata-integration/java/docs/sdk-v2/client",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/client.md",tags:[],version:"current",frontMatter:{title:"DataHubClientV2 Configuration",slug:"/metadata-integration/java/docs/sdk-v2/client",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/client.md"},sidebar:"overviewSidebar",previous:{title:"Getting Started with Java SDK V2",permalink:"/docs/metadata-integration/java/docs/sdk-v2/getting-started"},next:{title:"Entities Overview",permalink:"/docs/metadata-integration/java/docs/sdk-v2/entities-overview"}},g={},c=[{value:"Creating a Client",id:"creating-a-client",level:2},{value:"Basic Configuration",id:"basic-configuration",level:3},{value:"With Authentication",id:"with-authentication",level:3},{value:"From Environment Variables",id:"from-environment-variables",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Timeouts",id:"timeouts",level:3},{value:"Retries",id:"retries",level:3},{value:"SSL Certificate Verification",id:"ssl-certificate-verification",level:3},{value:"Operation Modes",id:"operation-modes",level:2},{value:"SDK Mode (Default)",id:"sdk-mode-default",level:3},{value:"INGESTION Mode",id:"ingestion-mode",level:3},{value:"Mode Comparison",id:"mode-comparison",level:3},{value:"Async Mode Control (The Escape Hatch)",id:"async-mode-control-the-escape-hatch",level:2},{value:"Force Synchronous in INGESTION Mode",id:"force-synchronous-in-ingestion-mode",level:3},{value:"Force Asynchronous in SDK Mode",id:"force-asynchronous-in-sdk-mode",level:3},{value:"Decision Guide",id:"decision-guide",level:3},{value:"Testing the Connection",id:"testing-the-connection",level:2},{value:"Client Lifecycle",id:"client-lifecycle",level:2},{value:"Resource Management",id:"resource-management",level:3},{value:"Manual Closing",id:"manual-closing",level:3},{value:"Advanced Configuration",id:"advanced-configuration",level:2},{value:"Complete Configuration Example",id:"complete-configuration-example",level:3},{value:"Accessing the Underlying RestEmitter",id:"accessing-the-underlying-restemitter",level:3},{value:"Entity Operations",id:"entity-operations",level:2},{value:"CRUD Operations",id:"crud-operations",level:3},{value:"Configuration Best Practices",id:"configuration-best-practices",level:2},{value:"Production Deployment",id:"production-deployment",level:3},{value:"ETL Pipeline",id:"etl-pipeline",level:3},{value:"Critical Data Migration",id:"critical-data-migration",level:3},{value:"Local Development",id:"local-development",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Connection Refused",id:"connection-refused",level:3},{value:"Authentication Failed",id:"authentication-failed",level:3},{value:"Timeout",id:"timeout",level:3},{value:"SSL Certificate Error",id:"ssl-certificate-error",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"API Reference",id:"api-reference",level:2}],p={toc:c},d="wrapper";function y(e){var{components:t}=e,n=l(e,["components"]);return(0,a.yg)(d,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},p,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"datahubclientv2-configuration"},"DataHubClientV2 Configuration"),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"DataHubClientV2")," is the primary entry point for interacting with DataHub using SDK V2. This guide covers client configuration, connection management, and operation modes."),(0,a.yg)("h2",{id:"creating-a-client"},"Creating a Client"),(0,a.yg)("h3",{id:"basic-configuration"},"Basic Configuration"),(0,a.yg)("p",null,"The minimal configuration requires only a server URL:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'import datahub.client.v2.DataHubClientV2;\n\nDataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .build();\n')),(0,a.yg)("h3",{id:"with-authentication"},"With Authentication"),(0,a.yg)("p",null,"For DataHub Cloud or secured instances, provide a personal access token:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("https://your-instance.acryl.io")\n    .token("your-personal-access-token")\n    .build();\n')),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"Getting a Token:")," In DataHub UI \u2192 Settings \u2192 Access Tokens \u2192 Generate Personal Access Token")),(0,a.yg)("h3",{id:"from-environment-variables"},"From Environment Variables"),(0,a.yg)("p",null,"Configure the client using environment variables:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"export DATAHUB_SERVER=http://localhost:8080\nexport DATAHUB_TOKEN=your-token-here\n")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},"DataHubClientConfig V2 config = DataHubClientConfigV2.fromEnv();\nDataHubClientV2 client = new DataHubClientV2(config);\n")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Supported environment variables:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_SERVER")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_GMS_URL")," - Server URL (required)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_TOKEN")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_GMS_TOKEN")," - Authentication token (optional)")),(0,a.yg)("h2",{id:"configuration-options"},"Configuration Options"),(0,a.yg)("h3",{id:"timeouts"},"Timeouts"),(0,a.yg)("p",null,"Configure request timeouts to handle slow networks:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .timeoutMs(30000)  // 30 seconds\n    .build();\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Default:")," 10 seconds (10000ms)"),(0,a.yg)("h3",{id:"retries"},"Retries"),(0,a.yg)("p",null,"Configure automatic retries for failed requests:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .maxRetries(5)  // Retry up to 5 times\n    .build();\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Default:")," 3 retries"),(0,a.yg)("h3",{id:"ssl-certificate-verification"},"SSL Certificate Verification"),(0,a.yg)("p",null,"For testing environments, you can disable SSL verification:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("https://localhost:8443")\n    .disableSslVerification(true)  // WARNING: Only for testing!\n    .build();\n')),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"Warning:")," Never disable SSL verification in production! This makes your connection vulnerable to man-in-the-middle attacks.")),(0,a.yg)("h2",{id:"operation-modes"},"Operation Modes"),(0,a.yg)("p",null,"SDK V2 supports two distinct operation modes that control how metadata is written to DataHub:"),(0,a.yg)("h3",{id:"sdk-mode-default"},"SDK Mode (Default)"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Use for:")," Interactive applications, user-initiated metadata edits, real-time UI updates"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Behavior:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Writes to ",(0,a.yg)("strong",{parentName:"li"},"editable aspects")," (e.g., ",(0,a.yg)("inlineCode",{parentName:"li"},"editableDatasetProperties"),")"),(0,a.yg)("li",{parentName:"ul"},"Uses ",(0,a.yg)("strong",{parentName:"li"},"synchronous DB writes")," for immediate consistency"),(0,a.yg)("li",{parentName:"ul"},"Returns only after metadata is committed to database")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(DataHubClientConfigV2.OperationMode.SDK)  // Default\n    .build();\n\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\ndataset.setDescription("User-provided description");\nclient.entities().upsert(dataset);\n// Writes to editableDatasetProperties synchronously\n// Metadata immediately visible after return\n')),(0,a.yg)("h3",{id:"ingestion-mode"},"INGESTION Mode"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Use for:")," ETL pipelines, data ingestion jobs, automated metadata collection, batch processing"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Behavior:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Writes to ",(0,a.yg)("strong",{parentName:"li"},"system aspects")," (e.g., ",(0,a.yg)("inlineCode",{parentName:"li"},"datasetProperties"),")"),(0,a.yg)("li",{parentName:"ul"},"Uses ",(0,a.yg)("strong",{parentName:"li"},"asynchronous Kafka writes")," for high throughput"),(0,a.yg)("li",{parentName:"ul"},"Returns immediately after message is queued")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(DataHubClientConfigV2.OperationMode.INGESTION)\n    .build();\n\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\ndataset.setDescription("Ingested from Snowflake");\nclient.entities().upsert(dataset);\n// Writes to datasetProperties asynchronously via Kafka\n// High throughput for batch ingestion\n')),(0,a.yg)("h3",{id:"mode-comparison"},"Mode Comparison"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Aspect"),(0,a.yg)("th",{parentName:"tr",align:null},"SDK Mode"),(0,a.yg)("th",{parentName:"tr",align:null},"INGESTION Mode"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Target Aspects")),(0,a.yg)("td",{parentName:"tr",align:null},"Editable aspects"),(0,a.yg)("td",{parentName:"tr",align:null},"System aspects")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Write Path")),(0,a.yg)("td",{parentName:"tr",align:null},"Synchronous (direct to DB)"),(0,a.yg)("td",{parentName:"tr",align:null},"Asynchronous (via Kafka)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Consistency")),(0,a.yg)("td",{parentName:"tr",align:null},"Immediate (linearizable)"),(0,a.yg)("td",{parentName:"tr",align:null},"Eventual (async processing)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Throughput")),(0,a.yg)("td",{parentName:"tr",align:null},"Lower (waits for DB)"),(0,a.yg)("td",{parentName:"tr",align:null},"Higher (queued)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Use Case")),(0,a.yg)("td",{parentName:"tr",align:null},"User edits via UI/API"),(0,a.yg)("td",{parentName:"tr",align:null},"Pipeline metadata extraction")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Precedence")),(0,a.yg)("td",{parentName:"tr",align:null},"Higher (overrides system)"),(0,a.yg)("td",{parentName:"tr",align:null},"Lower (overridden by user edits)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Example Aspects")),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"editableDatasetProperties")),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"datasetProperties"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Latency")),(0,a.yg)("td",{parentName:"tr",align:null},"~100-500ms"),(0,a.yg)("td",{parentName:"tr",align:null},"~10-50ms (queueing only)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("strong",{parentName:"td"},"Error Handling")),(0,a.yg)("td",{parentName:"tr",align:null},"Immediate feedback"),(0,a.yg)("td",{parentName:"tr",align:null},"Eventual (check logs)")))),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Why two modes?")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Clear provenance"),": Distinguish human edits from machine-generated metadata"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Non-destructive updates"),": Ingestion can refresh without clobbering user documentation"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"UI consistency"),": DataHub UI shows editable aspects as user overrides"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Performance optimization"),": Async ingestion for high-volume batch writes, sync for interactive edits")),(0,a.yg)("h2",{id:"async-mode-control-the-escape-hatch"},"Async Mode Control (The Escape Hatch)"),(0,a.yg)("p",null,"By default, the async mode is automatically inferred from your operation mode:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"SDK mode \u2192 synchronous writes (immediate consistency)"),(0,a.yg)("li",{parentName:"ul"},"INGESTION mode \u2192 asynchronous writes (high throughput)")),(0,a.yg)("p",null,"However, you can explicitly override this behavior using the ",(0,a.yg)("inlineCode",{parentName:"p"},"asyncIngest")," parameter when you need full control:"),(0,a.yg)("h3",{id:"force-synchronous-in-ingestion-mode"},"Force Synchronous in INGESTION Mode"),(0,a.yg)("p",null,"For pipelines that need immediate consistency guarantees:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(DataHubClientConfigV2.OperationMode.INGESTION)\n    .asyncIngest(false)  // Override: force synchronous despite INGESTION mode\n    .build();\n\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\ndataset.setDescription("Ingested description");\nclient.entities().upsert(dataset);\n// Writes to datasetProperties synchronously, waits for DB commit\n// Use when you need guaranteed consistency before proceeding\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Use cases:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Critical ingestion jobs where you must verify writes succeeded"),(0,a.yg)("li",{parentName:"ul"},"Sequential processing where each step depends on previous writes"),(0,a.yg)("li",{parentName:"ul"},"Testing scenarios requiring deterministic behavior"),(0,a.yg)("li",{parentName:"ul"},"Compliance workflows requiring audit trail confirmation")),(0,a.yg)("h3",{id:"force-asynchronous-in-sdk-mode"},"Force Asynchronous in SDK Mode"),(0,a.yg)("p",null,"For high-volume SDK operations that can tolerate eventual consistency:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(DataHubClientConfigV2.OperationMode.SDK)\n    .asyncIngest(true)  // Override: force async despite SDK mode\n    .build();\n\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\ndataset.setDescription("User-provided description");\nclient.entities().upsert(dataset);\n// Writes to editableDatasetProperties via Kafka for higher throughput\n// Trade immediate consistency for performance\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Use cases:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Bulk metadata updates from admin tools"),(0,a.yg)("li",{parentName:"ul"},"Migration scripts moving large volumes of data"),(0,a.yg)("li",{parentName:"ul"},"Performance-critical batch operations"),(0,a.yg)("li",{parentName:"ul"},"Load testing and benchmarking")),(0,a.yg)("h3",{id:"decision-guide"},"Decision Guide"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Scenario"),(0,a.yg)("th",{parentName:"tr",align:null},"Operation Mode"),(0,a.yg)("th",{parentName:"tr",align:null},"asyncIngest"),(0,a.yg)("th",{parentName:"tr",align:null},"Result"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"User edits in web UI"),(0,a.yg)("td",{parentName:"tr",align:null},"SDK"),(0,a.yg)("td",{parentName:"tr",align:null},"(default)"),(0,a.yg)("td",{parentName:"tr",align:null},"Sync writes to editable aspects")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"ETL pipeline ingestion"),(0,a.yg)("td",{parentName:"tr",align:null},"INGESTION"),(0,a.yg)("td",{parentName:"tr",align:null},"(default)"),(0,a.yg)("td",{parentName:"tr",align:null},"Async writes to system aspects")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Critical data migration"),(0,a.yg)("td",{parentName:"tr",align:null},"INGESTION"),(0,a.yg)("td",{parentName:"tr",align:null},"false"),(0,a.yg)("td",{parentName:"tr",align:null},"Sync writes to system aspects")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},"Bulk admin updates"),(0,a.yg)("td",{parentName:"tr",align:null},"SDK"),(0,a.yg)("td",{parentName:"tr",align:null},"true"),(0,a.yg)("td",{parentName:"tr",align:null},"Async writes to editable aspects")))),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Default behavior is best for 95% of use cases.")," Only use explicit ",(0,a.yg)("inlineCode",{parentName:"p"},"asyncIngest")," when you have specific performance or consistency requirements."),(0,a.yg)("h2",{id:"testing-the-connection"},"Testing the Connection"),(0,a.yg)("p",null,"Verify connectivity before performing operations:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'try {\n    boolean connected = client.testConnection();\n    if (connected) {\n        System.out.println("Connected to DataHub!");\n    } else {\n        System.err.println("Failed to connect");\n    }\n} catch (Exception e) {\n    System.err.println("Connection error: " + e.getMessage());\n}\n')),(0,a.yg)("p",null,"The ",(0,a.yg)("inlineCode",{parentName:"p"},"testConnection()")," method performs a GET request to ",(0,a.yg)("inlineCode",{parentName:"p"},"/config")," endpoint to verify the server is reachable."),(0,a.yg)("h2",{id:"client-lifecycle"},"Client Lifecycle"),(0,a.yg)("h3",{id:"resource-management"},"Resource Management"),(0,a.yg)("p",null,"The client implements ",(0,a.yg)("inlineCode",{parentName:"p"},"AutoCloseable")," for automatic resource management:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'try (DataHubClientV2 client = DataHubClientV2.builder()\n        .server("http://localhost:8080")\n        .build()) {\n\n    // Use client\n    client.entities().upsert(dataset);\n\n} // Client automatically closed\n')),(0,a.yg)("h3",{id:"manual-closing"},"Manual Closing"),(0,a.yg)("p",null,"If not using try-with-resources, explicitly close the client:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .build();\n\ntry {\n    // Use client\n} finally {\n    client.close();  // Release HTTP connections\n}\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Why close?")," Closing the client releases the underlying HTTP connection pool."),(0,a.yg)("h2",{id:"advanced-configuration"},"Advanced Configuration"),(0,a.yg)("h3",{id:"complete-configuration-example"},"Complete Configuration Example"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'import datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.config.DataHubClientConfigV2;\n\nDataHubClientV2 client = DataHubClientV2.builder()\n    // Server configuration\n    .server("https://your-instance.acryl.io")\n    .token("your-personal-access-token")\n\n    // Timeout configuration\n    .timeoutMs(30000)  // 30 seconds\n\n    // Retry configuration\n    .maxRetries(5)\n\n    // Operation mode (SDK or INGESTION)\n    .operationMode(DataHubClientConfigV2.OperationMode.SDK)\n\n    // Async mode control (optional - overrides mode-based default)\n    // .asyncIngest(false)  // Explicit control: true=async, false=sync\n\n    // SSL configuration (testing only!)\n    .disableSslVerification(false)\n\n    .build();\n')),(0,a.yg)("h3",{id:"accessing-the-underlying-restemitter"},"Accessing the Underlying RestEmitter"),(0,a.yg)("p",null,"For advanced use cases, access the low-level REST emitter:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},"RestEmitter emitter = client.getEmitter();\n// Direct access to emission methods\n")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},(0,a.yg)("strong",{parentName:"p"},"Note:")," Most users should use the high-level ",(0,a.yg)("inlineCode",{parentName:"p"},"client.entities()")," API instead.")),(0,a.yg)("h2",{id:"entity-operations"},"Entity Operations"),(0,a.yg)("p",null,"Once configured, use the client to perform entity operations:"),(0,a.yg)("h3",{id:"crud-operations"},"CRUD Operations"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},"// Create/Update (upsert)\nclient.entities().upsert(dataset);\n\n// Update with patches\nclient.entities().update(dataset);\n\n// Read\nDataset loaded = client.entities().get(datasetUrn);\n")),(0,a.yg)("p",null,"See the ",(0,a.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/getting-started"},"Getting Started Guide")," for comprehensive examples."),(0,a.yg)("h2",{id:"configuration-best-practices"},"Configuration Best Practices"),(0,a.yg)("h3",{id:"production-deployment"},"Production Deployment"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server(System.getenv("DATAHUB_SERVER"))\n    .token(System.getenv("DATAHUB_TOKEN"))\n    .timeoutMs(30000)       // Higher timeout for production\n    .maxRetries(5)          // More retries for reliability\n    .operationMode(DataHubClientConfigV2.OperationMode.SDK)\n    .disableSslVerification(false)  // Always verify SSL!\n    .build();\n')),(0,a.yg)("h3",{id:"etl-pipeline"},"ETL Pipeline"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server(System.getenv("DATAHUB_SERVER"))\n    .token(System.getenv("DATAHUB_TOKEN"))\n    .timeoutMs(60000)       // Higher timeout for batch jobs\n    .maxRetries(3)\n    .operationMode(DataHubClientConfigV2.OperationMode.INGESTION)  // Async by default\n    .build();\n')),(0,a.yg)("h3",{id:"critical-data-migration"},"Critical Data Migration"),(0,a.yg)("p",null,"For migrations where you need confirmation before proceeding:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server(System.getenv("DATAHUB_SERVER"))\n    .token(System.getenv("DATAHUB_TOKEN"))\n    .timeoutMs(60000)\n    .maxRetries(5)\n    .operationMode(DataHubClientConfigV2.OperationMode.INGESTION)\n    .asyncIngest(false)     // Force sync for guaranteed consistency\n    .build();\n')),(0,a.yg)("h3",{id:"local-development"},"Local Development"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-java"},'DataHubClientV2 client = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    // No token needed for local quickstart\n    .timeoutMs(10000)\n    .build();\n')),(0,a.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,a.yg)("h3",{id:"connection-refused"},"Connection Refused"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Error:")," ",(0,a.yg)("inlineCode",{parentName:"p"},"java.net.ConnectException: Connection refused")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Verify DataHub server is running"),(0,a.yg)("li",{parentName:"ul"},"Check server URL is correct"),(0,a.yg)("li",{parentName:"ul"},"Ensure port is accessible (firewall rules)")),(0,a.yg)("h3",{id:"authentication-failed"},"Authentication Failed"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Error:")," ",(0,a.yg)("inlineCode",{parentName:"p"},"401 Unauthorized")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Verify token is valid and not expired"),(0,a.yg)("li",{parentName:"ul"},"Check token has correct permissions"),(0,a.yg)("li",{parentName:"ul"},"Ensure token matches the server environment")),(0,a.yg)("h3",{id:"timeout"},"Timeout"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Error:")," ",(0,a.yg)("inlineCode",{parentName:"p"},"java.util.concurrent.TimeoutException")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Increase ",(0,a.yg)("inlineCode",{parentName:"li"},"timeoutMs")," configuration"),(0,a.yg)("li",{parentName:"ul"},"Check network latency to DataHub server"),(0,a.yg)("li",{parentName:"ul"},"Verify server is not overloaded")),(0,a.yg)("h3",{id:"ssl-certificate-error"},"SSL Certificate Error"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Error:")," ",(0,a.yg)("inlineCode",{parentName:"p"},"javax.net.ssl.SSLHandshakeException")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Solutions:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Ensure server SSL certificate is valid"),(0,a.yg)("li",{parentName:"ul"},"Add CA certificate to Java truststore"),(0,a.yg)("li",{parentName:"ul"},"For testing only: use ",(0,a.yg)("inlineCode",{parentName:"li"},"disableSslVerification(true)"))),(0,a.yg)("h2",{id:"next-steps"},"Next Steps"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/entities-overview"},"Entities Overview"))," - Working with different entity types"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity"},"Dataset Entity Guide"))," - Comprehensive dataset operations"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/patch-operations"},"Patch Operations"))," - Efficient incremental updates"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},(0,a.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/getting-started"},"Getting Started Guide"))," - Complete walkthrough")),(0,a.yg)("h2",{id:"api-reference"},"API Reference"),(0,a.yg)("p",null,"For complete API documentation, see:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/datahub-client/src/main/java/datahub/client/v2/DataHubClientV2.java"},"DataHubClientV2.java")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/datahub-client/src/main/java/datahub/client/v2/config/DataHubClientConfigV2.java"},"DataHubClientConfigV2.java"))))}y.isMDXComponent=!0}}]);