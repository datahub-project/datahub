"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[78378],{15680:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>m});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(a),u=r,m=p["".concat(l,".").concat(u)]||p[u]||g[u]||i;return a?n.createElement(m,s(s({ref:t},c),{},{components:a})):n.createElement(m,s({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:r,s[1]=o;for(var d=2;d<i;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},67673:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>p});a(96540);var n=a(15680);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={title:"Entities Overview",slug:"/metadata-integration/java/docs/sdk-v2/entities-overview",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/entities-overview.md"},l="Entities Overview",d={unversionedId:"metadata-integration/java/docs/sdk-v2/entities-overview",id:"metadata-integration/java/docs/sdk-v2/entities-overview",title:"Entities Overview",description:"SDK V2 provides high-level entity classes that represent DataHub metadata entities. This guide covers common patterns across all entity types.",source:"@site/genDocs/metadata-integration/java/docs/sdk-v2/entities-overview.md",sourceDirName:"metadata-integration/java/docs/sdk-v2",slug:"/metadata-integration/java/docs/sdk-v2/entities-overview",permalink:"/docs/metadata-integration/java/docs/sdk-v2/entities-overview",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/entities-overview.md",tags:[],version:"current",frontMatter:{title:"Entities Overview",slug:"/metadata-integration/java/docs/sdk-v2/entities-overview",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/entities-overview.md"},sidebar:"overviewSidebar",previous:{title:"DataHubClientV2 Configuration",permalink:"/docs/metadata-integration/java/docs/sdk-v2/client"},next:{title:"Dataset Entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity"}},c={},p=[{value:"Supported Entities",id:"supported-entities",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Entity Lifecycle",id:"entity-lifecycle",level:3},{value:"URN Management",id:"urn-management",level:3},{value:"Fluent Method Chaining",id:"fluent-method-chaining",level:3},{value:"Three Creation Modes",id:"three-creation-modes",level:3},{value:"Mode 1: From Scratch (Builder)",id:"mode-1-from-scratch-builder",level:4},{value:"Mode 2: Loaded from Server",id:"mode-2-loaded-from-server",level:4},{value:"Mode 3: Reference with Lazy Loading",id:"mode-3-reference-with-lazy-loading",level:4},{value:"Aspect Management",id:"aspect-management",level:2},{value:"Aspect Caching",id:"aspect-caching",level:3},{value:"Lazy Loading",id:"lazy-loading",level:3},{value:"Patch-Based Operations",id:"patch-based-operations",level:2},{value:"Pending Patches",id:"pending-patches",level:3},{value:"Understanding What Gets Sent",id:"understanding-what-gets-sent",level:3},{value:"Mode-Aware Operations",id:"mode-aware-operations",level:2},{value:"Common Metadata Operations",id:"common-metadata-operations",level:2},{value:"Tags",id:"tags",level:3},{value:"Owners",id:"owners",level:3},{value:"Glossary Terms",id:"glossary-terms",level:3},{value:"Domain",id:"domain",level:3},{value:"Custom Properties",id:"custom-properties",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Entity-Specific Guides",id:"entity-specific-guides",level:2}],g={toc:p},u="wrapper";function m(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(u,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},g,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"entities-overview"},"Entities Overview"),(0,n.yg)("p",null,"SDK V2 provides high-level entity classes that represent DataHub metadata entities. This guide covers common patterns across all entity types."),(0,n.yg)("h2",{id:"supported-entities"},"Supported Entities"),(0,n.yg)("p",null,"SDK V2 supports all major DataHub entity types including Dataset, Chart, Dashboard, Container, DataFlow, DataJob, MLModel, and MLModelGroup. Each entity type has a dedicated guide with comprehensive examples and API documentation."),(0,n.yg)("p",null,"See the ",(0,n.yg)("strong",{parentName:"p"},"Entity Guides")," section in the sidebar for the complete list of available entities and their documentation."),(0,n.yg)("h2",{id:"common-patterns"},"Common Patterns"),(0,n.yg)("h3",{id:"entity-lifecycle"},"Entity Lifecycle"),(0,n.yg)("p",null,"All entities follow a consistent lifecycle:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Construction")," - Build entity using fluent builder"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Metadata Addition")," - Add tags, owners, properties via methods"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Persistence")," - Upsert or update to DataHub"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Loading")," - Fetch existing entity from server")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// 1. Construction\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\n// 2. Metadata Addition\ndataset.addTag("pii")\n       .addOwner("urn:li:corpuser:john", OwnershipType.TECHNICAL_OWNER);\n\n// 3. Persistence\nclient.entities().upsert(dataset);\n\n// 4. Loading\nDataset loaded = client.entities().get(datasetUrn);\n')),(0,n.yg)("h3",{id:"urn-management"},"URN Management"),(0,n.yg)("p",null,"Each entity type has a strongly-typed URN class:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Dataset\nDatasetUrn datasetUrn = dataset.getDatasetUrn();\n\n// Chart\nChartUrn chartUrn = chart.getChartUrn();\n\n// Dashboard\nDashboardUrn dashboardUrn = dashboard.getDashboardUrn();\n\n// DataJob\nDataJobUrn dataJobUrn = dataJob.getDataJobUrn();\n\n// Generic access\nUrn genericUrn = entity.getUrn();\n")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"URN Construction:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Built automatically from builder\nDataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("db.schema.table")\n    .env("PROD")\n    .build();\n// URN: urn:li:dataset:(urn:li:dataPlatform:snowflake,db.schema.table,PROD)\n')),(0,n.yg)("h3",{id:"fluent-method-chaining"},"Fluent Method Chaining"),(0,n.yg)("p",null,"All mutation methods return ",(0,n.yg)("inlineCode",{parentName:"p"},"this")," for method chaining:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTag("pii")\n       .addTag("analytics")\n       .addOwner("urn:li:corpuser:owner1", OwnershipType.TECHNICAL_OWNER)\n       .addCustomProperty("team", "data-eng")\n       .setDomain("urn:li:domain:Finance");\n')),(0,n.yg)("h3",{id:"three-creation-modes"},"Three Creation Modes"),(0,n.yg)("h4",{id:"mode-1-from-scratch-builder"},"Mode 1: From Scratch (Builder)"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .description("My description")\n    .build();\n// aspectCache populated with builder aspects\n// pendingPatches empty\n')),(0,n.yg)("h4",{id:"mode-2-loaded-from-server"},"Mode 2: Loaded from Server"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'DatasetUrn urn = new DatasetUrn("snowflake", "my_table", "PROD");\nDataset dataset = client.entities().get(urn);\n// aspectCache populated with server aspects\n// Aspects have timestamps for freshness tracking\n')),(0,n.yg)("h4",{id:"mode-3-reference-with-lazy-loading"},"Mode 3: Reference with Lazy Loading"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Entity bound to client enables lazy loading\nDataset dataset = client.entities().reference(urn);\ndataset.bindToClient(client, mode);\nString desc = dataset.getDescription();  // Fetches on first access\n")),(0,n.yg)("h2",{id:"aspect-management"},"Aspect Management"),(0,n.yg)("h3",{id:"aspect-caching"},"Aspect Caching"),(0,n.yg)("p",null,"Entities cache aspects locally with TTL-based freshness:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Cached aspects with 60-second default TTL\ndataset.setCacheTtlMs(120000);  // 2 minutes\n\n// Check cache status\nMap<String, RecordTemplate> aspects = dataset.getAllAspects();\n")),(0,n.yg)("h3",{id:"lazy-loading"},"Lazy Loading"),(0,n.yg)("p",null,"When bound to a client, aspects are fetched on-demand:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"Dataset dataset = client.entities().get(urn);\n// aspectCache may not have all aspects\n\nString description = dataset.getDescription();\n// Triggers lazy fetch if not cached or expired\n")),(0,n.yg)("h2",{id:"patch-based-operations"},"Patch-Based Operations"),(0,n.yg)("h3",{id:"pending-patches"},"Pending Patches"),(0,n.yg)("p",null,"Mutations accumulate as patches until save:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTag("tag1");     // Creates patch\ndataset.addTag("tag2");     // Creates patch\ndataset.addOwner("user", OwnershipType.TECHNICAL_OWNER);  // Creates patch\n\n// Check pending patches\nboolean hasPending = dataset.hasPendingPatches();\nList<MetadataChangeProposal> patches = dataset.getPendingPatches();\n\n// Emit all patches\nclient.entities().update(dataset);\n\n// Patches cleared after emission\ndataset.clearPendingPatches();\n')),(0,n.yg)("h3",{id:"understanding-what-gets-sent"},"Understanding What Gets Sent"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"upsert()")," method emits everything accumulated on the entity:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Cached aspects")," (from builder)"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Full aspect replacements")," (from ",(0,n.yg)("inlineCode",{parentName:"li"},"set*()")," methods)"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Patches")," (from ",(0,n.yg)("inlineCode",{parentName:"li"},"add*/remove*")," methods)")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"What gets sent depends on how the entity was created and what operations you performed:")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Builder with patches:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .description("Description")\n    .build();\ndataset.addTag("pii");  // Creates patch\nclient.entities().upsert(dataset);  // Sends: cached aspects + tag patch\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Patches only (loaded entity):")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = client.entities().get(urn);\ndataset.addTag("pii");  // Creates patch\nclient.entities().upsert(dataset);  // Sends: tag patch only\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Full aspect replacement:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = client.entities().get(urn);\ndataset.setDescription("New description");  // Creates full aspect MCP\nclient.entities().upsert(dataset);  // Sends: complete description aspect\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Combined operations:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\ndataset.setDescription("Description");  // Full aspect MCP\ndataset.addTag("pii");  // Patch\ndataset.addOwner("user", OwnershipType.TECHNICAL_OWNER);  // Patch\nclient.entities().upsert(dataset);  // Sends: cached aspects + description aspect + 2 patches\n')),(0,n.yg)("h2",{id:"mode-aware-operations"},"Mode-Aware Operations"),(0,n.yg)("p",null,"Entities respect the client's operation mode:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// SDK mode client\nDataHubClientV2 sdkClient = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(OperationMode.SDK)  // Default\n    .build();\n\ndataset.setDescription("User description");\nsdkClient.entities().upsert(dataset);\n// Writes to editableDatasetProperties\n\n// INGESTION mode client\nDataHubClientV2 ingestionClient = DataHubClientV2.builder()\n    .server("http://localhost:8080")\n    .operationMode(OperationMode.INGESTION)\n    .build();\n\ndataset.setDescription("Ingested description");\ningestionClient.entities().upsert(dataset);\n// Writes to datasetProperties\n')),(0,n.yg)("h2",{id:"common-metadata-operations"},"Common Metadata Operations"),(0,n.yg)("h3",{id:"tags"},"Tags"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Add tags\nentity.addTag("pii");\nentity.addTag("urn:li:tag:analytics");\n\n// Remove tags\nentity.removeTag("pii");\n')),(0,n.yg)("h3",{id:"owners"},"Owners"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.common.OwnershipType;\n\n// Add owners\nentity.addOwner("urn:li:corpuser:john", OwnershipType.TECHNICAL_OWNER);\nentity.addOwner("urn:li:corpuser:jane", OwnershipType.DATA_STEWARD);\n\n// Remove owners\nentity.removeOwner("urn:li:corpuser:john");\n')),(0,n.yg)("h3",{id:"glossary-terms"},"Glossary Terms"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Add terms\nentity.addTerm("urn:li:glossaryTerm:CustomerData");\nentity.addTerm("urn:li:glossaryTerm:PII");\n\n// Remove terms\nentity.removeTerm("urn:li:glossaryTerm:CustomerData");\n')),(0,n.yg)("h3",{id:"domain"},"Domain"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Set domain\nentity.setDomain("urn:li:domain:Marketing");\n\n// Remove domain\nentity.removeDomain();\n')),(0,n.yg)("h3",{id:"custom-properties"},"Custom Properties"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Add custom properties\nentity.addCustomProperty("team", "data-engineering");\nentity.addCustomProperty("retention", "90_days");\n\n// Remove custom properties\nentity.removeCustomProperty("retention");\n')),(0,n.yg)("h2",{id:"error-handling"},"Error Handling"),(0,n.yg)("p",null,"Handle exceptions gracefully:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'try {\n    client.entities().upsert(dataset);\n} catch (IOException e) {\n    // Network or serialization errors\n    log.error("I/O error: {}", e.getMessage());\n} catch (ExecutionException e) {\n    // Server-side errors\n    log.error("Server error: {}", e.getCause().getMessage());\n} catch (InterruptedException e) {\n    // Operation cancelled\n    Thread.currentThread().interrupt();\n    log.error("Operation interrupted");\n}\n')),(0,n.yg)("h2",{id:"entity-specific-guides"},"Entity-Specific Guides"),(0,n.yg)("p",null,"Each entity type has a dedicated guide with detailed information including:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"URN structure and construction"),(0,n.yg)("li",{parentName:"ul"},"Entity-specific properties and operations"),(0,n.yg)("li",{parentName:"ul"},"Comprehensive code examples"),(0,n.yg)("li",{parentName:"ul"},"Best practices and common patterns"),(0,n.yg)("li",{parentName:"ul"},"Lineage and relationship management")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"See the Entity Guides section in the sidebar")," for the complete list of available entity documentation."),(0,n.yg)("p",null,"Example guides include ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity"},"Dataset Entity"),", ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/chart-entity"},"Chart Entity"),", ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/dashboard-entity"},"Dashboard Entity"),", and ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-integration/java/docs/sdk-v2/datajob-entity"},"DataJob Entity"),"."))}m.isMDXComponent=!0}}]);