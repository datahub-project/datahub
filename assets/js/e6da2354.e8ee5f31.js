"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[19269],{7653:(e,t,a)=>{a.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(89379),r=a(96540),o=a(7653),s=a(89990),i=function(e,t){return r.createElement(s.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:o.A}))};const l=r.forwardRef(i)},15680:(e,t,a)=>{a.d(t,{xA:()=>d,yg:()=>g});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=c(a),p=r,g=m["".concat(l,".").concat(p)]||m[p]||u[p]||o;return a?n.createElement(g,s(s({ref:t},d),{},{components:a})):n.createElement(g,s({ref:t},d))}));function g(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:r,s[1]=i;for(var c=2;c<o;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},43655:(e,t,a)=>{a.d(t,{A:()=>b});var n=a(96540),r=a(20053);const o="availabilityCard_P5od",s="managedIcon_AxXO",i="platform_wqXv",l="platformAvailable_Y8lN";var c=a(4732),d=a(89379);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var u=a(89990),p=function(e,t){return n.createElement(u.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:m}))};const g=n.forwardRef(p);const h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var y=function(e,t){return n.createElement(u.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:h}))};const f=n.forwardRef(y),b=({saasOnly:e,ossOnly:t})=>n.createElement("div",{className:(0,r.A)(o,"card")},n.createElement("strong",null,"Feature Availability"),n.createElement("div",null,n.createElement("span",{className:(0,r.A)(i,!e&&l)},"Self-Hosted DataHub ",e?n.createElement(c.A,null):n.createElement(g,null))),n.createElement("div",null,n.createElement(f,{className:s}),n.createElement("span",{className:(0,r.A)(i,!t&&l)},"DataHub Cloud ",t?n.createElement(c.A,null):n.createElement(g,null))))},75068:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>u});a(96540);var n=a(15680),r=a(43655);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const l={description:"This page provides an overview of Smart Assertions (AI Anomaly Detection)",title:"Smart Assertions (AI Anomaly Detection) \u26a1",slug:"/managed-datahub/observe/smart-assertions",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/observe/smart-assertions.md"},c="Smart Assertions (AI Anomaly Detection) \u26a1",d={unversionedId:"docs/managed-datahub/observe/smart-assertions",id:"docs/managed-datahub/observe/smart-assertions",title:"Smart Assertions (AI Anomaly Detection) \u26a1",description:"This page provides an overview of Smart Assertions (AI Anomaly Detection)",source:"@site/genDocs/docs/managed-datahub/observe/smart-assertions.md",sourceDirName:"docs/managed-datahub/observe",slug:"/managed-datahub/observe/smart-assertions",permalink:"/docs/managed-datahub/observe/smart-assertions",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/observe/smart-assertions.md",tags:[],version:"current",frontMatter:{description:"This page provides an overview of Smart Assertions (AI Anomaly Detection)",title:"Smart Assertions (AI Anomaly Detection) \u26a1",slug:"/managed-datahub/observe/smart-assertions",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/managed-datahub/observe/smart-assertions.md"},sidebar:"overviewSidebar",previous:{title:"Volume Assertions",permalink:"/docs/managed-datahub/observe/volume-assertions"},next:{title:"Data Health Dashboard",permalink:"/docs/managed-datahub/observe/data-health-dashboard"}},m={},u=[{value:"What are Smart Assertions?",id:"what-are-smart-assertions",level:2},{value:"How do I create Smart Assertions?",id:"how-do-i-create-smart-assertions",level:2},{value:"Improving Smart assertion quality",id:"improving-smart-assertion-quality",level:2},{value:"Tuning",id:"tuning",level:3},{value:"Anomaly Feedback",id:"anomaly-feedback",level:3},{value:"False alarms",id:"false-alarms",level:4},{value:"Missed alarms",id:"missed-alarms",level:4}],p={toc:u},g="wrapper";function h(e){var{components:t}=e,a=i(e,["components"]);return(0,n.yg)(g,s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){o(e,t,a[t])}))}return e}({},p,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"smart-assertions-ai-anomaly-detection-"},"Smart Assertions (AI Anomaly Detection) \u26a1"),(0,n.yg)(r.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,n.yg)("h2",{id:"what-are-smart-assertions"},"What are Smart Assertions?"),(0,n.yg)("p",null,"Smart Assertions are Anomaly Detection monitors that will train on the historical patterns of the data, and make predictions of what 'normal' looks like. They are powered by an incredibly sophisticated ML pipeline, enabling them to account for a large variety of trends in the data, including seasonality."),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"80%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/observe/shared/smart-assertion-example.png"})),(0,n.yg)("h2",{id:"how-do-i-create-smart-assertions"},"How do I create Smart Assertions?"),(0,n.yg)("p",null,"Today, you can create Smart Assertions for 3 types of assertions. To learn more about each one, click the respective links below:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("a",{parentName:"li",href:"/docs/managed-datahub/observe/volume-assertions#anomaly-detection-with-smart-assertions-"},"Volume")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("a",{parentName:"li",href:"/docs/managed-datahub/observe/freshness-assertions#anomaly-detection-with-smart-assertions-"},"Freshness")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("a",{parentName:"li",href:"/docs/managed-datahub/observe/column-assertions#anomaly-detection-with-smart-assertions-"},"Column Metrics"))),(0,n.yg)("p",null,"You can also create Freshness & Volume Smart Assertions in bulk on the ",(0,n.yg)("a",{parentName:"p",href:"/docs/managed-datahub/observe/data-health-dashboard#bulk-create-smart-assertions"},"Data Health page"),":"),(0,n.yg)("div",{align:"center"},(0,n.yg)("iframe",{width:"560",height:"315",src:"https://www.loom.com/embed/f6720541914645aab6b28cdff8695d9f?sid=58dff84d-bb88-4f02-b814-17fb4986ad1f",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})),(0,n.yg)("h2",{id:"improving-smart-assertion-quality"},"Improving Smart assertion quality"),(0,n.yg)("p",null,"You can improve predictions through two key levers:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Tuning"),(0,n.yg)("li",{parentName:"ol"},"Anomaly feedback")),(0,n.yg)("h3",{id:"tuning"},"Tuning"),(0,n.yg)("p",null,"You can fix most Smart Assertions with 3 key actions - correct training data, adjust sensitivity, and increasing the lookback window. Each of these can be accessed via the ",(0,n.yg)("strong",{parentName:"p"},"Tune Predictions")," button on the Assertion Profile, or the ",(0,n.yg)("strong",{parentName:"p"},"Settings tab"),"."),(0,n.yg)("div",{align:"center"},(0,n.yg)("iframe",{width:"560",height:"315",src:"https://www.loom.com/embed/880ce4785b944a50a8662557e2ccf733?sid=192afcf0-7930-4734-9628-dba4b6717495",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Exclusion Windows"),"\nSet time windows to exclude from training data. This can be useful to exclude known maintenance windows or other periods of downtime, seasonal spikes e.g. holidays or any other windows that are not representative of normal data trends."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Sensitivity"),"\nA higher sensitivity will have a tighter fit on the data. A lower sensitivity will allow for more data variation before an anomaly is flagged."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Training data lookback window"),"\nThis is the number of days our ML models will look back to gather training data to generate predictions. If this is too large, we may pick up on old data that is no longer part of the current trend. If it is too short, we may miss key seasonal patterns. You can leverage this alongside exclusion windows to improve the quality of predictions."),(0,n.yg)("h3",{id:"anomaly-feedback"},"Anomaly Feedback"),(0,n.yg)("h4",{id:"false-alarms"},"False alarms"),(0,n.yg)("p",null,"When an anomaly is flagged by the smart assertion, you may hover over the result dot and select ",(0,n.yg)("inlineCode",{parentName:"p"},"Mark as Normal"),". This will include this data point in the training set, and the model will adjust to ensure it does not flag such data points as anomalies again."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"However"),", there are some cases where anomalies are actually expected. For instance, if this is a sudden jump in data, ",(0,n.yg)("strong",{parentName:"p"},"but it will be the new normal moving forward"),", we recommend selecting the ",(0,n.yg)("inlineCode",{parentName:"p"},"Train as new Normal")," option. This will add an exclusion window to all data prior to this run event, and the smart assertion will begin training on data points from this point forward."),(0,n.yg)("h4",{id:"missed-alarms"},"Missed alarms"),(0,n.yg)("p",null,"If an anomaly is not caught by our Smart Assertions, we recommend doing a few things:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"You can click ",(0,n.yg)("inlineCode",{parentName:"li"},"Mark as Anomaly")," to flag this specific data point as an anomaly. This will exclude that data point from the training data."),(0,n.yg)("li",{parentName:"ol"},"You should look back at the historical stats on the ",(0,n.yg)("inlineCode",{parentName:"li"},"Stats")," tab of the table, and see if there were any periods of anomalous data that may be polluting the training set. If so, add an ",(0,n.yg)("inlineCode",{parentName:"li"},"Exclusion Window")," in the ",(0,n.yg)("strong",{parentName:"li"},"Settings tab")," of the assertion, to remove this polluted period of data from the training data."),(0,n.yg)("li",{parentName:"ol"},"Finally, consider increasing the sensitivity of the assertion in the ",(0,n.yg)("strong",{parentName:"li"},"Settings tab")," which will reduce the range of allowable values.")),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"80%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/observe/shared/smart-assertion-feedback.png"})))}h.isMDXComponent=!0}}]);