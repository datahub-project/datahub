"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[71401],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>y});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),g=u(n),d=r,y=g["".concat(s,".").concat(d)]||g[d]||c[d]||o;return n?a.createElement(y,l(l({ref:t},p),{},{components:n})):a.createElement(y,l({ref:t},p))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[g]="string"==typeof e?e:r,l[1]=i;for(var u=2;u<o;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},78001:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>y,frontMatter:()=>i,metadata:()=>u,toc:()=>g});n(96540);var a=n(15680);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const i={title:"DataHub MCP Server",sidebar_label:"MCP Server",slug:"/features/feature-guides/mcp",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/mcp.md"},s="DataHub MCP Server",u={unversionedId:"docs/features/feature-guides/mcp",id:"docs/features/feature-guides/mcp",title:"DataHub MCP Server",description:"The DataHub MCP Server implements the Model Context Protocol (MCP), which standardizes how applications provide context to LLMs and AI agents. This enables AI agents to query DataHub metadata and use it to find relevant assets, traverse lineage, and more.",source:"@site/genDocs/docs/features/feature-guides/mcp.md",sourceDirName:"docs/features/feature-guides",slug:"/features/feature-guides/mcp",permalink:"/docs/features/feature-guides/mcp",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/mcp.md",tags:[],version:"current",frontMatter:{title:"DataHub MCP Server",sidebar_label:"MCP Server",slug:"/features/feature-guides/mcp",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/mcp.md"},sidebar:"overviewSidebar",previous:{title:"Metadata Tests",permalink:"/docs/tests/metadata-tests"},next:{title:"Custom Ownership Types",permalink:"/docs/ownership/ownership-types"}},p={},g=[{value:"Capabilities",id:"capabilities",level:2},{value:"Managed MCP Server Usage",id:"managed-mcp-server-usage",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Configure",id:"configure",level:3},{value:"Self-Hosted MCP Server Usage",id:"self-hosted-mcp-server-usage",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Configure",id:"configure-1",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"<code>spawn uvx ENOENT</code>",id:"spawn-uvx-enoent",level:4}],c={toc:g},d="wrapper";function y(e){var{components:t}=e,n=l(e,["components"]);return(0,a.yg)(d,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},c,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"datahub-mcp-server"},"DataHub MCP Server"),(0,a.yg)("p",null,"The DataHub MCP Server implements the ",(0,a.yg)("a",{parentName:"p",href:"https://modelcontextprotocol.io/introduction"},"Model Context Protocol (MCP)"),", which standardizes how applications provide context to LLMs and AI agents. This enables AI agents to query DataHub metadata and use it to find relevant assets, traverse lineage, and more."),(0,a.yg)("p",null,"Want to learn more about the motivation, architecture, and advanced use cases? Check out our ",(0,a.yg)("a",{parentName:"p",href:"https://datahub.com/blog/datahub-mcp-server-block-ai-agents-use-case/"},"deep dive blog post"),"."),(0,a.yg)("p",null,"There's two ways to use the MCP server, which vary in setup required but offer the same capabilities."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#managed-mcp-server-usage"},"Managed MCP Server")," - Available on DataHub Cloud v0.3.12+"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"#self-hosted-mcp-server-usage"},"Self-Hosted MCP Server")," - Available for DataHub Core")),(0,a.yg)("h2",{id:"capabilities"},"Capabilities"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Search for Data")," ",(0,a.yg)("br",null),"\nFind the right data to use for your projects & analysis by asking questions in plain English - skip the tribal knowledge."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Dive Deeper")," ",(0,a.yg)("br",null),"\nSeparate the signal from noise with rich context about your data, including usage, ownership, documentation, tags, and quality."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Lineage & Impact Analysis")," ",(0,a.yg)("br",null),"\nUnderstand the impact of upcoming changes to tables, reports, and dashboards using DataHub\u2019s end-to-end lineage graph."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Query Analysis & Authoring")," ",(0,a.yg)("br",null),"\nUnderstand how your mission-critical data is typically queried, or build custom queries for your tables."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Works Where You Work")," ",(0,a.yg)("br",null),"\nSeamlessly integrates with AI-native tools like Cursor, Windsurf, Claude Desktop, and OpenAI to supercharge your workflows."),(0,a.yg)("h2",{id:"managed-mcp-server-usage"},"Managed MCP Server Usage"),(0,a.yg)("p",null,"For folks on DataHub Cloud v0.3.12+, you can use our hosted MCP server endpoint."),(0,a.yg)("admonition",{type:"info"},(0,a.yg)("p",{parentName:"admonition"},"The managed MCP server endpoint is only available with DataHub Cloud v0.3.12+. For DataHub Core and older versions of DataHub Cloud, you'll need to ",(0,a.yg)("a",{parentName:"p",href:"#self-hosted-mcp-server-usage"},"self-host the MCP server"),".")),(0,a.yg)("admonition",{title:"Streamable HTTP Only",type:"note"},(0,a.yg)("p",{parentName:"admonition"},"There are two ",(0,a.yg)("a",{parentName:"p",href:"https://modelcontextprotocol.io/docs/concepts/transports"},"transports types")," for remote MCP servers: streamable HTTP and server-sent events (SSE). SSE has been deprecated in favor of streamable HTTP, so DataHub only supports the newer streamable HTTP transport. Some older MCP clients (e.g. chatgpt.com) may still only support SSE. For those cases, you'll need to use something like ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/geelen/mcp-remote"},"mcp-remote")," to bridge the gap.")),(0,a.yg)("h3",{id:"prerequisites"},"Prerequisites"),(0,a.yg)("p",null,"To connect to the MCP server, you'll need the following:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"The URL of your DataHub Cloud instance e.g. ",(0,a.yg)("inlineCode",{parentName:"li"},"https://<tenant>.acryl.io")),(0,a.yg)("li",{parentName:"ul"},"A ",(0,a.yg)("a",{parentName:"li",href:"/docs/authentication/personal-access-tokens"},"personal access token"))),(0,a.yg)("p",null,"Your hosted MCP server URL is ",(0,a.yg)("inlineCode",{parentName:"p"},"https://<tenant>.acryl.io/integrations/ai/mcp/?token=<token>"),"."),(0,a.yg)("details",null,(0,a.yg)("summary",null,"On-Premises DataHub Cloud"),(0,a.yg)("p",null,"For on-premises DataHub Cloud, your hosted MCP server URL is ",(0,a.yg)("inlineCode",{parentName:"p"},"https://<datahub-fqdn>/integrations/ai/mcp/?token=<token>"),"."),(0,a.yg)("p",null,"For example, it might look something like ",(0,a.yg)("inlineCode",{parentName:"p"},"https://datahub.example.com/integrations/ai/mcp/?token=eyJh..."),".")),(0,a.yg)("h3",{id:"configure"},"Configure"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Claude Desktop"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Open your ",(0,a.yg)("inlineCode",{parentName:"li"},"claude_desktop_config.json")," file. You can find it by navigating to Claude Desktop -> Settings -> Developer -> Edit Config."),(0,a.yg)("li",{parentName:"ol"},"Update the file to include the following content. Be sure to replace ",(0,a.yg)("inlineCode",{parentName:"li"},"<tenant>")," and ",(0,a.yg)("inlineCode",{parentName:"li"},"<token>")," with your own values.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "mcpServers": {\n    "datahub-cloud": {\n      "command": "npx",\n      "args": [\n        "-y",\n        "mcp-remote",\n        "https://<tenant>.acryl.io/integrations/ai/mcp/?token=<token>"\n      ]\n    }\n  }\n}\n'))),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Cursor"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Make sure you're using Cursor v1.1 or newer."),(0,a.yg)("li",{parentName:"ol"},"Navigate to Cursor -> Settings -> Cursor Settings -> MCP -> add a new MCP server"),(0,a.yg)("li",{parentName:"ol"},"Enter the following into the file:")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "mcpServers": {\n    "datahub-cloud": {\n      "url": "https://<tenant>.acryl.io/integrations/ai/mcp/?token=<token>"\n    }\n  }\n}\n')),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"Once you've saved the file, confirm that the MCP settings page shows a green dot and a couple tools associated with the server."))),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Other"),(0,a.yg)("p",null,"Most AI tools support remote MCP servers. For those, you'll typically need to:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Provide the hosted MCP server URL: ",(0,a.yg)("inlineCode",{parentName:"li"},"https://<tenant>.acryl.io/integrations/ai/mcp/?token=<token>")),(0,a.yg)("li",{parentName:"ul"},"Ensure that the authentication mode is ",(0,a.yg)("em",{parentName:"li"},"not"),' set to "OAuth" (if applicable)')),(0,a.yg)("p",null,"For AI tools that don't yet support remote MCP servers, you can use the ",(0,a.yg)("inlineCode",{parentName:"p"},"mcp-remote")," tool to connect to the MCP server."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Command: ",(0,a.yg)("inlineCode",{parentName:"li"},"npx")),(0,a.yg)("li",{parentName:"ul"},"Args: ",(0,a.yg)("inlineCode",{parentName:"li"},"-y mcp-remote https://<tenant>.acryl.io/integrations/ai/mcp/?token=<token>")))),(0,a.yg)("h2",{id:"self-hosted-mcp-server-usage"},"Self-Hosted MCP Server Usage"),(0,a.yg)("p",null,"You can run the ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/acryldata/mcp-server-datahub"},"open-source MCP server")," locally."),(0,a.yg)("h3",{id:"prerequisites-1"},"Prerequisites"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Install ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/astral-sh/uv"},(0,a.yg)("inlineCode",{parentName:"a"},"uv"))),(0,a.yg)("pre",{parentName:"li"},(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"# On macOS and Linux.\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n"))),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"For authentication, you'll need the following:"),(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},"The URL of your DataHub instance's GMS endpoint; e.g. ",(0,a.yg)("inlineCode",{parentName:"li"},"http://<localhost>:8080")," or ",(0,a.yg)("inlineCode",{parentName:"li"},"https://<tenant>.acryl.io")),(0,a.yg)("li",{parentName:"ul"},"A ",(0,a.yg)("a",{parentName:"li",href:"/docs/authentication/personal-access-tokens"},"personal access token"))))),(0,a.yg)("h3",{id:"configure-1"},"Configure"),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Claude Desktop"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Run ",(0,a.yg)("inlineCode",{parentName:"p"},"which uvx")," to find the full path to the ",(0,a.yg)("inlineCode",{parentName:"p"},"uvx")," command.")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Open your ",(0,a.yg)("inlineCode",{parentName:"p"},"claude_desktop_config.json")," file. You can find it by navigating to Claude Desktop -> Settings -> Developer -> Edit Config.")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},"Update the file to include the following content. Be sure to replace ",(0,a.yg)("inlineCode",{parentName:"p"},"<tenant>")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"<token>")," with your own values."))),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},'{\n  "mcpServers": {\n    "datahub": {\n      "command": "<full-path-to-uvx>",  // e.g. /Users/hsheth/.local/bin/uvx\n      "args": ["mcp-server-datahub@latest"],\n      "env": {\n        "DATAHUB_GMS_URL": "<your-datahub-url>",\n        "DATAHUB_GMS_TOKEN": "<your-datahub-token>"\n      }\n    }\n  }\n}\n'))),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Cursor"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Navigate to Cursor -> Settings -> Cursor Settings -> MCP -> add a new MCP server"),(0,a.yg)("li",{parentName:"ol"},"Enter the following into the file:")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "mcpServers": {\n    "datahub": {\n      "command": "uvx",\n      "args": ["mcp-server-datahub@latest"],\n      "env": {\n        "DATAHUB_GMS_URL": "<your-datahub-url>",\n        "DATAHUB_GMS_TOKEN": "<your-datahub-token>"\n      }\n    }\n  }\n}\n')),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"Once you've saved the file, confirm that the MCP settings page shows a green dot and a couple tools associated with the server."))),(0,a.yg)("details",null,(0,a.yg)("summary",null,"Other"),(0,a.yg)("p",null,"For other AI tools, you'll typically need to provide the following configuration:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Command: ",(0,a.yg)("inlineCode",{parentName:"li"},"uvx")),(0,a.yg)("li",{parentName:"ul"},"Args: ",(0,a.yg)("inlineCode",{parentName:"li"},"mcp-server-datahub@latest")),(0,a.yg)("li",{parentName:"ul"},"Env:",(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_GMS_URL"),": ",(0,a.yg)("inlineCode",{parentName:"li"},"<your-datahub-url>")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"DATAHUB_GMS_TOKEN"),": ",(0,a.yg)("inlineCode",{parentName:"li"},"<your-datahub-token>")))))),(0,a.yg)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,a.yg)("h4",{id:"spawn-uvx-enoent"},(0,a.yg)("inlineCode",{parentName:"h4"},"spawn uvx ENOENT")),(0,a.yg)("p",null,"The full stack trace might look like this:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'2025-04-08T19:58:16.593Z [datahub] [error] spawn uvx ENOENT {"stack":"Error: spawn uvx ENOENT\\n    at ChildProcess._handle.onexit (node:internal/child_process:285:19)\\n    at onErrorNT (node:internal/child_process:483:16)\\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}\n')),(0,a.yg)("p",null,"Solution: Replace the ",(0,a.yg)("inlineCode",{parentName:"p"},"uvx")," bit of the command with the output of ",(0,a.yg)("inlineCode",{parentName:"p"},"which uvx"),"."))}y.isMDXComponent=!0}}]);