"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[11948],{15680:(e,a,n)=>{n.d(a,{xA:()=>s,yg:()=>c});var t=n(96540);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=t.createContext({}),g=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},s=function(e){var a=g(e.components);return t.createElement(p.Provider,{value:a},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=g(n),d=r,c=u["".concat(p,".").concat(d)]||u[d]||y[d]||i;return n?t.createElement(c,l(l({ref:a},s),{},{components:n})):t.createElement(c,l({ref:a},s))}));function c(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var p in a)hasOwnProperty.call(a,p)&&(o[p]=a[p]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var g=2;g<i;g++)l[g]=n[g];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},89296:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>p,default:()=>c,frontMatter:()=>o,metadata:()=>g,toc:()=>u});n(96540);var t=n(15680);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})),e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const o={title:"Datahub Airflow Plugin",slug:"/metadata-ingestion-modules/airflow-plugin",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion-modules/airflow-plugin/README.md"},p="Datahub Airflow Plugin",g={unversionedId:"metadata-ingestion-modules/airflow-plugin/README",id:"metadata-ingestion-modules/airflow-plugin/README",title:"Datahub Airflow Plugin",description:"See the DataHub Airflow docs for details.",source:"@site/genDocs/metadata-ingestion-modules/airflow-plugin/README.md",sourceDirName:"metadata-ingestion-modules/airflow-plugin",slug:"/metadata-ingestion-modules/airflow-plugin",permalink:"/docs/metadata-ingestion-modules/airflow-plugin",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion-modules/airflow-plugin/README.md",tags:[],version:"current",frontMatter:{title:"Datahub Airflow Plugin",slug:"/metadata-ingestion-modules/airflow-plugin",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion-modules/airflow-plugin/README.md"}},s={},u=[{value:"Version Compatibility",id:"version-compatibility",level:2},{value:"Installation",id:"installation",level:2},{value:"For Airflow 2.x (2.7+)",id:"for-airflow-2x-27",level:3},{value:"Alternative: Using Native OpenLineage Provider on Airflow 2.7+",id:"alternative-using-native-openlineage-provider-on-airflow-27",level:4},{value:"For Airflow 3.x (3.1+)",id:"for-airflow-3x-31",level:3},{value:"What Gets Installed",id:"what-gets-installed",level:3},{value:"Base Installation (No Extras)",id:"base-installation-no-extras",level:4},{value:"With <code>[airflow2]</code> Extra",id:"with-airflow2-extra",level:4},{value:"With <code>[airflow3]</code> Extra",id:"with-airflow3-extra",level:4},{value:"Additional Extras",id:"additional-extras",level:3},{value:"Why Different Extras?",id:"why-different-extras",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Extractor Patching (OpenLineage Enhancements)",id:"extractor-patching-openlineage-enhancements",level:3},{value:"Other Configuration Options",id:"other-configuration-options",level:3},{value:"Developing",id:"developing",level:2}],y={toc:u},d="wrapper";function c(e){var{components:a}=e,n=l(e,["components"]);return(0,t.yg)(d,i(function(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(a){r(e,a,n[a])}))}return e}({},y,n),{components:a,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"datahub-airflow-plugin"},"Datahub Airflow Plugin"),(0,t.yg)("p",null,"See ",(0,t.yg)("a",{parentName:"p",href:"/docs/lineage/airflow"},"the DataHub Airflow docs")," for details."),(0,t.yg)("h2",{id:"version-compatibility"},"Version Compatibility"),(0,t.yg)("p",null,"The plugin supports Apache Airflow versions 2.7+ and 3.1+."),(0,t.yg)("table",null,(0,t.yg)("thead",{parentName:"table"},(0,t.yg)("tr",{parentName:"thead"},(0,t.yg)("th",{parentName:"tr",align:null},"Airflow Version"),(0,t.yg)("th",{parentName:"tr",align:null},"Extra to Install"),(0,t.yg)("th",{parentName:"tr",align:null},"Status"),(0,t.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,t.yg)("tbody",{parentName:"table"},(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:null},"2.7-2.10"),(0,t.yg)("td",{parentName:"tr",align:null},(0,t.yg)("inlineCode",{parentName:"td"},"[airflow2]")),(0,t.yg)("td",{parentName:"tr",align:null},"\u2705 Fully Supported"),(0,t.yg)("td",{parentName:"tr",align:null})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:null},"3.0.x"),(0,t.yg)("td",{parentName:"tr",align:null},(0,t.yg)("inlineCode",{parentName:"td"},"[airflow3]")),(0,t.yg)("td",{parentName:"tr",align:null},"\u26a0\ufe0f Requires manual fix"),(0,t.yg)("td",{parentName:"tr",align:null},"Needs ",(0,t.yg)("inlineCode",{parentName:"td"},"pydantic>=2.11.8")," upgrade")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:null},"3.1+"),(0,t.yg)("td",{parentName:"tr",align:null},(0,t.yg)("inlineCode",{parentName:"td"},"[airflow3]")),(0,t.yg)("td",{parentName:"tr",align:null},"\u2705 Fully Supported"),(0,t.yg)("td",{parentName:"tr",align:null})))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Note on Airflow 3.0.x"),": Airflow 3.0.6 pins pydantic==2.11.7, which contains a bug that prevents the DataHub plugin from importing correctly. This issue is resolved in Airflow 3.1.0+ which uses pydantic>=2.11.8. If you must use Airflow 3.0.6, you can manually upgrade pydantic to >=2.11.8, though this may conflict with Airflow's dependency constraints. We recommend upgrading to Airflow 3.1.0 or later."),(0,t.yg)("p",null,"Related issue: ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/pydantic/pydantic/issues/10963"},"https://github.com/pydantic/pydantic/issues/10963")),(0,t.yg)("h2",{id:"installation"},"Installation"),(0,t.yg)("p",null,"The installation command varies depending on your Airflow version due to different OpenLineage dependencies."),(0,t.yg)("h3",{id:"for-airflow-2x-27"},"For Airflow 2.x (2.7+)"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install 'acryl-datahub-airflow-plugin[airflow2]'\n")),(0,t.yg)("p",null,"This installs the plugin with Legacy OpenLineage (",(0,t.yg)("inlineCode",{parentName:"p"},"openlineage-airflow>=1.2.0"),"), which is required for Airflow 2.x lineage extraction."),(0,t.yg)("h4",{id:"alternative-using-native-openlineage-provider-on-airflow-27"},"Alternative: Using Native OpenLineage Provider on Airflow 2.7+"),(0,t.yg)("p",null,"If your Airflow 2.7+ environment rejects the Legacy OpenLineage package (e.g., due to dependency conflicts), you can use the native OpenLineage provider instead:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# Install the native Airflow provider first\npip install 'apache-airflow-providers-openlineage>=1.0.0'\n\n# Then install the DataHub plugin without OpenLineage extras\npip install acryl-datahub-airflow-plugin\n")),(0,t.yg)("p",null,"The plugin will automatically detect and use ",(0,t.yg)("inlineCode",{parentName:"p"},"apache-airflow-providers-openlineage")," when available, providing the same functionality."),(0,t.yg)("h3",{id:"for-airflow-3x-31"},"For Airflow 3.x (3.1+)"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install 'acryl-datahub-airflow-plugin[airflow3]'\n")),(0,t.yg)("p",null,"This installs the plugin with ",(0,t.yg)("inlineCode",{parentName:"p"},"apache-airflow-providers-openlineage>=1.0.0"),", which is the native OpenLineage provider for Airflow 3.x."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Note"),": If using Airflow 3.0.x (3.0.6 specifically), you'll need to manually upgrade pydantic:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install 'acryl-datahub-airflow-plugin[airflow3]' 'pydantic>=2.11.8'\n")),(0,t.yg)("p",null,"We recommend using Airflow 3.1.0+ which resolves this issue. See the Version Compatibility section above for details."),(0,t.yg)("h3",{id:"what-gets-installed"},"What Gets Installed"),(0,t.yg)("h4",{id:"base-installation-no-extras"},"Base Installation (No Extras)"),(0,t.yg)("p",null,"When you install without any extras:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install acryl-datahub-airflow-plugin\n")),(0,t.yg)("p",null,"You get:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"acryl-datahub[sql-parser,datahub-rest]")," - DataHub SDK with SQL parsing and REST emitter"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"pydantic>=2.4.0")," - Required for data validation"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"apache-airflow>=2.5.0,<4.0.0")," - Airflow itself"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"No OpenLineage package")," - You'll need to provide your own or use one of the extras below")),(0,t.yg)("h4",{id:"with-airflow2-extra"},"With ",(0,t.yg)("inlineCode",{parentName:"h4"},"[airflow2]")," Extra"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install 'acryl-datahub-airflow-plugin[airflow2]'\n")),(0,t.yg)("p",null,"Adds:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"openlineage-airflow>=1.2.0")," - Standalone OpenLineage package for Airflow 2.x")),(0,t.yg)("h4",{id:"with-airflow3-extra"},"With ",(0,t.yg)("inlineCode",{parentName:"h4"},"[airflow3]")," Extra"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"pip install 'acryl-datahub-airflow-plugin[airflow3]'\n")),(0,t.yg)("p",null,"Adds:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"apache-airflow-providers-openlineage>=1.0.0")," - Native OpenLineage provider for Airflow 3.x")),(0,t.yg)("h3",{id:"additional-extras"},"Additional Extras"),(0,t.yg)("p",null,"You can combine multiple extras if needed:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# For Airflow 3.x with Kafka emitter support\npip install 'acryl-datahub-airflow-plugin[airflow3,datahub-kafka]'\n\n# For Airflow 2.x with file emitter support\npip install 'acryl-datahub-airflow-plugin[airflow2,datahub-file]'\n")),(0,t.yg)("p",null,"Available extras:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"airflow2"),": OpenLineage support for Airflow 2.x (adds ",(0,t.yg)("inlineCode",{parentName:"li"},"openlineage-airflow>=1.2.0"),")"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"airflow3"),": OpenLineage support for Airflow 3.x (adds ",(0,t.yg)("inlineCode",{parentName:"li"},"apache-airflow-providers-openlineage>=1.0.0"),")"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"datahub-kafka"),": Kafka-based metadata emission (adds ",(0,t.yg)("inlineCode",{parentName:"li"},"acryl-datahub[datahub-kafka]"),")"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"datahub-file"),": File-based metadata emission (adds ",(0,t.yg)("inlineCode",{parentName:"li"},"acryl-datahub[sync-file-emitter]"),") - useful for testing")),(0,t.yg)("h3",{id:"why-different-extras"},"Why Different Extras?"),(0,t.yg)("p",null,"Airflow 2.x and 3.x have different OpenLineage integrations:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2.x (2.5-2.6)")," typically uses Legacy OpenLineage (",(0,t.yg)("inlineCode",{parentName:"li"},"openlineage-airflow")," package)"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2.x (2.7+)")," can use either Legacy OpenLineage or native OpenLineage Provider (",(0,t.yg)("inlineCode",{parentName:"li"},"apache-airflow-providers-openlineage"),")"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 3.x")," uses native OpenLineage Provider (",(0,t.yg)("inlineCode",{parentName:"li"},"apache-airflow-providers-openlineage"),")")),(0,t.yg)("p",null,"The plugin automatically detects which OpenLineage variant is installed and uses it accordingly. This means:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"With extras")," (",(0,t.yg)("inlineCode",{parentName:"li"},"[airflow2]")," or ",(0,t.yg)("inlineCode",{parentName:"li"},"[airflow3]"),"): The appropriate OpenLineage dependency is installed automatically"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Without extras"),": You provide your own OpenLineage installation, and the plugin auto-detects it")),(0,t.yg)("p",null,"This flexibility allows you to adapt to different Airflow environments and dependency constraints."),(0,t.yg)("h2",{id:"configuration"},"Configuration"),(0,t.yg)("p",null,"The plugin can be configured via ",(0,t.yg)("inlineCode",{parentName:"p"},"airflow.cfg")," under the ",(0,t.yg)("inlineCode",{parentName:"p"},"[datahub]")," section. Below are the key configuration options:"),(0,t.yg)("h3",{id:"extractor-patching-openlineage-enhancements"},"Extractor Patching (OpenLineage Enhancements)"),(0,t.yg)("p",null,"When ",(0,t.yg)("inlineCode",{parentName:"p"},"enable_extractors=True")," (default), the DataHub plugin enhances OpenLineage extractors to provide better lineage. You can fine-tune these enhancements:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-ini"},"[datahub]\n# Enable/disable all OpenLineage extractors\nenable_extractors = True  # Default: True\n\n# Fine-grained control over DataHub's OpenLineage enhancements\n\n# --- SQL Parsing Configuration ---\n\n# Enable multi-statement SQL parsing (resolves temp tables, merges lineage)\nenable_multi_statement_sql_parsing = False  # Default: False\n\n# --- Patches (work with both Legacy OpenLineage and OpenLineage Provider) ---\n\n# Patch SqlExtractor to use DataHub's advanced SQL parser (enables column-level lineage)\npatch_sql_parser = True  # Default: True\n\n# Patch SnowflakeExtractor to fix default schema detection\npatch_snowflake_schema = True  # Default: True\n\n# --- Custom Extractors (only apply to Legacy OpenLineage) ---\n\n# Use DataHub's custom AthenaOperatorExtractor (better Athena lineage)\nextract_athena_operator = True  # Default: True\n\n# Use DataHub's custom BigQueryInsertJobOperatorExtractor (handles BQ job configuration)\nextract_bigquery_insert_job_operator = True  # Default: True\n")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Multi-Statement SQL Parsing:")),(0,t.yg)("p",null,"When ",(0,t.yg)("inlineCode",{parentName:"p"},"enable_multi_statement_sql_parsing=True"),", if a task executes multiple SQL statements (e.g., ",(0,t.yg)("inlineCode",{parentName:"p"},"CREATE TEMP TABLE ...; INSERT ... FROM temp_table;"),"), DataHub parses all statements together and resolves temporary table dependencies within that task. By default (False), only the first statement is parsed."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"How it works:")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Patches")," (apply to both Legacy OpenLineage and OpenLineage Provider):"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Apply ",(0,t.yg)("strong",{parentName:"li"},"monkey-patching")," to OpenLineage extractor/operator classes at runtime"),(0,t.yg)("li",{parentName:"ul"},"Work on ",(0,t.yg)("strong",{parentName:"li"},"both Airflow 2.x and Airflow 3.x")),(0,t.yg)("li",{parentName:"ul"},"When ",(0,t.yg)("inlineCode",{parentName:"li"},"patch_sql_parser=True"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2"),": Patches ",(0,t.yg)("inlineCode",{parentName:"li"},"SqlExtractor.extract()")," method"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 3"),": Patches ",(0,t.yg)("inlineCode",{parentName:"li"},"SQLParser.generate_openlineage_metadata_from_sql()")," method"),(0,t.yg)("li",{parentName:"ul"},"Provides: More accurate lineage extraction, column-level lineage (CLL), better SQL dialect support"))),(0,t.yg)("li",{parentName:"ul"},"When ",(0,t.yg)("inlineCode",{parentName:"li"},"patch_snowflake_schema=True"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2"),": Patches ",(0,t.yg)("inlineCode",{parentName:"li"},"SnowflakeExtractor.default_schema")," property"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 3"),": Currently not needed (handled by Airflow's native support)"),(0,t.yg)("li",{parentName:"ul"},"Fixes Snowflake schema detection issues")))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Custom Extractors/Operator Patches"),":"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Register DataHub's custom implementations for specific operators"),(0,t.yg)("li",{parentName:"ul"},"Work on ",(0,t.yg)("strong",{parentName:"li"},"both Airflow 2.x and Airflow 3.x")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"extract_athena_operator"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2 (Legacy OpenLineage only)"),": Registers ",(0,t.yg)("inlineCode",{parentName:"li"},"AthenaOperatorExtractor")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 3"),": Patches ",(0,t.yg)("inlineCode",{parentName:"li"},"AthenaOperator.get_openlineage_facets_on_complete()")),(0,t.yg)("li",{parentName:"ul"},"Uses DataHub's SQL parser for better Athena lineage"))),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("inlineCode",{parentName:"li"},"extract_bigquery_insert_job_operator"),":",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 2 (Legacy OpenLineage only)"),": Registers ",(0,t.yg)("inlineCode",{parentName:"li"},"BigQueryInsertJobOperatorExtractor")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Airflow 3"),": Patches ",(0,t.yg)("inlineCode",{parentName:"li"},"BigQueryInsertJobOperator.get_openlineage_facets_on_complete()")),(0,t.yg)("li",{parentName:"ul"},"Handles BigQuery job configuration and destination tables")))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Example use cases:")),(0,t.yg)("p",null,"Disable DataHub's SQL parser to use OpenLineage's native parsing:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-ini"},"[datahub]\nenable_extractors = True\npatch_sql_parser = False  # Use OpenLineage's native SQL parser\npatch_snowflake_schema = True  # Still fix Snowflake schema detection\n")),(0,t.yg)("p",null,"Disable custom Athena extractor (only relevant for Legacy OpenLineage):"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-ini"},"[datahub]\nenable_extractors = True\nextract_athena_operator = False  # Use OpenLineage's default Athena extractor\n")),(0,t.yg)("h3",{id:"other-configuration-options"},"Other Configuration Options"),(0,t.yg)("p",null,"For a complete list of configuration options, see the ",(0,t.yg)("a",{parentName:"p",href:"/docs/lineage/airflow#configuration"},"DataHub Airflow documentation"),"."),(0,t.yg)("h2",{id:"developing"},"Developing"),(0,t.yg)("p",null,"See the ",(0,t.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion/developing"},"developing docs"),"."))}c.isMDXComponent=!0}}]);