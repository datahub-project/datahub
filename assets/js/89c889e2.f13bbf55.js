"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[1819],{15680:(e,t,a)=>{a.d(t,{xA:()=>d,yg:()=>y});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var g=n.createContext({}),u=function(e){var t=n.useContext(g),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(g.Provider,{value:t},e.children)},p="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,g=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(a),c=r,y=p["".concat(g,".").concat(c)]||p[c]||s[c]||i;return a?n.createElement(y,l(l({ref:t},d),{},{components:a})):n.createElement(y,l({ref:t},d))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var g in t)hasOwnProperty.call(t,g)&&(o[g]=t[g]);o.originalType=e,o[p]="string"==typeof e?e:r,l[1]=o;for(var u=2;u<i;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},62556:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>g,default:()=>y,frontMatter:()=>o,metadata:()=>u,toc:()=>p});a(96540);var n=a(15680);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={title:"DataHub",slug:"/metadata-ingestion/sink_docs/datahub",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/sink_docs/datahub.md"},g="DataHub",u={unversionedId:"metadata-ingestion/sink_docs/datahub",id:"metadata-ingestion/sink_docs/datahub",title:"DataHub",description:"DataHub Rest",source:"@site/genDocs/metadata-ingestion/sink_docs/datahub.md",sourceDirName:"metadata-ingestion/sink_docs",slug:"/metadata-ingestion/sink_docs/datahub",permalink:"/docs/metadata-ingestion/sink_docs/datahub",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/sink_docs/datahub.md",tags:[],version:"current",frontMatter:{title:"DataHub",slug:"/metadata-ingestion/sink_docs/datahub",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/sink_docs/datahub.md"},sidebar:"overviewSidebar",previous:{title:"Console",permalink:"/docs/metadata-ingestion/sink_docs/console"},next:{title:"Metadata File",permalink:"/docs/metadata-ingestion/sink_docs/metadata-file"}},d={},p=[{value:"DataHub Rest",id:"datahub-rest",level:2},{value:"Setup",id:"setup",level:3},{value:"Capabilities",id:"capabilities",level:3},{value:"Quickstart recipe",id:"quickstart-recipe",level:3},{value:"Config details",id:"config-details",level:3},{value:"DataHub Kafka",id:"datahub-kafka",level:2},{value:"Note: Not Supported in DataHub Cloud",id:"note-not-supported-in-datahub-cloud",level:4},{value:"Setup",id:"setup-1",level:3},{value:"Capabilities",id:"capabilities-1",level:3},{value:"Quickstart recipe",id:"quickstart-recipe-1",level:3},{value:"Kafka with OAuth",id:"kafka-with-oauth",level:4},{value:"Config details",id:"config-details-1",level:3},{value:"DataHub Lite (experimental)",id:"datahub-lite-experimental",level:2},{value:"Setup",id:"setup-2",level:3},{value:"Capabilities",id:"capabilities-2",level:3},{value:"Quickstart recipe",id:"quickstart-recipe-2",level:3},{value:"Config details",id:"config-details-2",level:3},{value:"DuckDB Config Details",id:"duckdb-config-details",level:4}],s={toc:p},c="wrapper";function y(e){var{components:t}=e,a=l(e,["components"]);return(0,n.yg)(c,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},s,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"datahub"},"DataHub"),(0,n.yg)("h2",{id:"datahub-rest"},"DataHub Rest"),(0,n.yg)("p",null,"For context on getting started with ingestion, check out our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion"},"metadata ingestion guide"),"."),(0,n.yg)("h3",{id:"setup"},"Setup"),(0,n.yg)("p",null,"To install this plugin, run ",(0,n.yg)("inlineCode",{parentName:"p"},"pip install 'acryl-datahub[datahub-rest]'"),"."),(0,n.yg)("h3",{id:"capabilities"},"Capabilities"),(0,n.yg)("p",null,"Pushes metadata to DataHub using the GMS REST API. The advantage of the REST-based interface\nis that any errors can immediately be reported."),(0,n.yg)("h3",{id:"quickstart-recipe"},"Quickstart recipe"),(0,n.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,n.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,n.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),". This should point to the GMS server."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://localhost:8080"\n')),(0,n.yg)("p",null,"If you are connecting to a hosted DataHub Cloud instance, your sink will look like"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-rest"\n  config:\n    server: "https://<your-instance>.acryl.io/gms"\n    token: <token>\n')),(0,n.yg)("p",null,"If you are running the ingestion in a container in docker and your ",(0,n.yg)("a",{parentName:"p",href:"/docs/docker"},"GMS is also running in docker")," then you should use the internal docker hostname of the GMS pod. Usually it would look something like"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://datahub-gms:8080"\n')),(0,n.yg)("p",null,"If GMS is running in a kubernetes pod ",(0,n.yg)("a",{parentName:"p",href:"/docs/deploy/kubernetes"},"deployed through the helm charts")," and you are trying to connect to it from within the kubernetes cluster then you should use the Kubernetes service name of GMS. Usually it would look something like"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://datahub-datahub-gms.datahub.svc.cluster.local:8080"\n')),(0,n.yg)("p",null,"If you are using ",(0,n.yg)("a",{parentName:"p",href:"/docs/ui-ingestion"},"UI based ingestion")," then where GMS is deployed decides what hostname you should use."),(0,n.yg)("h3",{id:"config-details"},"Config details"),(0,n.yg)("p",null,"Note that a ",(0,n.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Field"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Default"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"server")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"URL of DataHub GMS endpoint.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"token")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Bearer token used for authentication.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"timeout_sec")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"30"),(0,n.yg)("td",{parentName:"tr",align:null},"Per-HTTP request timeout.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"retry_max_times")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"1"),(0,n.yg)("td",{parentName:"tr",align:null},"Maximum times to retry if HTTP request fails. The delay between retries is increased exponentially")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"retry_status_codes")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"[429, 502, 503, 504]"),(0,n.yg)("td",{parentName:"tr",align:null},"Retry HTTP request also on these status codes")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"extra_headers")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Extra headers which will be added to the request.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"max_threads")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"15")),(0,n.yg)("td",{parentName:"tr",align:null},"Max parallelism for REST API calls")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"mode")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"ASYNC_BATCH")),(0,n.yg)("td",{parentName:"tr",align:null},"[Advanced]"," Mode of operation - ",(0,n.yg)("inlineCode",{parentName:"td"},"SYNC"),", ",(0,n.yg)("inlineCode",{parentName:"td"},"ASYNC"),", or ",(0,n.yg)("inlineCode",{parentName:"td"},"ASYNC_BATCH"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"ca_certificate_path")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Path to server's CA certificate for verification of HTTPS communications")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"client_certificate_path")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Path to client's CA certificate for HTTPS communications")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"disable_ssl_verification")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"false"),(0,n.yg)("td",{parentName:"tr",align:null},"Disable ssl certificate validation")))),(0,n.yg)("h2",{id:"datahub-kafka"},"DataHub Kafka"),(0,n.yg)("p",null,"For context on getting started with ingestion, check out our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion"},"metadata ingestion guide"),"."),(0,n.yg)("h4",{id:"note-not-supported-in-datahub-cloud"},"Note: Not Supported in DataHub Cloud"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"datahub-kafka")," sink requires direct network access to the Kafka cluster, which is only available in self-hosted DataHub environments (like OSS). For DataHub Cloud, use the ",(0,n.yg)("inlineCode",{parentName:"p"},"datahub-rest")," sink instead."),(0,n.yg)("h3",{id:"setup-1"},"Setup"),(0,n.yg)("p",null,"To install this plugin, run ",(0,n.yg)("inlineCode",{parentName:"p"},"pip install 'acryl-datahub[datahub-kafka]'"),"."),(0,n.yg)("h3",{id:"capabilities-1"},"Capabilities"),(0,n.yg)("p",null,"Pushes metadata to DataHub by publishing messages to Kafka. The advantage of the Kafka-based\ninterface is that it's asynchronous and can handle higher throughput."),(0,n.yg)("h3",{id:"quickstart-recipe-1"},"Quickstart recipe"),(0,n.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,n.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,n.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\n\nsink:\n  type: "datahub-kafka"\n  config:\n    connection:\n      bootstrap: "localhost:9092"\n      schema_registry_url: "http://localhost:8081"\n')),(0,n.yg)("h4",{id:"kafka-with-oauth"},"Kafka with OAuth"),(0,n.yg)("p",null,"E.g. for AWS MSK clusters using IAM authentication:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-kafka"\n  config:\n    topic_routes:\n      MetadataChangeEvent: "custom_mce_topic_name" # Optional override\n      MetadataChangeProposal: "custom_mcp_topic_name" # Optional override\n    connection:\n      bootstrap: "b-1.your-msk-cluster.region.amazonaws.com:9098"\n      schema_registry_url: "http://datahub-gms:8080/schema-registry/api/"\n      producer_config:\n        security.protocol: "SASL_SSL"\n        sasl.mechanism: "OAUTHBEARER"\n        sasl.oauthbearer.method: "default"\n        oauth_cb: "datahub_actions.utils.kafka_msk_iam:oauth_cb" # OAuth callback\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Note:")," MSK IAM authentication requires ",(0,n.yg)("inlineCode",{parentName:"p"},"pip install 'acryl-datahub-actions>=1.3.1.2'")," for the OAuth callback."),(0,n.yg)("h3",{id:"config-details-1"},"Config details"),(0,n.yg)("p",null,"Note that a ",(0,n.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Field"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Default"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"connection.bootstrap")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Kafka bootstrap URL.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"connection.producer_config.<option>")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Passed to ",(0,n.yg)("a",{parentName:"td",href:"https://docs.confluent.io/platform/current/clients/confluent-kafka-python/html/index.html#confluent_kafka.SerializingProducer"},"https://docs.confluent.io/platform/current/clients/confluent-kafka-python/html/index.html#confluent_kafka.SerializingProducer"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"connection.producer_config.oauth_cb")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"OAuth callback function for authentication (e.g., ",(0,n.yg)("inlineCode",{parentName:"td"},"datahub_actions.utils.kafka_msk_iam:oauth_cb")," for MSK IAM)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"connection.schema_registry_url")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"URL of schema registry being used.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"connection.schema_registry_config.<option>")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"Passed to ",(0,n.yg)("a",{parentName:"td",href:"https://docs.confluent.io/platform/current/clients/confluent-kafka-python/html/index.html#confluent_kafka.schema_registry.SchemaRegistryClient"},"https://docs.confluent.io/platform/current/clients/confluent-kafka-python/html/index.html#confluent_kafka.schema_registry.SchemaRegistryClient"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"topic_routes.MetadataChangeEvent")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"MetadataChangeEvent"),(0,n.yg)("td",{parentName:"tr",align:null},"Overridden Kafka topic name for the MetadataChangeEvent")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"topic_routes.MetadataChangeProposal")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"MetadataChangeProposal"),(0,n.yg)("td",{parentName:"tr",align:null},"Overridden Kafka topic name for the MetadataChangeProposal")))),(0,n.yg)("p",null,"The options in the producer config and schema registry config are passed to the Kafka SerializingProducer and SchemaRegistryClient respectively."),(0,n.yg)("p",null,"For a full example with a number of security options, see this ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/examples/recipes/secured_kafka.dhub.yaml"},"example recipe"),"."),(0,n.yg)("h2",{id:"datahub-lite-experimental"},"DataHub Lite (experimental)"),(0,n.yg)("p",null,"A sink that provides integration with ",(0,n.yg)("a",{parentName:"p",href:"/docs/datahub_lite"},"DataHub Lite")," for local metadata exploration and serving."),(0,n.yg)("h3",{id:"setup-2"},"Setup"),(0,n.yg)("p",null,"To install this plugin, run ",(0,n.yg)("inlineCode",{parentName:"p"},"pip install 'acryl-datahub[datahub-lite]'"),"."),(0,n.yg)("h3",{id:"capabilities-2"},"Capabilities"),(0,n.yg)("p",null,"Pushes metadata to a local DataHub Lite instance."),(0,n.yg)("h3",{id:"quickstart-recipe-2"},"Quickstart recipe"),(0,n.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,n.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,n.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-lite"\n')),(0,n.yg)("p",null,"By default, ",(0,n.yg)("inlineCode",{parentName:"p"},"datahub-lite")," uses a ",(0,n.yg)("strong",{parentName:"p"},"DuckDB")," database and will write to a database file located under ",(0,n.yg)("strong",{parentName:"p"},"~/.datahub/lite/"),"."),(0,n.yg)("p",null,"To configure the location, you can specify it directly in the config:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yml"},'source:\n  # source configs\nsink:\n  type: "datahub-lite"\n  config:\n    type: "duckdb"\n    config:\n      file: "<path_to_duckdb_file>"\n')),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"DataHub Lite currently doesn't support stateful ingestion, so you'll have to turn off stateful ingestion in your recipe to use it. This will be fixed shortly.")),(0,n.yg)("h3",{id:"config-details-2"},"Config details"),(0,n.yg)("p",null,"Note that a ",(0,n.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Field"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Default"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"type")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},"duckdb"),(0,n.yg)("td",{parentName:"tr",align:null},"Type of DataHub Lite implementation to use")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"config")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},'{"file": "~/.datahub/lite/datahub.duckdb"}')),(0,n.yg)("td",{parentName:"tr",align:null},"Config dictionary to pass through to the DataHub Lite implementation. See below for fields accepted by the DuckDB implementation")))),(0,n.yg)("h4",{id:"duckdb-config-details"},"DuckDB Config Details"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Field"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Default"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"file")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},'"~/.datahub/lite/datahub.duckdb"')),(0,n.yg)("td",{parentName:"tr",align:null},"File to use for DuckDB storage")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"options")),(0,n.yg)("td",{parentName:"tr",align:null}),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"{}")),(0,n.yg)("td",{parentName:"tr",align:null},"Options dictionary to pass through to DuckDB library. See ",(0,n.yg)("a",{parentName:"td",href:"https://duckdb.org/docs/sql/configuration.html"},"the official spec")," for the options supported by DuckDB.")))))}y.isMDXComponent=!0}}]);