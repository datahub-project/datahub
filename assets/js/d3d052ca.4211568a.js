"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[53769],{7653:(e,t,a)=>{a.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(89379),i=a(96540),r=a(7653),l=a(89990),o=function(e,t){return i.createElement(l.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:r.A}))};const s=i.forwardRef(o)},15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>m});var n=a(96540);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),g=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=g(e.components);return n.createElement(s.Provider,{value:t},e.children)},y="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),y=g(a),p=i,m=y["".concat(s,".").concat(p)]||y[p]||c[p]||r;return a?n.createElement(m,l(l({ref:t},u),{},{components:a})):n.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,l=new Array(r);l[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[y]="string"==typeof e?e:i,l[1]=o;for(var g=2;g<r;g++)l[g]=a[g];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},43655:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(96540),i=a(20053);const r="availabilityCard_P5od",l="managedIcon_AxXO",o="platform_wqXv",s="platformAvailable_Y8lN";var g=a(4732),u=a(89379);const y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var c=a(89990),p=function(e,t){return n.createElement(c.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:y}))};const m=n.forwardRef(p);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var b=function(e,t){return n.createElement(c.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:d}))};const h=n.forwardRef(b),f=({saasOnly:e,ossOnly:t})=>n.createElement("div",{className:(0,i.A)(r,"card")},n.createElement("strong",null,"Feature Availability"),n.createElement("div",null,n.createElement("span",{className:(0,i.A)(o,!e&&s)},"Self-Hosted DataHub ",e?n.createElement(g.A,null):n.createElement(m,null))),n.createElement("div",null,n.createElement(h,{className:l}),n.createElement("span",{className:(0,i.A)(o,!t&&s)},"DataHub Cloud ",t?n.createElement(g.A,null):n.createElement(m,null))))},23573:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>y,contentTitle:()=>g,default:()=>d,frontMatter:()=>s,metadata:()=>u,toc:()=>c});a(96540);var n=a(15680),i=a(43655);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const s={title:"BigQuery Metadata Sync Automation",slug:"/automations/bigquery-metadata-sync",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/bigquery-metadata-sync.md"},g="BigQuery Metadata Sync Automation",u={unversionedId:"docs/automations/bigquery-metadata-sync",id:"docs/automations/bigquery-metadata-sync",title:"BigQuery Metadata Sync Automation",description:"This feature is currently in open beta in DataHub Cloud. Reach out to your DataHub Cloud representative to get access.",source:"@site/genDocs/docs/automations/bigquery-metadata-sync.md",sourceDirName:"docs/automations",slug:"/automations/bigquery-metadata-sync",permalink:"/docs/automations/bigquery-metadata-sync",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/automations/bigquery-metadata-sync.md",tags:[],version:"current",frontMatter:{title:"BigQuery Metadata Sync Automation",slug:"/automations/bigquery-metadata-sync",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/bigquery-metadata-sync.md"},sidebar:"overviewSidebar",previous:{title:"Glossary Term Propagation Automation",permalink:"/docs/automations/glossary-term-propagation"},next:{title:"Databricks Metadata Sync Automation",permalink:"/docs/automations/databricks-metadata-sync"}},y={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Use-Cases",id:"use-cases",level:2},{value:"Sync Capabilities",id:"sync-capabilities",level:2},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"1. Verify Permissions",id:"1-verify-permissions",level:3},{value:"2. Enable the Automation",id:"2-enable-the-automation",level:3},{value:"3. Propagating for Existing Assets (Optional)",id:"3-propagating-for-existing-assets-optional",level:2},{value:"Viewing Propagated Tags",id:"viewing-propagated-tags",level:2},{value:"Troubleshooting BigQuery Propagation",id:"troubleshooting-bigquery-propagation",level:2},{value:"Q: What metadata elements support bi-directional syncing between DataHub and BigQuery?",id:"q-what-metadata-elements-support-bi-directional-syncing-between-datahub-and-bigquery",level:3},{value:"Q: Are Policy Tags bi-directionally synced?",id:"q-are-policy-tags-bi-directionally-synced",level:3},{value:"Q: What metadata is synced from BigQuery to DataHub during ingestion?",id:"q-what-metadata-is-synced-from-bigquery-to-datahub-during-ingestion",level:3},{value:"Q: Where should I manage my Business Glossary?",id:"q-where-should-i-manage-my-business-glossary",level:3},{value:"Q: Are there any limitations with Policy Tags in BigQuery?",id:"q-are-there-any-limitations-with-policy-tags-in-bigquery",level:3},{value:"Q: How frequently are changes synced between DataHub and BigQuery?",id:"q-how-frequently-are-changes-synced-between-datahub-and-bigquery",level:3},{value:"Q: What happens if there&#39;s a conflict between DataHub and BigQuery metadata?",id:"q-what-happens-if-theres-a-conflict-between-datahub-and-bigquery-metadata",level:3},{value:"Q: What permissions are required for bi-directional syncing?",id:"q-what-permissions-are-required-for-bi-directional-syncing",level:3},{value:"Q: Can table description removed?",id:"q-can-table-description-removed",level:3},{value:"Related Documentation",id:"related-documentation",level:2}],p={toc:c},m="wrapper";function d(e){var{components:t}=e,a=o(e,["components"]);return(0,n.yg)(m,l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},p,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"bigquery-metadata-sync-automation"},"BigQuery Metadata Sync Automation"),(0,n.yg)(i.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"This feature is currently in open beta in DataHub Cloud. Reach out to your DataHub Cloud representative to get access.")),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"BigQuery Metadata Sync is an automation that synchronizes DataHub Tags, Table and Column descriptions, and Column Glossary Terms with\nBigQuery. This automation is exclusively available in DataHub Cloud."),(0,n.yg)("h2",{id:"use-cases"},"Use-Cases"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Maintain consistent metadata across DataHub and BigQuery"),(0,n.yg)("li",{parentName:"ul"},"Improve data discovery by propagating rich descriptions back to BigQuery"),(0,n.yg)("li",{parentName:"ul"},"Enhance data governance by applying Policy Tags based on DataHub Glossary Terms"),(0,n.yg)("li",{parentName:"ul"},"Streamline data classification by syncing DataHub Tags to BigQuery Labels"),(0,n.yg)("li",{parentName:"ul"},"Facilitate compliance efforts by automatically tagging sensitive data columns"),(0,n.yg)("li",{parentName:"ul"},"Support data lineage tracking by keeping metadata aligned across platforms")),(0,n.yg)("h2",{id:"sync-capabilities"},"Sync Capabilities"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"DataHub Source"),(0,n.yg)("th",{parentName:"tr",align:null},"BigQuery Target"),(0,n.yg)("th",{parentName:"tr",align:null},"Sync Direction"),(0,n.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Table Tags"),(0,n.yg)("td",{parentName:"tr",align:null},"Table Labels"),(0,n.yg)("td",{parentName:"tr",align:null},"Bi-directional"),(0,n.yg)("td",{parentName:"tr",align:null},"Changes in either system reflect in both")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Table Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},"Table Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},"Bi-directional"),(0,n.yg)("td",{parentName:"tr",align:null},"Changes in either system reflect in both")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Column Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},"Column Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},"Bi-directional"),(0,n.yg)("td",{parentName:"tr",align:null},"Changes in either system reflect in both. ",(0,n.yg)("br",null)," Thes sync doesn't delete table description from BigQuery")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Column Glossary Terms"),(0,n.yg)("td",{parentName:"tr",align:null},"Column Policy Tags"),(0,n.yg)("td",{parentName:"tr",align:null},"DataHub \u2192 BigQuery"),(0,n.yg)("td",{parentName:"tr",align:null},"Created under DataHub taxonomy")))),(0,n.yg)("h2",{id:"setup-instructions"},"Setup Instructions"),(0,n.yg)("h3",{id:"1-verify-permissions"},"1. Verify Permissions"),(0,n.yg)("p",null,"Ensure your service account has the following permissions:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Task"),(0,n.yg)("th",{parentName:"tr",align:null},"Required Permissions"),(0,n.yg)("th",{parentName:"tr",align:null},"Available Role"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Policy Tag Management"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"datacatalog.taxonomies.create"),(0,n.yg)("br",null),"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"datacatalog.taxonomies.update"),(0,n.yg)("br",null),"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"datacatalog.taxonomies.list"),(0,n.yg)("br",null),"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"datacatalog.taxonomies.get"),(0,n.yg)("br",null),"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery.tables.createTagBinding")),(0,n.yg)("td",{parentName:"tr",align:null},"Policy Tag Admin")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Policy Tag Assignment"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery.tables.updateTag")),(0,n.yg)("td",{parentName:"tr",align:null},"-")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Description Management"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery.tables.update")),(0,n.yg)("td",{parentName:"tr",align:null},"-")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Label Management"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2022 ",(0,n.yg)("inlineCode",{parentName:"td"},"bigquery.tables.update")),(0,n.yg)("td",{parentName:"tr",align:null},"-")))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Note"),": ",(0,n.yg)("inlineCode",{parentName:"p"},"bigquery.tables")," permissions must be granted in every project where metadata sync is needed."),(0,n.yg)("h3",{id:"2-enable-the-automation"},"2. Enable the Automation"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Navigate to Automations"),": Click on 'Govern' > 'Automations' in the navigation bar."),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"30%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automations-nav-link.png"}))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Create An Automation"),": Click on 'Create' and select 'BigQuery Tag Propagation'."),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"50%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/bigquery-propagation/automation-type.png"}))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Configure Automation"),":"),(0,n.yg)("ol",{parentName:"li"},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Select a Propagation Action"))),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"50%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/bigquery-propagation/automation-form.png"})),(0,n.yg)("table",{parentName:"li"},(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Propagation Type"),(0,n.yg)("th",{parentName:"tr",align:null},"DataHub Entity"),(0,n.yg)("th",{parentName:"tr",align:null},"BigQuery Entity"),(0,n.yg)("th",{parentName:"tr",align:null},"Note"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Table Tags as Labels"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/tags/"},"Table Tag")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"https://cloud.google.com/bigquery/docs/labels-intro"},"BigQuery Label")),(0,n.yg)("td",{parentName:"tr",align:null},"-")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Column Glossary Terms as Policy Tags"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/glossary/business-glossary/"},"Glossary Term on Table Column")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"https://cloud.google.com/bigquery/docs/best-practices-policy-tags"},"Policy Tag")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("ul",null,(0,n.yg)("li",null,"Assigned Policy tags are created under DataHub taxonomy.")),(0,n.yg)("ul",null,(0,n.yg)("li",null,"Only the latest assigned glossary term set as policy tag. BigQuery only supports one assigned policy tag."))," ",(0,n.yg)("ul",null,(0,n.yg)("li",null,"Policy Tags are not synced to DataHub as glossary term from BigQuery.")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Table Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/api/tutorials/descriptions/"},"Table Description")),(0,n.yg)("td",{parentName:"tr",align:null},"Table Description"),(0,n.yg)("td",{parentName:"tr",align:null},"-")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Column Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/api/tutorials/descriptions/"},"Column Description")),(0,n.yg)("td",{parentName:"tr",align:null},"Column Description"),(0,n.yg)("td",{parentName:"tr",align:null},"-")))),(0,n.yg)("admonition",{parentName:"li",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"You can limit propagation based on specific Tags and Glossary Terms. If none are selected, ALL Tags or Glossary Terms will be automatically propagated to BigQuery tables and columns. (The recommended approach is to not specify a filter to avoid inconsistent states.)")),(0,n.yg)("admonition",{parentName:"li",type:"note"},(0,n.yg)("ul",{parentName:"admonition"},(0,n.yg)("li",{parentName:"ul"},"BigQuery supports only one Policy Tag per table field. Consequently, the most recently assigned Glossary Term will be set as the Policy Tag for that field."),(0,n.yg)("li",{parentName:"ul"},"Policy Tags cannot be applied to fields in External tables. Therefore, if a Glossary Term is assigned to a field in an External table, it will not be applied."))),(0,n.yg)("ol",{parentName:"li",start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Fill in the required fields to connect to BigQuery, along with the name, description, and category"))),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"50%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/bigquery-propagation/connection_config.png"})),(0,n.yg)("ol",{parentName:"li",start:3},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Finally, click 'Save and Run' to start the automation"))))),(0,n.yg)("h2",{id:"3-propagating-for-existing-assets-optional"},"3. Propagating for Existing Assets (Optional)"),(0,n.yg)("p",null,"To ensure that all existing table Tags and Column Glossary Terms are propagated to BigQuery, you can back-fill historical data for existing assets. Note that the initial back-filling process may take some time, depending on the number of BigQuery assets you have."),(0,n.yg)("p",null,"To do so, follow these steps:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Navigate to the Automation you created in Step 3 above"),(0,n.yg)("li",{parentName:"ol"},'Click the 3-dot "More" menu')),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"30%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-more-menu.png"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},'Click "Initialize"')),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"50%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-initialize.png"})),(0,n.yg)("p",null,"This one-time step will kick off the back-filling process for existing descriptions. If you only want to begin propagating descriptions going forward, you can skip this step."),(0,n.yg)("h2",{id:"viewing-propagated-tags"},"Viewing Propagated Tags"),(0,n.yg)("p",null,"You can view propagated Tags inside the BigQuery UI to confirm the automation is working as expected."),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"50%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/bigquery-propagation/labels.png"})),(0,n.yg)("h2",{id:"troubleshooting-bigquery-propagation"},"Troubleshooting BigQuery Propagation"),(0,n.yg)("h3",{id:"q-what-metadata-elements-support-bi-directional-syncing-between-datahub-and-bigquery"},"Q: What metadata elements support bi-directional syncing between DataHub and BigQuery?"),(0,n.yg)("p",null,"A: The following metadata elements support bi-directional syncing:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Tags (via BigQuery Labels): Changes made in either DataHub Table Tags or BigQuery Table Labels will be reflected in the other system."),(0,n.yg)("li",{parentName:"ul"},"Descriptions: Both table and column descriptions are synced bi-directionally.")),(0,n.yg)("h3",{id:"q-are-policy-tags-bi-directionally-synced"},"Q: Are Policy Tags bi-directionally synced?"),(0,n.yg)("p",null,"A: No, BigQuery Policy Tags are only propagated from DataHub to BigQuery, not vice versa. This means that Policy Tags should be mastered in DataHub using the ",(0,n.yg)("a",{parentName:"p",href:"/docs/glossary/business-glossary/"},"Business Glossary"),"."),(0,n.yg)("p",null,"It is recommended to avoid enabling ",(0,n.yg)("inlineCode",{parentName:"p"},"extract_policy_tags_from_catalog")," during\ningestion, as this will ingest policy tags as BigQuery labels. Our sync process\npropagates Glossary Term assignments to BigQuery as Policy Tags."),(0,n.yg)("p",null,"In a future release, we plan to remove this restriction to support full bi-directional syncing."),(0,n.yg)("h3",{id:"q-what-metadata-is-synced-from-bigquery-to-datahub-during-ingestion"},"Q: What metadata is synced from BigQuery to DataHub during ingestion?"),(0,n.yg)("p",null,"A: During ingestion from BigQuery:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Tags and descriptions from BigQuery will be ingested into DataHub."),(0,n.yg)("li",{parentName:"ul"},"Existing Policy Tags in BigQuery will not overwrite or create Business Glossary Terms in DataHub. It only syncs assigned column Glossary Terms from DataHub to BigQuery.")),(0,n.yg)("h3",{id:"q-where-should-i-manage-my-business-glossary"},"Q: Where should I manage my Business Glossary?"),(0,n.yg)("p",null,"A: The expectation is that you author and manage the glossary in DataHub. Policy tags in BigQuery should be treated as a reflection of the DataHub glossary, not as the primary source of truth."),(0,n.yg)("h3",{id:"q-are-there-any-limitations-with-policy-tags-in-bigquery"},"Q: Are there any limitations with Policy Tags in BigQuery?"),(0,n.yg)("p",null,"A: Yes, BigQuery only supports one Policy Tag per column. If multiple glossary\nterms are assigned to a column in DataHub, only the most recently assigned term\nwill be set as the policy tag in BigQuery. To reduce the scope of conflicts, you\ncan set up filters in the BigQuery Metadata Sync to only synchronize terms from\na specific area of the Business Glossary."),(0,n.yg)("h3",{id:"q-how-frequently-are-changes-synced-between-datahub-and-bigquery"},"Q: How frequently are changes synced between DataHub and BigQuery?"),(0,n.yg)("p",null,"A: From DataHub to BigQuery, the sync happens instantly (within a few seconds)\nwhen the change occurs in DataHub."),(0,n.yg)("p",null,"From BigQuery to DataHub, changes are synced when ingestion occurs, and the frequency depends on your custom ingestion schedule. (Visible on the ",(0,n.yg)("strong",{parentName:"p"},"Integrations")," page)"),(0,n.yg)("h3",{id:"q-what-happens-if-theres-a-conflict-between-datahub-and-bigquery-metadata"},"Q: What happens if there's a conflict between DataHub and BigQuery metadata?"),(0,n.yg)("p",null,"A: In case of conflicts (e.g., a tag is modified in both systems between syncs), the DataHub version will typically take precedence. However, it's best to make changes in one system consistently to avoid potential conflicts."),(0,n.yg)("h3",{id:"q-what-permissions-are-required-for-bi-directional-syncing"},"Q: What permissions are required for bi-directional syncing?"),(0,n.yg)("p",null,"A: Ensure that the service account used for the automation has the necessary permissions in both DataHub and BigQuery to read and write metadata. See the required BigQuery permissions at the top of the page."),(0,n.yg)("h3",{id:"q-can-table-description-removed"},"Q: Can table description removed?"),(0,n.yg)("p",null,"No, the sync can only modify table description but it won't remove or clear a description from a table."),(0,n.yg)("h2",{id:"related-documentation"},"Related Documentation"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/tags/"},"DataHub Tags Documentation")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/glossary/business-glossary/"},"DataHub Glossary Documentation")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://cloud.google.com/bigquery/docs/labels-intro"},"BigQuery Labels Documentation")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://cloud.google.com/bigquery/docs/best-practices-policy-tags"},"BigQuery Policy Tags Documentation"))))}d.isMDXComponent=!0}}]);