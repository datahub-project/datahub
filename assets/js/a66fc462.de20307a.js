"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[95547],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>g});var n=a(96540);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var d=n.createContext({}),o=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=o(e.components);return n.createElement(d.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=o(a),c=i,g=m["".concat(d,".").concat(c)]||m[c]||u[c]||r;return a?n.createElement(g,s(s({ref:t},p),{},{components:a})):n.createElement(g,s({ref:t},p))}));function g(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[m]="string"==typeof e?e:i,s[1]=l;for(var o=2;o<r;o++)s[o]=a[o];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},54958:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>d,default:()=>g,frontMatter:()=>l,metadata:()=>o,toc:()=>m});a(96540);var n=a(15680);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const l={title:"Dataset Entity",slug:"/metadata-integration/java/docs/sdk-v2/dataset-entity",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/dataset-entity.md"},d="Dataset Entity",o={unversionedId:"metadata-integration/java/docs/sdk-v2/dataset-entity",id:"metadata-integration/java/docs/sdk-v2/dataset-entity",title:"Dataset Entity",description:"The Dataset entity represents collections of data with a common schema (tables, views, files, topics, etc.). This guide covers comprehensive dataset operations in SDK V2.",source:"@site/genDocs/metadata-integration/java/docs/sdk-v2/dataset-entity.md",sourceDirName:"metadata-integration/java/docs/sdk-v2",slug:"/metadata-integration/java/docs/sdk-v2/dataset-entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/dataset-entity",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/dataset-entity.md",tags:[],version:"current",frontMatter:{title:"Dataset Entity",slug:"/metadata-integration/java/docs/sdk-v2/dataset-entity",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/metadata-integration/java/docs/sdk-v2/dataset-entity.md"},sidebar:"overviewSidebar",previous:{title:"Entities Overview",permalink:"/docs/metadata-integration/java/docs/sdk-v2/entities-overview"},next:{title:"Chart Entity",permalink:"/docs/metadata-integration/java/docs/sdk-v2/chart-entity"}},p={},m=[{value:"Creating a Dataset",id:"creating-a-dataset",level:2},{value:"Minimal Dataset",id:"minimal-dataset",level:3},{value:"With Environment",id:"with-environment",level:3},{value:"With Metadata",id:"with-metadata",level:3},{value:"With Custom Properties",id:"with-custom-properties",level:3},{value:"With Platform Instance",id:"with-platform-instance",level:3},{value:"URN Construction",id:"urn-construction",level:2},{value:"Description Operations",id:"description-operations",level:2},{value:"Mode-Aware Description",id:"mode-aware-description",level:3},{value:"Explicit Aspect Targeting",id:"explicit-aspect-targeting",level:3},{value:"Reading Description",id:"reading-description",level:3},{value:"Display Name Operations",id:"display-name-operations",level:2},{value:"Tags",id:"tags",level:2},{value:"Adding Tags",id:"adding-tags",level:3},{value:"Removing Tags",id:"removing-tags",level:3},{value:"Tag Chaining",id:"tag-chaining",level:3},{value:"Owners",id:"owners",level:2},{value:"Adding Owners",id:"adding-owners",level:3},{value:"Removing Owners",id:"removing-owners",level:3},{value:"Owner Types",id:"owner-types",level:3},{value:"Glossary Terms",id:"glossary-terms",level:2},{value:"Adding Terms",id:"adding-terms",level:3},{value:"Removing Terms",id:"removing-terms",level:3},{value:"Term Chaining",id:"term-chaining",level:3},{value:"Domain",id:"domain",level:2},{value:"Setting Domain",id:"setting-domain",level:3},{value:"Removing Domain",id:"removing-domain",level:3},{value:"Custom Properties",id:"custom-properties",level:2},{value:"Adding Individual Properties",id:"adding-individual-properties",level:3},{value:"Setting All Properties",id:"setting-all-properties",level:3},{value:"Removing Properties",id:"removing-properties",level:3},{value:"Schema",id:"schema",level:2},{value:"Setting Schema Metadata",id:"setting-schema-metadata",level:3},{value:"Setting Schema Fields",id:"setting-schema-fields",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Updating Existing Datasets",id:"updating-existing-datasets",level:2},{value:"Load and Modify",id:"load-and-modify",level:3},{value:"Incremental Updates",id:"incremental-updates",level:3},{value:"Builder Options Reference",id:"builder-options-reference",level:2},{value:"Mode-Aware vs Explicit Methods",id:"mode-aware-vs-explicit-methods",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Creating Multiple Datasets",id:"creating-multiple-datasets",level:3},{value:"Batch Metadata Addition",id:"batch-metadata-addition",level:3},{value:"Conditional Metadata",id:"conditional-metadata",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Examples",id:"examples",level:2},{value:"Basic Dataset Creation",id:"basic-dataset-creation",level:3},{value:"Dataset Patch Operations",id:"dataset-patch-operations",level:3},{value:"Comprehensive Dataset Example",id:"comprehensive-dataset-example",level:3}],u={toc:m},c="wrapper";function g(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(c,r(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){i(e,t,a[t])}))}return e}({},u,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"dataset-entity"},"Dataset Entity"),(0,n.yg)("p",null,"The Dataset entity represents collections of data with a common schema (tables, views, files, topics, etc.). This guide covers comprehensive dataset operations in SDK V2."),(0,n.yg)("h2",{id:"creating-a-dataset"},"Creating a Dataset"),(0,n.yg)("h3",{id:"minimal-dataset"},"Minimal Dataset"),(0,n.yg)("p",null,"Only platform and name are required:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_database.my_schema.my_table")\n    .build();\n')),(0,n.yg)("h3",{id:"with-environment"},"With Environment"),(0,n.yg)("p",null,"Specify environment (PROD, DEV, STAGING, etc.):"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .env("PROD")\n    .build();\n// URN: urn:li:dataset:(urn:li:dataPlatform:snowflake,my_table,PROD)\n')),(0,n.yg)("h3",{id:"with-metadata"},"With Metadata"),(0,n.yg)("p",null,"Add description and display name at construction:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("bigquery")\n    .name("project.dataset.table")\n    .env("PROD")\n    .description("User transactions table")\n    .displayName("User Transactions")\n    .build();\n')),(0,n.yg)("h3",{id:"with-custom-properties"},"With Custom Properties"),(0,n.yg)("p",null,"Include custom properties in builder:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Map<String, String> props = new HashMap<>();\nprops.put("team", "data-engineering");\nprops.put("retention", "90_days");\n\nDataset dataset = Dataset.builder()\n    .platform("postgres")\n    .name("public.users")\n    .customProperties(props)\n    .build();\n')),(0,n.yg)("h3",{id:"with-platform-instance"},"With Platform Instance"),(0,n.yg)("p",null,"For multi-instance platforms:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("kafka")\n    .name("user-events")\n    .platformInstance("kafka-prod-cluster")\n    .build();\n')),(0,n.yg)("h2",{id:"urn-construction"},"URN Construction"),(0,n.yg)("p",null,"Dataset URNs follow the pattern:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"urn:li:dataset:(urn:li:dataPlatform:{platform},{name},{env})\n")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Automatic URN creation:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("analytics.public.events")\n    .env("PROD")\n    .build();\n\nDatasetUrn urn = dataset.getDatasetUrn();\n// urn:li:dataset:(urn:li:dataPlatform:snowflake,analytics.public.events,PROD)\n')),(0,n.yg)("h2",{id:"description-operations"},"Description Operations"),(0,n.yg)("h3",{id:"mode-aware-description"},"Mode-Aware Description"),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"setDescription()")," method routes to different aspects based on mode:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// SDK mode (default) - writes to editableDatasetProperties\ndataset.setDescription("User-provided description");\n\n// INGESTION mode - writes to datasetProperties\ndataset.setDescription("Ingested from Snowflake");\n')),(0,n.yg)("h3",{id:"explicit-aspect-targeting"},"Explicit Aspect Targeting"),(0,n.yg)("p",null,"Control which aspect to write:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// System description (datasetProperties)\ndataset.setSystemDescription("Generated by ETL pipeline");\n\n// Editable description (editableDatasetProperties)\ndataset.setEditableDescription("User override description");\n')),(0,n.yg)("h3",{id:"reading-description"},"Reading Description"),(0,n.yg)("p",null,"Get description (prefers editable over system):"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"String description = dataset.getDescription();\n// Returns editableDatasetProperties.description if set\n// Otherwise returns datasetProperties.description\n")),(0,n.yg)("h2",{id:"display-name-operations"},"Display Name Operations"),(0,n.yg)("p",null,"Similar to description, display names are mode-aware:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Mode-aware (SDK \u2192 editable, INGESTION \u2192 system)\ndataset.setDisplayName("User Events");\n\n// Explicit aspect targeting\ndataset.setSystemDisplayName("user_events_table");\ndataset.setEditableDisplayName("User Events Table");\n\n// Read display name (prefers editable)\nString name = dataset.getDisplayName();\n')),(0,n.yg)("h2",{id:"tags"},"Tags"),(0,n.yg)("h3",{id:"adding-tags"},"Adding Tags"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Simple tag name (auto-prefixed)\ndataset.addTag("pii");\n// Creates: urn:li:tag:pii\n\n// Full tag URN\ndataset.addTag("urn:li:tag:analytics");\n')),(0,n.yg)("h3",{id:"removing-tags"},"Removing Tags"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.removeTag("pii");\ndataset.removeTag("urn:li:tag:analytics");\n')),(0,n.yg)("h3",{id:"tag-chaining"},"Tag Chaining"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTag("pii")\n       .addTag("sensitive")\n       .addTag("gdpr");\n')),(0,n.yg)("h2",{id:"owners"},"Owners"),(0,n.yg)("h3",{id:"adding-owners"},"Adding Owners"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.common.OwnershipType;\n\n// Technical owner\ndataset.addOwner(\n    "urn:li:corpuser:john_doe",\n    OwnershipType.TECHNICAL_OWNER\n);\n\n// Data steward\ndataset.addOwner(\n    "urn:li:corpuser:jane_smith",\n    OwnershipType.DATA_STEWARD\n);\n\n// Business owner\ndataset.addOwner(\n    "urn:li:corpuser:alice",\n    OwnershipType.BUSINESS_OWNER\n);\n')),(0,n.yg)("h3",{id:"removing-owners"},"Removing Owners"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.removeOwner("urn:li:corpuser:john_doe");\n')),(0,n.yg)("h3",{id:"owner-types"},"Owner Types"),(0,n.yg)("p",null,"Available ownership types:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"TECHNICAL_OWNER")," - Maintains the technical implementation"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"BUSINESS_OWNER")," - Business stakeholder"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"DATA_STEWARD")," - Manages data quality and compliance"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"DATAOWNER")," - Generic data owner"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"DEVELOPER")," - Software developer"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"PRODUCER")," - Data producer"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"CONSUMER")," - Data consumer"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"STAKEHOLDER")," - Other stakeholder")),(0,n.yg)("h2",{id:"glossary-terms"},"Glossary Terms"),(0,n.yg)("h3",{id:"adding-terms"},"Adding Terms"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTerm("urn:li:glossaryTerm:CustomerData");\ndataset.addTerm("urn:li:glossaryTerm:Classification.Confidential");\n')),(0,n.yg)("h3",{id:"removing-terms"},"Removing Terms"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.removeTerm("urn:li:glossaryTerm:CustomerData");\n')),(0,n.yg)("h3",{id:"term-chaining"},"Term Chaining"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTerm("urn:li:glossaryTerm:Customer Data")\n       .addTerm("urn:li:glossaryTerm:PII")\n       .addTerm("urn:li:glossaryTerm:GDPR");\n')),(0,n.yg)("h2",{id:"domain"},"Domain"),(0,n.yg)("h3",{id:"setting-domain"},"Setting Domain"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.setDomain("urn:li:domain:Marketing");\n')),(0,n.yg)("h3",{id:"removing-domain"},"Removing Domain"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Remove a specific domain\ndataset.removeDomain("urn:li:domain:Marketing");\n\n// Or clear all domains\ndataset.clearDomains();\n')),(0,n.yg)("h2",{id:"custom-properties"},"Custom Properties"),(0,n.yg)("h3",{id:"adding-individual-properties"},"Adding Individual Properties"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addCustomProperty("team", "data-engineering");\ndataset.addCustomProperty("retention_days", "90");\ndataset.addCustomProperty("cost_center", "12345");\n')),(0,n.yg)("h3",{id:"setting-all-properties"},"Setting All Properties"),(0,n.yg)("p",null,"Replace all custom properties:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Map<String, String> properties = new HashMap<>();\nproperties.put("team", "data-engineering");\nproperties.put("retention", "90_days");\nproperties.put("classification", "internal");\n\ndataset.setCustomProperties(properties);\n')),(0,n.yg)("h3",{id:"removing-properties"},"Removing Properties"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.removeCustomProperty("retention_days");\n')),(0,n.yg)("h2",{id:"schema"},"Schema"),(0,n.yg)("h3",{id:"setting-schema-metadata"},"Setting Schema Metadata"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"import com.linkedin.schema.*;\n\nSchemaMetadata schema = new SchemaMetadata();\n// Configure schema...\ndataset.setSchema(schema);\n")),(0,n.yg)("h3",{id:"setting-schema-fields"},"Setting Schema Fields"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import com.linkedin.schema.*;\n\nList<SchemaField> fields = new ArrayList<>();\n\n// String field\nSchemaField userIdField = new SchemaField();\nuserIdField.setFieldPath("user_id");\nuserIdField.setNativeDataType("VARCHAR(255)");\nuserIdField.setType(\n    new SchemaFieldDataType().setType(SchemaFieldDataType.Type.create(new StringType())));\nfields.add(userIdField);\n\n// Numeric field\nSchemaField amountField = new SchemaField();\namountField.setFieldPath("amount");\namountField.setNativeDataType("DECIMAL(10,2)");\namountField.setType(\n    new SchemaFieldDataType().setType(SchemaFieldDataType.Type.create(new NumberType())));\nfields.add(amountField);\n\ndataset.setSchemaFields(fields);\n')),(0,n.yg)("h2",{id:"complete-example"},"Complete Example"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'import datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Dataset;\nimport com.linkedin.common.OwnershipType;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\n\npublic class DatasetExample {\n    public static void main(String[] args) {\n        // Create client\n        DataHubClientV2 client = DataHubClientV2.builder()\n            .server("http://localhost:8080")\n            .build();\n\n        try {\n            // Build dataset with all metadata\n            Dataset dataset = Dataset.builder()\n                .platform("snowflake")\n                .name("analytics.public.user_events")\n                .env("PROD")\n                .description("User interaction events from web and mobile")\n                .displayName("User Events")\n                .build();\n\n            // Add tags\n            dataset.addTag("pii")\n                   .addTag("analytics")\n                   .addTag("gdpr");\n\n            // Add owners\n            dataset.addOwner("urn:li:corpuser:data_team", OwnershipType.TECHNICAL_OWNER)\n                   .addOwner("urn:li:corpuser:product_team", OwnershipType.BUSINESS_OWNER);\n\n            // Add glossary terms\n            dataset.addTerm("urn:li:glossaryTerm:CustomerData")\n                   .addTerm("urn:li:glossaryTerm:EventData");\n\n            // Set domain\n            dataset.setDomain("urn:li:domain:Analytics");\n\n            // Add custom properties\n            dataset.addCustomProperty("team", "data-engineering")\n                   .addCustomProperty("retention_days", "365")\n                   .addCustomProperty("refresh_schedule", "daily");\n\n            // Upsert to DataHub\n            client.entities().upsert(dataset);\n\n            System.out.println("Successfully created dataset: " + dataset.getUrn());\n\n        } catch (IOException | ExecutionException | InterruptedException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n')),(0,n.yg)("h2",{id:"updating-existing-datasets"},"Updating Existing Datasets"),(0,n.yg)("h3",{id:"load-and-modify"},"Load and Modify"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Load existing dataset\nDatasetUrn urn = new DatasetUrn("snowflake", "my_table", "PROD");\nDataset dataset = client.entities().get(urn);\n\n// Add new metadata (creates patches)\ndataset.addTag("new-tag")\n       .addOwner("urn:li:corpuser:new_owner", OwnershipType.TECHNICAL_OWNER);\n\n// Apply patches\nclient.entities().update(dataset);\n')),(0,n.yg)("h3",{id:"incremental-updates"},"Incremental Updates"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// Just add what you need\ndataset.addTag("sensitive");\nclient.entities().update(dataset);\n\n// Later, add more\ndataset.addCustomProperty("updated_at", String.valueOf(System.currentTimeMillis()));\nclient.entities().update(dataset);\n')),(0,n.yg)("h2",{id:"builder-options-reference"},"Builder Options Reference"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Method"),(0,n.yg)("th",{parentName:"tr",align:null},"Required"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"platform(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705 Yes"),(0,n.yg)("td",{parentName:"tr",align:null},'Data platform (e.g., "snowflake", "bigquery")')),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"name(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705 Yes"),(0,n.yg)("td",{parentName:"tr",align:null},"Fully qualified dataset name")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"env(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Environment (PROD, DEV, etc.) Default: PROD")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"platformInstance(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Platform instance identifier")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"description(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Dataset description")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"displayName(String)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Display name shown in UI")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"customProperties(Map)")),(0,n.yg)("td",{parentName:"tr",align:null},"No"),(0,n.yg)("td",{parentName:"tr",align:null},"Map of custom key-value properties")))),(0,n.yg)("h2",{id:"mode-aware-vs-explicit-methods"},"Mode-Aware vs Explicit Methods"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Operation"),(0,n.yg)("th",{parentName:"tr",align:null},"Mode-Aware Method"),(0,n.yg)("th",{parentName:"tr",align:null},"SDK Mode Aspect"),(0,n.yg)("th",{parentName:"tr",align:null},"INGESTION Mode Aspect"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Description"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setDescription()")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"editableDatasetProperties")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"datasetProperties"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Display Name"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"setDisplayName()")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"editableDatasetProperties")),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"datasetProperties"))))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Explicit methods")," (always available):"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"setSystemDescription()")," / ",(0,n.yg)("inlineCode",{parentName:"li"},"setEditableDescription()")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"setSystemDisplayName()")," / ",(0,n.yg)("inlineCode",{parentName:"li"},"setEditableDisplayName()"))),(0,n.yg)("h2",{id:"common-patterns"},"Common Patterns"),(0,n.yg)("h3",{id:"creating-multiple-datasets"},"Creating Multiple Datasets"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'for (String tableName : tableNames) {\n    Dataset dataset = Dataset.builder()\n        .platform("postgres")\n        .name("public." + tableName)\n        .env("PROD")\n        .build();\n\n    dataset.addTag("auto-generated")\n           .addCustomProperty("created_by", "sync_job");\n\n    client.entities().upsert(dataset);\n}\n')),(0,n.yg)("h3",{id:"batch-metadata-addition"},"Batch Metadata Addition"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\nList<String> tags = Arrays.asList("pii", "sensitive", "gdpr");\ntags.forEach(dataset::addTag);\n\nclient.entities().upsert(dataset);  // Emits all tags in one call\n')),(0,n.yg)("h3",{id:"conditional-metadata"},"Conditional Metadata"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'if (isPII(dataset)) {\n    dataset.addTag("pii")\n           .addTerm("urn:li:glossaryTerm:PersonalData");\n}\n\nif (requiresGovernance(dataset)) {\n    dataset.addOwner("urn:li:corpuser:governance_team", OwnershipType.DATA_STEWARD);\n}\n')),(0,n.yg)("h2",{id:"next-steps"},"Next Steps"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/chart-entity"},"Chart Entity"))," - Working with chart entities"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/patch-operations"},"Patch Operations"))," - Deep dive into patches"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},(0,n.yg)("a",{parentName:"strong",href:"/docs/metadata-integration/java/docs/sdk-v2/migration-from-v1"},"Migration Guide"))," - Upgrading from V1")),(0,n.yg)("h2",{id:"examples"},"Examples"),(0,n.yg)("h3",{id:"basic-dataset-creation"},"Basic Dataset Creation"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/DatasetCreateExample.java\npackage io.datahubproject.examples.v2;\n\nimport com.linkedin.common.OwnershipType;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Dataset;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Example demonstrating how to create a Dataset using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Creating a DataHubClientV2\n *   <li>Building a Dataset with fluent builder\n *   <li>Adding tags, owners, and custom properties\n *   <li>Upserting to DataHub\n * </ul>\n */\npublic class DatasetCreateExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException {\n    // Create client (use environment variables or pass explicit values)\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN")) // Optional\n            .build();\n\n    try {\n      // Test connection\n      if (!client.testConnection()) {\n        System.err.println("Failed to connect to DataHub server");\n        return;\n      }\n      System.out.println("\u2713 Connected to DataHub");\n\n      // Build dataset with metadata\n      Dataset dataset =\n          Dataset.builder()\n              .platform("snowflake")\n              .name("analytics.public.user_events")\n              .env("PROD")\n              .description("User interaction events from web and mobile applications")\n              .displayName("User Events")\n              .build();\n\n      System.out.println("\u2713 Built dataset with URN: " + dataset.getUrn());\n\n      // Add tags\n      dataset.addTag("pii").addTag("analytics").addTag("gdpr");\n\n      System.out.println("\u2713 Added 3 tags");\n\n      // Add owners\n      dataset\n          .addOwner("urn:li:corpuser:datahub", OwnershipType.TECHNICAL_OWNER)\n          .addOwner("urn:li:corpuser:data_team", OwnershipType.DATA_STEWARD);\n\n      System.out.println("\u2713 Added 2 owners");\n\n      // Add custom properties\n      dataset\n          .addCustomProperty("team", "data-engineering")\n          .addCustomProperty("retention_days", "365")\n          .addCustomProperty("refresh_schedule", "daily")\n          .addCustomProperty("source_system", "web_analytics");\n\n      System.out.println("\u2713 Added 4 custom properties");\n\n      // Upsert to DataHub\n      client.entities().upsert(dataset);\n\n      System.out.println("\u2713 Successfully created dataset in DataHub!");\n      System.out.println("\\n  URN: " + dataset.getUrn());\n      System.out.println(\n          "  View in DataHub: " + client.getConfig().getServer() + "/dataset/" + dataset.getUrn());\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')),(0,n.yg)("h3",{id:"dataset-patch-operations"},"Dataset Patch Operations"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/DatasetPatchExample.java\npackage io.datahubproject.examples.v2;\n\nimport com.linkedin.common.OwnershipType;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Dataset;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Example demonstrating patch-based updates using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Adding tags, owners, and properties to existing dataset\n *   <li>Patch accumulation pattern\n *   <li>Efficient incremental updates\n * </ul>\n */\npublic class DatasetPatchExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException {\n    // Create client\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN"))\n            .build();\n\n    try {\n      // Create a simple dataset\n      Dataset dataset =\n          Dataset.builder()\n              .platform("snowflake")\n              .name("analytics.public.user_events")\n              .env("PROD")\n              .build();\n\n      System.out.println("Dataset URN: " + dataset.getUrn());\n\n      // Add metadata using patches (accumulate without emitting)\n      dataset\n          .addTag("pii")\n          .addTag("analytics")\n          .addOwner("urn:li:corpuser:datahub", OwnershipType.TECHNICAL_OWNER)\n          .addCustomProperty("team", "data-engineering");\n\n      System.out.println("Accumulated " + dataset.getPendingPatches().size() + " patches");\n\n      // Emit all patches in single upsert\n      client.entities().upsert(dataset);\n\n      System.out.println("\u2713 Successfully applied all patches!");\n\n      // Later, add more patches\n      dataset\n          .addTag("gdpr")\n          .addCustomProperty("updated_at", String.valueOf(System.currentTimeMillis()));\n\n      System.out.println("Accumulated " + dataset.getPendingPatches().size() + " more patches");\n\n      // Apply new patches\n      client.entities().upsert(dataset);\n\n      System.out.println("\u2713 Successfully applied additional patches!");\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')),(0,n.yg)("h3",{id:"comprehensive-dataset-example"},"Comprehensive Dataset Example"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'# Inlined from /metadata-integration/java/examples/src/main/java/io/datahubproject/examples/v2/DatasetFullExample.java\npackage io.datahubproject.examples.v2;\n\nimport com.linkedin.common.OwnershipType;\nimport datahub.client.v2.DataHubClientV2;\nimport datahub.client.v2.entity.Dataset;\nimport java.io.IOException;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Comprehensive example demonstrating all Dataset metadata operations using Java SDK V2.\n *\n * <p>This example shows:\n *\n * <ul>\n *   <li>Creating a dataset with complete metadata\n *   <li>Adding tags, owners, glossary terms\n *   <li>Setting domain and custom properties\n *   <li>Combining all operations in single entity\n * </ul>\n */\npublic class DatasetFullExample {\n\n  public static void main(String[] args)\n      throws IOException, ExecutionException, InterruptedException {\n    // Create client\n    DataHubClientV2 client =\n        DataHubClientV2.builder()\n            .server(System.getenv().getOrDefault("DATAHUB_SERVER", "http://localhost:8080"))\n            .token(System.getenv("DATAHUB_TOKEN"))\n            .build();\n\n    try {\n      // Test connection\n      if (!client.testConnection()) {\n        System.err.println("Failed to connect to DataHub server");\n        return;\n      }\n      System.out.println("\u2713 Connected to DataHub");\n\n      // Build comprehensive dataset with all metadata types\n      Dataset dataset =\n          Dataset.builder()\n              .platform("snowflake")\n              .name("analytics.public.customer_transactions")\n              .env("PROD")\n              .description(\n                  "Complete customer transaction history including purchases, refunds, and adjustments. "\n                      + "This dataset is the source of truth for financial reporting and customer analytics.")\n              .displayName("Customer Transactions")\n              .build();\n\n      System.out.println("\u2713 Built dataset with URN: " + dataset.getUrn());\n\n      // Add multiple tags for categorization\n      dataset\n          .addTag("pii")\n          .addTag("financial")\n          .addTag("analytics")\n          .addTag("gdpr")\n          .addTag("production");\n\n      System.out.println("\u2713 Added 5 tags");\n\n      // Add multiple owners with different roles\n      dataset\n          .addOwner("urn:li:corpuser:data_team", OwnershipType.TECHNICAL_OWNER)\n          .addOwner("urn:li:corpuser:finance_team", OwnershipType.DATA_STEWARD)\n          .addOwner("urn:li:corpuser:compliance_team", OwnershipType.DATA_STEWARD);\n\n      System.out.println("\u2713 Added 3 owners");\n\n      // Add glossary terms for business context\n      dataset\n          .addTerm("urn:li:glossaryTerm:CustomerData")\n          .addTerm("urn:li:glossaryTerm:FinancialTransaction")\n          .addTerm("urn:li:glossaryTerm:GDPR.PersonalData");\n\n      System.out.println("\u2713 Added 3 glossary terms");\n\n      // Set domain for organizational structure\n      dataset.setDomain("urn:li:domain:Finance");\n\n      System.out.println("\u2713 Set domain");\n\n      // Add comprehensive custom properties\n      dataset\n          .addCustomProperty("team", "data-platform")\n          .addCustomProperty("retention_days", "2555") // 7 years for financial data\n          .addCustomProperty("refresh_schedule", "hourly")\n          .addCustomProperty("source_system", "payment_gateway")\n          .addCustomProperty("sla_tier", "tier1")\n          .addCustomProperty("encryption", "AES-256")\n          .addCustomProperty("backup_frequency", "continuous")\n          .addCustomProperty("compliance_level", "PCI-DSS")\n          .addCustomProperty("data_classification", "highly-confidential")\n          .addCustomProperty("business_criticality", "mission-critical");\n\n      System.out.println("\u2713 Added 10 custom properties");\n\n      // Count accumulated patches\n      System.out.println("\\nAccumulated " + dataset.getPendingPatches().size() + " patches");\n\n      // Upsert to DataHub - all metadata in single operation\n      client.entities().upsert(dataset);\n\n      System.out.println("\\n\u2713 Successfully created comprehensive dataset in DataHub!");\n      System.out.println("\\nSummary:");\n      System.out.println("  URN: " + dataset.getUrn());\n      System.out.println("  Platform: snowflake");\n      System.out.println("  Tags: 5");\n      System.out.println("  Owners: 3");\n      System.out.println("  Glossary Terms: 3");\n      System.out.println("  Domain: Finance");\n      System.out.println("  Custom Properties: 10");\n      System.out.println(\n          "\\n  View in DataHub: "\n              + client.getConfig().getServer()\n              + "/dataset/"\n              + dataset.getUrn());\n\n    } finally {\n      client.close();\n    }\n  }\n}\n\n')))}g.isMDXComponent=!0}}]);