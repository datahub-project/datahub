"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[4311],{42305:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>p,toc:()=>g});t(96540);var n=t(15680),o=t(53720),r=t(5400);function i(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):function(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})),e}function u(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const l={title:"DataHub Quickstart Guide",sidebar_label:"Quickstart Guide",slug:"/quickstart",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/quickstart.md"},d="DataHub Quickstart Guide",p={unversionedId:"docs/quickstart",id:"docs/quickstart",title:"DataHub Quickstart Guide",description:"This guide provides instructions on deploying the open source DataHub locally.",source:"@site/genDocs/docs/quickstart.md",sourceDirName:"docs",slug:"/quickstart",permalink:"/docs/quickstart",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/quickstart.md",tags:[],version:"current",frontMatter:{title:"DataHub Quickstart Guide",sidebar_label:"Quickstart Guide",slug:"/quickstart",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/quickstart.md"},sidebar:"overviewSidebar",previous:{title:"What is DataHub?",permalink:"/docs/features"},next:{title:"Features",permalink:"/docs/category/features"}},c={},g=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Install the DataHub CLI",id:"install-the-datahub-cli",level:2},{value:"Start DataHub",id:"start-datahub",level:2},{value:"Sign In",id:"sign-in",level:3},{value:"Ingest Sample Data",id:"ingest-sample-data",level:3},{value:"Common Operations",id:"common-operations",level:2},{value:"Stop DataHub",id:"stop-datahub",level:3},{value:"Reset DataHub",id:"reset-datahub",level:3},{value:"Upgrade DataHub",id:"upgrade-datahub",level:3},{value:"Customize installation",id:"customize-installation",level:3},{value:"Back up DataHub",id:"back-up-datahub",level:3},{value:"Restore DataHub",id:"restore-datahub",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Move To Production",id:"move-to-production",level:3},{value:"Default Credentials",id:"default-credentials",level:4},{value:"Exposed Ports",id:"exposed-ports",level:4},{value:"Performance &amp; Management",id:"performance--management",level:4}],m={toc:g},y="wrapper";function h(e){var{components:a}=e,t=u(e,["components"]);return(0,n.yg)(y,s(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){i(e,a,t[a])}))}return e}({},m,t),{components:a,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"datahub-quickstart-guide"},"DataHub Quickstart Guide"),(0,n.yg)("admonition",{title:"DataHub Cloud",type:"tip"},(0,n.yg)("p",{parentName:"admonition"},"This guide provides instructions on deploying the open source DataHub locally.\nIf you're interested in a managed version, ",(0,n.yg)("a",{parentName:"p",href:"https://www.datahub.com"},"DataHub")," provides a fully managed, premium version of DataHub. ",(0,n.yg)("br",null),"\n",(0,n.yg)("strong",{parentName:"p"},(0,n.yg)("a",{parentName:"strong",href:"/docs/managed-datahub/welcome-acryl"},"Get Started with DataHub Cloud")))),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Install ",(0,n.yg)("strong",{parentName:"p"},"Docker")," and ",(0,n.yg)("strong",{parentName:"p"},"Docker Compose")," v2 for your platform."),(0,n.yg)("table",{parentName:"li"},(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Platform"),(0,n.yg)("th",{parentName:"tr",align:null},"Application"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Window"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"https://www.docker.com/products/docker-desktop/"},"Docker Desktop"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Mac"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"https://www.docker.com/products/docker-desktop/"},"Docker Desktop"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Linux"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"https://docs.docker.com/desktop/install/linux-install/"},"Docker for Linux")," and ",(0,n.yg)("a",{parentName:"td",href:"https://docs.docker.com/compose/install/linux/"},"Docker Compose")))))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Launch the Docker engine")," from command line or the desktop app.")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Ensure you have ",(0,n.yg)("strong",{parentName:"p"},"Python 3.9+")," installed & configured. (Check using ",(0,n.yg)("inlineCode",{parentName:"p"},"python3 --version"),")."))),(0,n.yg)("admonition",{title:"Docker Resource Allocation",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Make sure to allocate enough hardware resources for Docker engine. ",(0,n.yg)("br",null),"\nTested & confirmed config: 2 CPUs, 8GB RAM, 2GB Swap area, and 12GB disk space.")),(0,n.yg)("h2",{id:"install-the-datahub-cli"},"Install the DataHub CLI"),(0,n.yg)(o.A,{mdxType:"Tabs"},(0,n.yg)(r.A,{value:"pip",label:"pip",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"python3 -m pip install --upgrade pip wheel setuptools\npython3 -m pip install --upgrade acryl-datahub\ndatahub version\n")),(0,n.yg)("admonition",{title:"Command Not Found",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"If you see ",(0,n.yg)("inlineCode",{parentName:"p"},"command not found"),", try running cli commands like ",(0,n.yg)("inlineCode",{parentName:"p"},"python3 -m datahub version"),". ",(0,n.yg)("br",null),"\nNote that DataHub CLI does not support Python 2.x."))),(0,n.yg)(r.A,{value:"poetry",label:"poetry",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"poetry add acryl-datahub\npoetry shell\ndatahub version\n")))),(0,n.yg)("h2",{id:"start-datahub"},"Start DataHub"),(0,n.yg)("p",null,"Run the following CLI command from your terminal."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart\n")),(0,n.yg)("p",null,"This will deploy a DataHub instance using ",(0,n.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker-compose"),".\nIf you are curious, the ",(0,n.yg)("inlineCode",{parentName:"p"},"docker-compose.yaml")," file is downloaded to your home directory under the ",(0,n.yg)("inlineCode",{parentName:"p"},".datahub/quickstart")," directory."),(0,n.yg)("p",null,"If things go well, you should see messages like the ones below:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-shell-session"},'Fetching docker-compose file https://raw.githubusercontent.com/datahub-project/datahub/master/docker/quickstart/docker-compose.quickstart-profile.yml from GitHub\nPulling docker images...\nFinished pulling docker images!\n\nStarting up DataHub...\n[+] Running 14/14\n \u2714 Network datahub_network                         Created                                                                                              0.0s\n \u2714 Volume "datahub_broker"                         Created                                                                                              0.0s\n \u2714 Volume "datahub_mysqldata"                      Created                                                                                              0.0s\n \u2714 Volume "datahub_osdata"                         Created                                                                                              0.0s\n \u2714 Container datahub-mysql-1                       Healthy                                                                                             11.6s\n \u2714 Container datahub-opensearch-1                  Healthy                                                                                             11.6s\n \u2714 Container datahub-kafka-broker-1                Healthy                                                                                              6.0s\n \u2714 Container datahub-opensearch-setup-1            Exited                                                                                              11.6s\n \u2714 Container datahub-mysql-setup-1                 Exited                                                                                              11.6s\n \u2714 Container datahub-system-update-quickstart-1    Exited                                                                                              26.6s\n \u2714 Container datahub-datahub-gms-quickstart-1      Healthy                                                                                             42.1s\n \u2714 Container datahub-frontend-quickstart-1         Started                                                                                             26.6s\n \u2714 Container datahub-datahub-actions-quickstart-1  Started                                                                                             42.1s\n\n\u2714 DataHub is now running\nIngest some demo data using `datahub docker ingest-sample-data`,\nor head to http://localhost:9002 (username: datahub, password: datahub) to play around with the frontend.\nNeed support? Get in touch on Slack: https://datahub.com/slack/\n')),(0,n.yg)("admonition",{title:"Breaking change",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"From version 1.2 onwards, the ",(0,n.yg)("inlineCode",{parentName:"p"},"datahub docker quickstart")," command uses a version of docker-compose file that is incompatible with datahub that was installed using earlier versions of the CLI."),(0,n.yg)("p",{parentName:"admonition"},"If you have datahub already installed using an earlier version of CLI, additional steps are needed to upgrade."),(0,n.yg)("p",{parentName:"admonition"},"Required steps to upgrade:"),(0,n.yg)("ol",{parentName:"admonition"},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Backup your data (recommended): datahub docker quickstart --backup\nGuide: ",(0,n.yg)("a",{parentName:"p",href:"https://docs.datahub.com/docs/quickstart#back-up-datahub"},"https://docs.datahub.com/docs/quickstart#back-up-datahub"),"\nThis step can be skipped if data does not need to be preserved.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Remove old installation: datahub docker nuke")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Start fresh installation: datahub docker quickstart"))),(0,n.yg)("p",{parentName:"admonition"},"\u26a0\ufe0f Without backup, all existing data will be lost.")),(0,n.yg)("h3",{id:"sign-in"},"Sign In"),(0,n.yg)("p",null,"Upon completion of this step, you should be able to navigate to the DataHub UI at ",(0,n.yg)("a",{parentName:"p",href:"http://localhost:9002"},"http://localhost:9002")," in your browser.\nYou can sign in using the default credentials below."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-json"},"username: datahub\npassword: datahub\n")),(0,n.yg)("p",null,"To change the default credentials, please refer to ",(0,n.yg)("a",{parentName:"p",href:"/docs/authentication/changing-default-credentials#quickstart"},"Change the default user datahub in quickstart"),"."),(0,n.yg)("h3",{id:"ingest-sample-data"},"Ingest Sample Data"),(0,n.yg)("p",null,"To ingest the sample metadata, run the following CLI command from your terminal"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker ingest-sample-data\n")),(0,n.yg)("admonition",{title:"Token Authentication",type:"note"},(0,n.yg)("p",{parentName:"admonition"},"If you've enabled ",(0,n.yg)("a",{parentName:"p",href:"/docs/authentication/introducing-metadata-service-authentication"},"Metadata Service Authentication"),", you'll need to provide a Personal Access Token\nusing the ",(0,n.yg)("inlineCode",{parentName:"p"},"--token <token>")," parameter in the command.")),(0,n.yg)("p",null,"That's it! Now feel free to play around with DataHub!"),(0,n.yg)("hr",null),(0,n.yg)("h2",{id:"common-operations"},"Common Operations"),(0,n.yg)("h3",{id:"stop-datahub"},"Stop DataHub"),(0,n.yg)("p",null,"To stop DataHub's quickstart, you can issue the following command."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --stop\n")),(0,n.yg)("h3",{id:"reset-datahub"},"Reset DataHub"),(0,n.yg)("p",null,"To cleanse DataHub of all of its state (e.g. before ingesting your own), you can use the CLI ",(0,n.yg)("inlineCode",{parentName:"p"},"nuke")," command."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker nuke\n")),(0,n.yg)("h3",{id:"upgrade-datahub"},"Upgrade DataHub"),(0,n.yg)("p",null,"If you have been testing DataHub locally, a new version of DataHub got released and you want to try the new version then you can just issue the quickstart command again. It will pull down newer images and restart your instance without losing any data."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart\n")),(0,n.yg)("p",null,"By default, quickstart will install the latest released version of datahub. You can pick a specific version by specifying a release explicitly."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --version v1.2.0\n")),(0,n.yg)("p",null,"You can see the releases available on the ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/datahub-project/datahub/releases"},"github releases")," page\nYou can also specify ",(0,n.yg)("inlineCode",{parentName:"p"},"head")," as the version to get the latest development version on the master branch."),(0,n.yg)("h3",{id:"customize-installation"},"Customize installation"),(0,n.yg)("p",null,"If you would like to customize the DataHub installation further, please download the ",(0,n.yg)("a",{parentName:"p",href:"https://raw.githubusercontent.com/datahub-project/datahub/master/docker/quickstart/docker-compose-without-neo4j-m1.quickstart.yml"},"docker-compose.yaml")," used by the cli tool, modify it as necessary and deploy DataHub by passing the downloaded docker-compose file:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --quickstart-compose-file <path to compose file>\n")),(0,n.yg)("h3",{id:"back-up-datahub"},"Back up DataHub"),(0,n.yg)("p",null,"The quickstart image is not recommended for use as a production instance. ",(0,n.yg)("br",null),"\nHowever, in case you want to take a backup of your current quickstart state (e.g. you have a demo to your company coming up and you want to create a copy of the quickstart data so you can restore it at a future date), you can supply the ",(0,n.yg)("inlineCode",{parentName:"p"},"--backup")," flag to quickstart."),(0,n.yg)(o.A,{mdxType:"Tabs"},(0,n.yg)(r.A,{value:"backup",label:"Back up (default)",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --backup\n")),(0,n.yg)("p",null,"This will take a backup of your MySQL image and write it by default to your ",(0,n.yg)("inlineCode",{parentName:"p"},"~/.datahub/quickstart/")," directory as the file ",(0,n.yg)("inlineCode",{parentName:"p"},"backup.sql"),".")),(0,n.yg)(r.A,{value:"backup custom",label:"Back up to custom directory",mdxType:"TabItem"},(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --backup --backup-file <path to backup file>\n")),(0,n.yg)("p",null,"You can customize the backup file path by passing a ",(0,n.yg)("inlineCode",{parentName:"p"},"--backup-file")," argument."))),(0,n.yg)("admonition",{type:"caution"},(0,n.yg)("p",{parentName:"admonition"},"Note that the Quickstart backup does not include any timeseries data (dataset statistics, profiles, etc.), so you will lose that information if you delete all your indexes and restore from this backup.")),(0,n.yg)("h3",{id:"restore-datahub"},"Restore DataHub"),(0,n.yg)("p",null,"As you might imagine, these backups are restore-able. The following section describes a few different options you have to restore your backup."),(0,n.yg)(o.A,{mdxType:"Tabs"},(0,n.yg)(r.A,{value:"General",label:"General Restoring",mdxType:"TabItem"},(0,n.yg)("p",null,"To restore a previous backup, run the following command:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --restore\n")),(0,n.yg)("p",null,"This command will pick up the ",(0,n.yg)("inlineCode",{parentName:"p"},"backup.sql")," file located under ",(0,n.yg)("inlineCode",{parentName:"p"},"~/.datahub/quickstart")," and restore your primary database as well as the elasticsearch indexes with it."),(0,n.yg)("p",null,"To supply a specific backup file, use the ",(0,n.yg)("inlineCode",{parentName:"p"},"--restore-file")," option."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --restore --restore-file /home/my_user/datahub_backups/quickstart_backup_2002_22_01.sql\n"))),(0,n.yg)(r.A,{value:"Restoring Only Index",label:"Restore Only Index",mdxType:"TabItem"},(0,n.yg)("p",null,"Another situation that can come up is the index can get corrupt, or be missing some update. In order to re-bootstrap the index from the primary store, you can run this command to sync the index with the primary store."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --restore-indices\n"))),(0,n.yg)(r.A,{value:"Restoring Only Primary",label:"Restore Only Primary",mdxType:"TabItem"},(0,n.yg)("p",null,"Sometimes, you might want to just restore the state of your primary database (MySQL), but not re-index the data. To do this, you have to explicitly disable the restore-indices capability."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"datahub docker quickstart --restore --no-restore-indices\n")))),(0,n.yg)("hr",null),(0,n.yg)("h2",{id:"next-steps"},"Next Steps"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/troubleshooting/quickstart"},"Quickstart Debugging Guide")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/ui-ingestion"},"Ingest metadata through the UI")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/metadata-ingestion"},"Ingest metadata through the CLI")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/authentication/guides/add-users"},"Add Users to DataHub")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/authentication/guides/sso/configure-oidc-react"},"Configure OIDC Authentication")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/authentication/guides/jaas"},"Configure JaaS Authentication")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/authentication/introducing-metadata-service-authentication#configuring-metadata-service-authentication"},"Configure authentication in DataHub's backend"),"."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"/docs/authentication/changing-default-credentials#quickstart"},"Change the default user datahub in quickstart"))),(0,n.yg)("h3",{id:"move-to-production"},"Move To Production"),(0,n.yg)("admonition",{type:"caution"},(0,n.yg)("p",{parentName:"admonition"},"Quickstart is not intended for a production environment. We recommend deploying DataHub to production using Kubernetes.\nWe provide helpful ",(0,n.yg)("a",{parentName:"p",href:"https://artifacthub.io/packages/helm/datahub/datahub"},"Helm Charts")," to help you quickly get up and running.\nCheck out ",(0,n.yg)("a",{parentName:"p",href:"/docs/deploy/kubernetes"},"Deploying DataHub to Kubernetes")," for a step-by-step walkthrough.")),(0,n.yg)("p",null,"The ",(0,n.yg)("inlineCode",{parentName:"p"},"quickstart")," method of running DataHub is intended for local development and a quick way to experience the features that DataHub has to offer.\nIt is not intended for a production environment. This recommendation is based on the following points."),(0,n.yg)("h4",{id:"default-credentials"},"Default Credentials"),(0,n.yg)("p",null,(0,n.yg)("inlineCode",{parentName:"p"},"quickstart")," uses docker compose configuration which includes default credentials for both DataHub, and it's underlying\nprerequisite data stores, such as MySQL. Additionally, other components are unauthenticated out of the box. This is a\ndesign choice to make development easier and is not best practice for a production environment."),(0,n.yg)("h4",{id:"exposed-ports"},"Exposed Ports"),(0,n.yg)("p",null,"DataHub's services, and it's backend data stores use the docker default behavior of binding to all interface addresses.\nThis makes it useful for development but is not recommended in a production environment."),(0,n.yg)("h4",{id:"performance--management"},"Performance & Management"),(0,n.yg)("p",null,(0,n.yg)("inlineCode",{parentName:"p"},"quickstart")," is limited by the resources available on a single host, there is no ability to scale horizontally.\nRollout of new versions often requires downtime and the configuration is largely pre-determined and not easily managed.\nLastly, by default, ",(0,n.yg)("inlineCode",{parentName:"p"},"quickstart")," follows the most recent builds forcing updates to the latest released and unreleased builds."))}h.isMDXComponent=!0}}]);