"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[51659],{15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>y});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),p=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},d="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,y=d["".concat(i,".").concat(c)]||d[c]||g[c]||l;return a?n.createElement(y,s(s({ref:t},u),{},{components:a})):n.createElement(y,s({ref:t},u))}));function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=c;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[d]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<l;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},94018:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>y,frontMatter:()=>o,metadata:()=>p,toc:()=>d});a(96540);var n=a(15680);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const o={title:"Why We Hand-Crafted the Java SDK V2 (Instead of Generating It)",slug:"/developers/java-sdk-v2-philosophy",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/developers/java-sdk-v2-philosophy.md"},i="Why We Hand-Crafted the Java SDK V2 (Instead of Generating It)",p={unversionedId:"docs/developers/java-sdk-v2-philosophy",id:"docs/developers/java-sdk-v2-philosophy",title:"Why We Hand-Crafted the Java SDK V2 (Instead of Generating It)",description:"The Question",source:"@site/genDocs/docs/developers/java-sdk-v2-philosophy.md",sourceDirName:"docs/developers",slug:"/developers/java-sdk-v2-philosophy",permalink:"/docs/developers/java-sdk-v2-philosophy",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/developers/java-sdk-v2-philosophy.md",tags:[],version:"current",frontMatter:{title:"Why We Hand-Crafted the Java SDK V2 (Instead of Generating It)",slug:"/developers/java-sdk-v2-philosophy",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/developers/java-sdk-v2-philosophy.md"}},u={},d=[{value:"The Question",id:"the-question",level:2},{value:"When Code Generation Works Beautifully",id:"when-code-generation-works-beautifully",level:2},{value:"The Semantic Gap: Why DataHub Is Different",id:"the-semantic-gap-why-datahub-is-different",level:2},{value:"The Aspect-Based Model",id:"the-aspect-based-model",level:3},{value:"The Patch Complexity",id:"the-patch-complexity",level:3},{value:"The Mode Problem",id:"the-mode-problem",level:3},{value:"Five Principles of Hand-Crafted SDKs",id:"five-principles-of-hand-crafted-sdks",level:2},{value:"1. Semantic Layers Translate Domain Concepts",id:"1-semantic-layers-translate-domain-concepts",level:3},{value:"2. Opinionated APIs: The 95/5 Rule",id:"2-opinionated-apis-the-955-rule",level:3},{value:"3. Encoding Expert Knowledge",id:"3-encoding-expert-knowledge",level:3},{value:"Why Not an ORM Approach?",id:"why-not-an-orm-approach",level:3},{value:"4. Centralized Maintenance vs Distributed Pain",id:"4-centralized-maintenance-vs-distributed-pain",level:3},{value:"5. Progressive Disclosure",id:"5-progressive-disclosure",level:3},{value:"6. Immutability by Default",id:"6-immutability-by-default",level:3},{value:"What This Costs (And Why It&#39;s Worth It)",id:"what-this-costs-and-why-its-worth-it",level:2},{value:"The Philosophy: What SDKs Should Be",id:"the-philosophy-what-sdks-should-be",level:2},{value:"When Should You Generate? When Should You Craft?",id:"when-should-you-generate-when-should-you-craft",level:2},{value:"Conclusion: Empathy at Scale",id:"conclusion-empathy-at-scale",level:2}],g={toc:d},c="wrapper";function y(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(c,l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},g,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"why-we-hand-crafted-the-java-sdk-v2-instead-of-generating-it"},"Why We Hand-Crafted the Java SDK V2 (Instead of Generating It)"),(0,n.yg)("h2",{id:"the-question"},"The Question"),(0,n.yg)("p",null,"When building DataHub's Java SDK V2, we faced a choice that every API platform eventually confronts: should we generate our SDK from OpenAPI specs, or hand-craft it?"),(0,n.yg)("p",null,"OpenAPI code generation is seductive. Tools like OpenAPI Generator promise instant SDKs in dozens of languages. Run a command, get a client\u2014complete with type-safe models, proper serialization, and comprehensive endpoint coverage. Why would anyone choose to write thousands of lines of code by hand?"),(0,n.yg)("p",null,"We chose to hand-craft. This document explains why."),(0,n.yg)("h2",{id:"when-code-generation-works-beautifully"},"When Code Generation Works Beautifully"),(0,n.yg)("p",null,"Let's be clear: code generation isn't wrong. It's incredibly effective when your abstraction boundary aligns with your wire protocol."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"CRUD APIs"),": If your API exposes resources like ",(0,n.yg)("inlineCode",{parentName:"p"},"GET /users/{id}"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"POST /users"),", ",(0,n.yg)("inlineCode",{parentName:"p"},"DELETE /users/{id}"),", a generated client is perfect:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"User user = client.getUser(123);\nclient.createUser(newUser);\nclient.deleteUser(456);\n")),(0,n.yg)("p",null,"The user's mental model\u2014\"I want to fetch/create/delete a user\"\u2014maps directly to HTTP operations. There's no translation needed."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Protocol Buffers"),": Google's protobuf generators are exemplary because the ",(0,n.yg)("inlineCode",{parentName:"p"},".proto")," file ",(0,n.yg)("strong",{parentName:"p"},"is")," the contract:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-protobuf"},"service UserService {\n  rpc GetUser(UserId) returns (User);\n  rpc ListUsers(ListRequest) returns (UserList);\n}\n")),(0,n.yg)("p",null,"The service definition becomes the client API with perfect fidelity. What you define is what users get."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"The Pattern"),": Code generation excels when ",(0,n.yg)("strong",{parentName:"p"},"the API's conceptual model matches user mental models"),", and the wire protocol fully captures domain semantics."),(0,n.yg)("h2",{id:"the-semantic-gap-why-datahub-is-different"},"The Semantic Gap: Why DataHub Is Different"),(0,n.yg)("p",null,"DataHub doesn't fit this mold. Our metadata platform has a semantic gap between what users want to do and what the HTTP API exposes."),(0,n.yg)("h3",{id:"the-aspect-based-model"},"The Aspect-Based Model"),(0,n.yg)("p",null,'DataHub stores metadata as discrete "aspects"\u2014properties, tags, ownership, schemas. But users don\'t think in aspects. They think:'),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"\"I want to add a 'PII' tag to this dataset\""),(0,n.yg)("li",{parentName:"ul"},'"I need to assign ownership to John"'),(0,n.yg)("li",{parentName:"ul"},'"This table should be in the Finance domain"')),(0,n.yg)("p",null,"An OpenAPI-generated client would expose:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// What the API provides\nclient.updateGlobalTags(entityUrn, globalTagsPayload);\nclient.updateOwnership(entityUrn, ownershipPayload);\n")),(0,n.yg)("p",null,"But to use this, you need to know:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"What is ",(0,n.yg)("inlineCode",{parentName:"li"},"GlobalTags"),"? How do I construct it?"),(0,n.yg)("li",{parentName:"ul"},"Should I use PUT (full replacement) or PATCH (incremental update)?"),(0,n.yg)("li",{parentName:"ul"},"How do I avoid race conditions when multiple systems update tags?"),(0,n.yg)("li",{parentName:"ul"},"Where do tags even live\u2014in system aspects or editable aspects?")),(0,n.yg)("p",null,"This is expert-level knowledge pushed onto every user."),(0,n.yg)("h3",{id:"the-patch-complexity"},"The Patch Complexity"),(0,n.yg)("p",null,"DataHub supports both full aspect replacement (PUT) and JSON Patch (incremental updates). The generated client would expose both:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Full replacement\nvoid putGlobalTags(Urn entityUrn, GlobalTags tags);\n\n// JSON Patch\nvoid patchGlobalTags(Urn entityUrn, JsonPatch patch);\n")),(0,n.yg)("p",null,"Now users must decide when to use each. Patches are safer (no race conditions), but how do you construct a JsonPatch? Do you use a PatchBuilder? Hand-write JSON?"),(0,n.yg)("p",null,"Every user solves this problem independently, reinventing best practices."),(0,n.yg)("h3",{id:"the-mode-problem"},"The Mode Problem"),(0,n.yg)("p",null,"DataHub has dual aspects: ",(0,n.yg)("strong",{parentName:"p"},"system aspects")," (written by ingestion pipelines) and ",(0,n.yg)("strong",{parentName:"p"},"editable aspects")," (written by humans via UI/SDK). Users editing metadata should write to editable aspects, but pipelines should write to system aspects."),(0,n.yg)("p",null,"A generated client doesn't understand this distinction. It just exposes endpoints. Users must learn DataHub's aspect model to route correctly."),(0,n.yg)("h2",{id:"five-principles-of-hand-crafted-sdks"},"Five Principles of Hand-Crafted SDKs"),(0,n.yg)("p",null,"Our hand-crafted SDK addresses these gaps through five design principles."),(0,n.yg)("h3",{id:"1-semantic-layers-translate-domain-concepts"},"1. Semantic Layers Translate Domain Concepts"),(0,n.yg)("p",null,"The SDK provides operations that match how users think:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("fact_revenue")\n    .build();\n\n// Think "add a tag", not "construct and PUT a GlobalTags aspect"\ndataset.addTag("pii");\n\n// Think "assign ownership", not "build an Ownership aspect"\ndataset.addOwner("urn:li:corpuser:jdoe", OwnershipType.TECHNICAL_OWNER);\n\nclient.entities().upsert(dataset);\n')),(0,n.yg)("p",null,"The SDK translates ",(0,n.yg)("inlineCode",{parentName:"p"},"addTag()")," into the correct:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Aspect type (GlobalTags)"),(0,n.yg)("li",{parentName:"ul"},"Operation type (JSON Patch for safety)"),(0,n.yg)("li",{parentName:"ul"},"Aspect variant (editable, in SDK mode)"),(0,n.yg)("li",{parentName:"ul"},"JSON path (into the aspect structure)")),(0,n.yg)("p",null,"This is ",(0,n.yg)("strong",{parentName:"p"},"semantic translation"),"\u2014mapping domain intent to wire protocol. Generators can't do this because the semantics live in institutional knowledge, not OpenAPI specs."),(0,n.yg)("h3",{id:"2-opinionated-apis-the-955-rule"},"2. Opinionated APIs: The 95/5 Rule"),(0,n.yg)("p",null,"We optimized for the 95% case and provided escape hatches for the 5%."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"The 95% case"),": Incremental metadata changes\u2014add a tag, update ownership, set a domain."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'dataset.addTag("sensitive")\n       .addOwner(ownerUrn, type)\n       .setDomain(domainUrn);\n\nclient.entities().update(dataset);\n')),(0,n.yg)("p",null,"Users never think about PUT vs PATCH, aspect construction, or batch strategies. It just works."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"The 5% case"),": Complete aspect replacement, custom MCPs, or operations V2 doesn't support."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Drop to V1 SDK for full control\nRestEmitter emitter = client.emitter();\nMetadataChangeProposalWrapper mcpw = /* custom logic */;\nemitter.emit(mcpw).get();\n")),(0,n.yg)("p",null,"This philosophy\u2014",(0,n.yg)("strong",{parentName:"p"},"make simple things trivial, complex things possible"),"\u2014requires intentional API design. Generators produce flat API surfaces where every operation has equal weight."),(0,n.yg)("h3",{id:"3-encoding-expert-knowledge"},"3. Encoding Expert Knowledge"),(0,n.yg)("p",null,"Every platform accumulates tribal knowledge:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},'"Always use patches for concurrent-safe updates"'),(0,n.yg)("li",{parentName:"ul"},'"Editable aspects override system aspects in SDK mode"'),(0,n.yg)("li",{parentName:"ul"},'"Batch operations to avoid Kafka load spikes"'),(0,n.yg)("li",{parentName:"ul"},'"Schema field names don\'t always match aspect names"')),(0,n.yg)("p",null,"A generated client leaves this knowledge in Slack threads and documentation. Users discover best practices through painful trial and error."),(0,n.yg)("p",null,"The hand-crafted SDK ",(0,n.yg)("strong",{parentName:"p"},"encodes")," this knowledge:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"// Users call addTag(), SDK internally:\n// - Creates a JSON Patch (not full replacement)\n// - Targets the editable aspect in SDK mode\n// - Accumulates patches for atomic emission\n// - Uses the correct field paths\n")),(0,n.yg)("p",null,"The SDK becomes ",(0,n.yg)("strong",{parentName:"p"},"executable documentation")," of best practices. This scales better than tribal knowledge."),(0,n.yg)("h3",{id:"why-not-an-orm-approach"},"Why Not an ORM Approach?"),(0,n.yg)("p",null,"Tools like Hibernate, SQLAlchemy, and Pydantic+ORM excel at managing complex object graphs in transactional applications. Why didn't we use this pattern?"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Metadata operations follow different patterns than OLTP workloads:")),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Bulk mutations"),' - "Tag 50 datasets as PII" requires only URNs and the operation, not loading full object graphs'),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Point lookups"),' - "Get this dataset\'s schema before querying" is a direct fetch, no relationship navigation needed'),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Read-modify-write"),' - "Infer quality scores from schema statistics" involves fetching an aspect, transforming it, and patching it back')),(0,n.yg)("p",null,"ORMs optimize for relationship traversal (",(0,n.yg)("inlineCode",{parentName:"p"},"dataset.container.database.catalog"),"), session lifecycle management, and automatic dirty tracking. But:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Relationship traversal")," is handled by DataHub's search and graph query APIs, not in-memory navigation"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Explicit patches")," are central to our design\u2014we want ",(0,n.yg)("inlineCode",{parentName:"li"},"addTag()")," visible in code, not hidden behind session flush"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Session complexity")," adds cognitive overhead without benefit for metadata's bulk/point/patch patterns")),(0,n.yg)("p",null,"The result: a simpler, more explicit API that matches how developers actually work with metadata."),(0,n.yg)("h3",{id:"4-centralized-maintenance-vs-distributed-pain"},"4. Centralized Maintenance vs Distributed Pain"),(0,n.yg)("p",null,"Generated clients push maintenance costs onto users. When we improve DataHub:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Add a new endpoint"),": Users regenerate their client. Breaking change? Every team upgrades simultaneously."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Change error handling"),": Regenerate. Update all call sites."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Optimize batch operations"),": Can't\u2014that logic lives in user code, reinvented by every team.")),(0,n.yg)("p",null,"Hand-crafted SDKs centralize expertise:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Add convenience methods"),": Users pull the SDK update. No code changes required."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Improve retry logic"),": Fixed once in the SDK. All users benefit immediately."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Optimize batching"),": Built into the SDK. Users get better performance automatically.")),(0,n.yg)("p",null,"The total maintenance cost is ",(0,n.yg)("strong",{parentName:"p"},"lower")," because we fix problems once instead of every team solving them independently."),(0,n.yg)("h3",{id:"5-progressive-disclosure"},"5. Progressive Disclosure"),(0,n.yg)("p",null,"Generated clients are flat\u2014every endpoint is equally visible. Hand-crafted SDKs enable ",(0,n.yg)("strong",{parentName:"p"},"progressive disclosure"),": simple tasks are simple, complexity is opt-in."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Day 1 user"),": Create and tag a dataset"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = Dataset.builder()\n    .platform("snowflake")\n    .name("my_table")\n    .build();\n\ndataset.addTag("pii");\nclient.entities().upsert(dataset);\n')),(0,n.yg)("p",null,"No need to understand aspects, patches, or modes."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Week 1 user"),": Manage governance"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"dataset.addOwner(ownerUrn, type)\n       .setDomain(domainUrn)\n       .addTerm(termUrn);\n")),(0,n.yg)("p",null,"Still pure domain operations."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Month 1 user"),": Understand update vs upsert"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'// update() emits only patches (for existing entities)\nDataset existing = client.entities().get(urn);\nDataset mutable = existing.mutable();  // Get writable copy\nmutable.addTag("sensitive");\nclient.entities().update(mutable);\n\n// upsert() emits full aspects + patches\nDataset newEntity = Dataset.builder()...;\nclient.entities().upsert(newEntity);\n')),(0,n.yg)("p",null,"Complexity revealed ",(0,n.yg)("strong",{parentName:"p"},"when needed"),", not upfront."),(0,n.yg)("h3",{id:"6-immutability-by-default"},"6. Immutability by Default"),(0,n.yg)("p",null,"Entities fetched from the server are ",(0,n.yg)("strong",{parentName:"p"},"read-only by default"),", enforcing explicit mutation intent."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"The Problem:")),(0,n.yg)("p",null,"Traditional SDKs allow silent mutation of fetched objects:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},"Dataset dataset = client.get(urn);\n// Pass to function - might it mutate dataset? Who knows!\nprocessDataset(dataset);\n// Is dataset still the same? Must read all code to know\n")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"The Solution:")),(0,n.yg)("p",null,"Immutable-by-default makes mutation intent explicit:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-java"},'Dataset dataset = client.get(urn);\n// dataset is read-only - safe to pass anywhere\nprocessDataset(dataset);\n\n// Want to mutate? Make it explicit\nDataset mutable = dataset.mutable();\nmutable.addTag("updated");\nclient.entities().upsert(mutable);\n')),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Benefits:")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Safety:")," Can't accidentally mutate shared references"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Clarity:")," ",(0,n.yg)("inlineCode",{parentName:"li"},".mutable()")," call signals write intent"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Debugging:")," Easier to track where mutations happen"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Concurrency:")," Safe to share read-only entities across threads")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Design Inspiration:")),(0,n.yg)("p",null,"This pattern is common in modern APIs because immutability scales better than defensive copying:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Rust's ownership model")," - mut vs immutable borrows"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Python's frozen dataclasses")," - ",(0,n.yg)("inlineCode",{parentName:"li"},"@dataclass(frozen=True)")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Java's immutable collections")," - ",(0,n.yg)("inlineCode",{parentName:"li"},"Collections.unmodifiableList()")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Functional programming principles")," - immutable data structures")),(0,n.yg)("p",null,"When you see ",(0,n.yg)("inlineCode",{parentName:"p"},".mutable()")," in our SDK, you're seeing battle-tested patterns from languages designed for safety and concurrency."),(0,n.yg)("h2",{id:"what-this-costs-and-why-its-worth-it"},"What This Costs (And Why It's Worth It)"),(0,n.yg)("p",null,"Hand-crafting isn't free:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"3,000+ lines of code")," across entity classes, caching, and operations"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"457 tests")," validating workflows, not just HTTP mechanics"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"13 documentation guides")," teaching patterns, not just parameters"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Ongoing maintenance")," as DataHub evolves")),(0,n.yg)("p",null,"But this investment compounds. Every hour we spend on the SDK saves hundreds of hours across our user community. The SDK makes metadata management ",(0,n.yg)("strong",{parentName:"p"},"effortless")," instead of just ",(0,n.yg)("strong",{parentName:"p"},"possible"),"."),(0,n.yg)("p",null,"Compare total cost of ownership:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Approach"),(0,n.yg)("th",{parentName:"tr",align:null},"Initial Dev"),(0,n.yg)("th",{parentName:"tr",align:null},"User Onboarding"),(0,n.yg)("th",{parentName:"tr",align:null},"Ongoing Support"),(0,n.yg)("th",{parentName:"tr",align:null},"Innovation Speed"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Generated Client"),(0,n.yg)("td",{parentName:"tr",align:null},"Hours"),(0,n.yg)("td",{parentName:"tr",align:null},"High (steep)"),(0,n.yg)("td",{parentName:"tr",align:null},"High (repeated)"),(0,n.yg)("td",{parentName:"tr",align:null},"Slow (coupled)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Hand-Crafted SDK"),(0,n.yg)("td",{parentName:"tr",align:null},"Weeks"),(0,n.yg)("td",{parentName:"tr",align:null},"Low (gradual)"),(0,n.yg)("td",{parentName:"tr",align:null},"Low (central)"),(0,n.yg)("td",{parentName:"tr",align:null},"Fast (buffered)")))),(0,n.yg)("p",null,"After 6-12 months, the hand-crafted SDK becomes cheaper because centralized expertise scales better than distributed tribal knowledge."),(0,n.yg)("h2",{id:"the-philosophy-what-sdks-should-be"},"The Philosophy: What SDKs Should Be"),(0,n.yg)("p",null,"This isn't about generated vs hand-crafted code. It's about what we believe SDKs ",(0,n.yg)("strong",{parentName:"p"},"should be"),"."),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"SDKs are not just API wrappers.")," They are:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Semantic layers")," that translate domain concepts to wire protocols"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Knowledge repositories")," that encode best practices"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Usability interfaces")," that optimize for human cognition"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Evolution buffers")," that allow internals to improve while APIs remain stable")),(0,n.yg)("p",null,"Code generation is perfect when ",(0,n.yg)("strong",{parentName:"p"},"the API is the abstraction"),". But for domain-rich platforms where users think in terms of datasets, lineage, and governance\u2014not HTTP verbs and JSON payloads\u2014hand-crafted SDKs aren't just better. They're necessary."),(0,n.yg)("h2",{id:"when-should-you-generate-when-should-you-craft"},"When Should You Generate? When Should You Craft?"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Generate when"),":"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Your API's conceptual model matches user mental models"),(0,n.yg)("li",{parentName:"ul"},"The wire protocol fully captures domain semantics"),(0,n.yg)("li",{parentName:"ul"},"Operations are mostly stateless CRUD"),(0,n.yg)("li",{parentName:"ul"},"You prioritize API coverage over workflow optimization")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Hand-craft when"),":"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Domain concepts require translation to wire protocol"),(0,n.yg)("li",{parentName:"ul"},"Users need guidance on best practices"),(0,n.yg)("li",{parentName:"ul"},"Stateful workflows matter (accumulate changes, emit atomically)"),(0,n.yg)("li",{parentName:"ul"},"You prioritize usability over feature completeness")),(0,n.yg)("p",null,"DataHub falls firmly in the second category. Our users don't want to learn aspect models, patch formats, or mode routing. They want to ",(0,n.yg)("strong",{parentName:"p"},"add a tag to a dataset")," and have it just work."),(0,n.yg)("p",null,"That's what the hand-crafted SDK delivers."),(0,n.yg)("h2",{id:"conclusion-empathy-at-scale"},"Conclusion: Empathy at Scale"),(0,n.yg)("p",null,"In an era of automation, there's pressure to generate everything. But some problems demand craftsmanship."),(0,n.yg)("p",null,"The hand-crafted SDK is an act of ",(0,n.yg)("strong",{parentName:"p"},"empathy at scale"),". It says: \"We understand your problems. We've encoded the solutions. You shouldn't have to become a DataHub expert to use DataHub.\""),(0,n.yg)("p",null,'A generated client says: "Here\'s our API. Figure it out."'),(0,n.yg)("p",null,'A hand-crafted SDK says: "Here\'s how to solve your problems."'),(0,n.yg)("p",null,"That difference is why we invested in hand-crafting. And it's why our users can focus on their data, not our API internals."),(0,n.yg)("hr",null),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Document Status"),": Design Philosophy\n",(0,n.yg)("strong",{parentName:"p"},"Author"),": DataHub OSS Team\n",(0,n.yg)("strong",{parentName:"p"},"Last Updated"),": 2025-01-06"))}y.isMDXComponent=!0}}]);