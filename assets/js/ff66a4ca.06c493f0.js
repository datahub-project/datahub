"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[54064],{49540:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>m,contentTitle:()=>g,default:()=>h,frontMatter:()=>p,metadata:()=>c,toc:()=>d});t(96540);var n=t(15680),i=t(53720),r=t(5400);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):function(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})),e}function o(e,a){if(null==e)return{};var t,n,i=function(e,a){if(null==e)return{};var t,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(i[t]=e[t]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const p={sidebar_position:57,title:"OpenAPI",slug:"/generated/ingestion/sources/openapi",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/openapi.md"},g="OpenAPI",c={unversionedId:"docs/generated/ingestion/sources/openapi",id:"docs/generated/ingestion/sources/openapi",title:"OpenAPI",description:"Incubating",source:"@site/genDocs/docs/generated/ingestion/sources/openapi.md",sourceDirName:"docs/generated/ingestion/sources",slug:"/generated/ingestion/sources/openapi",permalink:"/docs/generated/ingestion/sources/openapi",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/openapi.md",tags:[],version:"current",sidebarPosition:57,frontMatter:{sidebar_position:57,title:"OpenAPI",slug:"/generated/ingestion/sources/openapi",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/openapi.md"},sidebar:"overviewSidebar",previous:{title:"Okta",permalink:"/docs/generated/ingestion/sources/okta"},next:{title:"Oracle",permalink:"/docs/generated/ingestion/sources/oracle"}},m={},d=[{value:"Important Capabilities",id:"important-capabilities",level:3},{value:"CLI based Ingestion",id:"cli-based-ingestion",level:3},{value:"Starter Recipe",id:"starter-recipe",level:3},{value:"Config Details",id:"config-details",level:3},{value:"Concept Mapping",id:"concept-mapping",level:3},{value:"Capabilities",id:"capabilities",level:2},{value:"Schema Extraction Behavior",id:"schema-extraction-behavior",level:2},{value:"Schema Extraction Priority",id:"schema-extraction-priority",level:3},{value:"Browse Paths",id:"browse-paths",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"OpenAPI Specification Access",id:"openapi-specification-access",level:3},{value:"Authentication (for API calls)",id:"authentication-for-api-calls",level:3},{value:"Authentication Methods",id:"authentication-methods",level:3},{value:"Bearer Token",id:"bearer-token",level:4},{value:"Custom Token",id:"custom-token",level:4},{value:"Basic Authentication",id:"basic-authentication",level:4},{value:"Dynamic Token Retrieval",id:"dynamic-token-retrieval",level:4},{value:"Forced Examples",id:"forced-examples",level:3},{value:"Ignoring Endpoints",id:"ignoring-endpoints",level:3},{value:"Examples",id:"examples",level:2},{value:"Basic Configuration (Schema from Spec Only)",id:"basic-configuration-schema-from-spec-only",level:3},{value:"With API Calls Enabled",id:"with-api-calls-enabled",level:3},{value:"Complete Example with All Options",id:"complete-example-with-all-options",level:3},{value:"Limitations",id:"limitations",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No schemas extracted",id:"no-schemas-extracted",level:3},{value:"Endpoints not appearing",id:"endpoints-not-appearing",level:3},{value:"Authentication errors",id:"authentication-errors",level:3},{value:"Code Coordinates",id:"code-coordinates",level:3}],y={toc:d},u="wrapper";function h(e){var{components:a}=e,t=o(e,["components"]);return(0,n.yg)(u,l(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(a){s(e,a,t[a])}))}return e}({},y,t),{components:a,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"openapi"},"OpenAPI"),(0,n.yg)("p",null,(0,n.yg)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-incubating-blue",alt:"Incubating"})),(0,n.yg)("h3",{id:"important-capabilities"},"Important Capabilities"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Capability"),(0,n.yg)("th",{parentName:"tr",align:null},"Status"),(0,n.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Descriptions"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Extracts endpoint descriptions and summaries from OpenAPI specifications.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/domains"},"Domains")),(0,n.yg)("td",{parentName:"tr",align:null},"\u274c"),(0,n.yg)("td",{parentName:"tr",align:null},"Does not currently support domain assignment.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Extract Ownership"),(0,n.yg)("td",{parentName:"tr",align:null},"\u274c"),(0,n.yg)("td",{parentName:"tr",align:null},"Does not currently support extracting ownership.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Extract Tags"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Extracts tags from OpenAPI specifications.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"Schema Metadata"),(0,n.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,n.yg)("td",{parentName:"tr",align:null},"Extracts schemas from OpenAPI specifications for GET, POST, PUT, and PATCH methods.")))),(0,n.yg)("p",null,"OpenAPI source implementation for DataHub ingestion."),(0,n.yg)("p",null,"This class provides the concrete implementation of the OpenAPI source,\nconfigured specifically for OpenAPI specifications."),(0,n.yg)("h3",{id:"cli-based-ingestion"},"CLI based Ingestion"),(0,n.yg)("h3",{id:"starter-recipe"},"Starter Recipe"),(0,n.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,n.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,n.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,n.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},"source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n\nsink:\n  type: \"datahub-rest\"\n  config:\n    server: 'http://localhost:8080'\n\n")),(0,n.yg)("h3",{id:"config-details"},"Config Details"),(0,n.yg)(i.A,{mdxType:"Tabs"},(0,n.yg)(r.A,{value:"options",label:"Options",default:!0,mdxType:"TabItem"},(0,n.yg)("p",null,"Note that a ",(0,n.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,n.yg)("div",{className:"config-table"},(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:"left"},"Field"),(0,n.yg)("th",{parentName:"tr",align:"left"},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"name"),"\xa0",(0,n.yg)("abbr",{title:"Required"},"\u2705"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Name of ingestion.")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"swagger_file"),"\xa0",(0,n.yg)("abbr",{title:"Required"},"\u2705"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Route for access to the swagger file. e.g. openapi.json")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"url"),"\xa0",(0,n.yg)("abbr",{title:"Required"},"\u2705"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Endpoint URL. e.g. ",(0,n.yg)("a",{parentName:"td",href:"https://example.com"},"https://example.com"))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"bearer_token"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of string(password), null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Bearer token for endpoint authentication. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"enable_api_calls_for_schema_extraction"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"If True, will make live GET API calls to extract schemas when OpenAPI spec extraction fails. Requires credentials (username/password, token, or bearer_token). Only applicable for GET methods. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"forced_examples"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"object"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"If no example is provided for a route, it is possible to create one using forced_example. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"{","}")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"get_token"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"object"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Retrieving a token from the endpoint. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"{","}")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"password"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string(password)"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Password used for basic HTTP authentication. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"})))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"proxies"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of object, null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Eg. ",(0,n.yg)("inlineCode",{parentName:"td"},"{'http': 'http://10.10.1.10:3128', 'https': 'http://10.10.1.10:1080'}"),".If authentication is required, add it to the proxy url directly e.g. ",(0,n.yg)("inlineCode",{parentName:"td"},"http://user:pass@10.10.1.10:3128/"),". ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"schema_resolution_max_depth"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"integer"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Maximum recursion depth for resolving schema references. Prevents infinite recursion from deeply nested or circular references. Default is 10 levels. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"10")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"token"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"One of string(password), null"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Token for endpoint authentication. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"None")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"username"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"string"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Username used for basic HTTP authentication. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"})))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"verify_ssl"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"boolean"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"Enable SSL certificate verification ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"True")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-main"},"ignore_endpoints"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"array"))),(0,n.yg)("td",{parentName:"tr",align:"left"},"List of endpoints to ignore during ingestion. ",(0,n.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,n.yg)("span",{className:"default-value"},"[","]")))),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:"left"},(0,n.yg)("div",{className:"path-line"},(0,n.yg)("span",{className:"path-prefix"},"ignore_endpoints."),(0,n.yg)("span",{className:"path-main"},"object"))," ",(0,n.yg)("div",{className:"type-name-line"},(0,n.yg)("span",{className:"type-name"},"object"))),(0,n.yg)("td",{parentName:"tr",align:"left"})))))),(0,n.yg)(r.A,{value:"schema",label:"Schema",mdxType:"TabItem"},(0,n.yg)("p",null,"The ",(0,n.yg)("a",{parentName:"p",href:"https://json-schema.org/"},"JSONSchema")," for this configuration is inlined below."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "additionalProperties": false,\n  "description": "Configuration for OpenAPI source ingestion.\\n\\nThis class defines all the configuration parameters needed to ingest OpenAPI specifications\\nand extract dataset metadata from API endpoints.\\n\\nSchema Extraction Behavior:\\n- OpenAPI spec extraction always occurs (parsing the specification file)\\n- Example data extraction always occurs (from examples in the spec)\\n- Live API calls only occur if enable_api_calls_for_schema_extraction=True\\n- API calls are only made for GET methods with valid credentials",\n  "properties": {\n    "name": {\n      "description": "Name of ingestion.",\n      "title": "Name",\n      "type": "string"\n    },\n    "url": {\n      "description": "Endpoint URL. e.g. https://example.com",\n      "title": "Url",\n      "type": "string"\n    },\n    "swagger_file": {\n      "description": "Route for access to the swagger file. e.g. openapi.json",\n      "title": "Swagger File",\n      "type": "string"\n    },\n    "ignore_endpoints": {\n      "default": [],\n      "description": "List of endpoints to ignore during ingestion.",\n      "items": {},\n      "title": "Ignore Endpoints",\n      "type": "array"\n    },\n    "username": {\n      "default": "",\n      "description": "Username used for basic HTTP authentication.",\n      "title": "Username",\n      "type": "string"\n    },\n    "password": {\n      "default": "",\n      "description": "Password used for basic HTTP authentication.",\n      "format": "password",\n      "title": "Password",\n      "type": "string",\n      "writeOnly": true\n    },\n    "proxies": {\n      "anyOf": [\n        {\n          "additionalProperties": true,\n          "type": "object"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "Eg. `{\'http\': \'http://10.10.1.10:3128\', \'https\': \'http://10.10.1.10:1080\'}`.If authentication is required, add it to the proxy url directly e.g. `http://user:pass@10.10.1.10:3128/`.",\n      "title": "Proxies"\n    },\n    "forced_examples": {\n      "additionalProperties": true,\n      "default": {},\n      "description": "If no example is provided for a route, it is possible to create one using forced_example.",\n      "title": "Forced Examples",\n      "type": "object"\n    },\n    "token": {\n      "anyOf": [\n        {\n          "format": "password",\n          "type": "string",\n          "writeOnly": true\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "Token for endpoint authentication.",\n      "title": "Token"\n    },\n    "bearer_token": {\n      "anyOf": [\n        {\n          "format": "password",\n          "type": "string",\n          "writeOnly": true\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "Bearer token for endpoint authentication.",\n      "title": "Bearer Token"\n    },\n    "get_token": {\n      "additionalProperties": true,\n      "default": {},\n      "description": "Retrieving a token from the endpoint.",\n      "title": "Get Token",\n      "type": "object"\n    },\n    "verify_ssl": {\n      "default": true,\n      "description": "Enable SSL certificate verification",\n      "title": "Verify Ssl",\n      "type": "boolean"\n    },\n    "enable_api_calls_for_schema_extraction": {\n      "default": true,\n      "description": "If True, will make live GET API calls to extract schemas when OpenAPI spec extraction fails. Requires credentials (username/password, token, or bearer_token). Only applicable for GET methods.",\n      "title": "Enable Api Calls For Schema Extraction",\n      "type": "boolean"\n    },\n    "schema_resolution_max_depth": {\n      "default": 10,\n      "description": "Maximum recursion depth for resolving schema references. Prevents infinite recursion from deeply nested or circular references. Default is 10 levels.",\n      "title": "Schema Resolution Max Depth",\n      "type": "integer"\n    }\n  },\n  "required": [\n    "name",\n    "url",\n    "swagger_file"\n  ],\n  "title": "OpenApiConfig",\n  "type": "object"\n}\n')))),(0,n.yg)("p",null,"This connector ingests OpenAPI (Swagger) API endpoint metadata into DataHub. It extracts API endpoints from OpenAPI v2 (Swagger) and v3 specifications and represents them as datasets in DataHub, allowing you to catalog and discover your API endpoints alongside your data assets."),(0,n.yg)("h3",{id:"concept-mapping"},"Concept Mapping"),(0,n.yg)("p",null,"This ingestion source maps the following Source System Concepts to DataHub Concepts:"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Source Concept"),(0,n.yg)("th",{parentName:"tr",align:null},"DataHub Concept"),(0,n.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},'"OpenAPI"')),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataplatform/"},"Data Platform")),(0,n.yg)("td",{parentName:"tr",align:null})),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},"API Endpoint"),(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("a",{parentName:"td",href:"/docs/generated/metamodel/entities/dataset/"},"Dataset")),(0,n.yg)("td",{parentName:"tr",align:null},"Subtype ",(0,n.yg)("inlineCode",{parentName:"td"},"API_ENDPOINT"))))),(0,n.yg)("h2",{id:"capabilities"},"Capabilities"),(0,n.yg)("p",null,"The OpenAPI source extracts metadata from OpenAPI specifications and optionally makes live API calls to gather schema information. It supports:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"OpenAPI v2 (Swagger) and v3 specifications")," - Automatically detects and processes both formats"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Schema extraction from specifications")," - Extracts schemas directly from OpenAPI spec definitions (preferred method)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Schema extraction from API calls")," - Optionally makes GET requests to endpoints when schema isn't in spec (requires credentials)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Multiple HTTP methods")," - Supports GET, POST, PUT, and PATCH methods with 200 response codes"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Browse path organization")," - Endpoints are organized by their path structure in DataHub's browse interface"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Tag extraction")," - Preserves tags from OpenAPI specifications"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Description extraction")," - Extracts endpoint descriptions and summaries")),(0,n.yg)("h2",{id:"schema-extraction-behavior"},"Schema Extraction Behavior"),(0,n.yg)("p",null,"The source uses a multi-step approach to extract schemas for API endpoints:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"OpenAPI Specification (Primary)")," - The source first attempts to extract schemas directly from the OpenAPI specification file. This includes:"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Response schemas from 200 responses"),(0,n.yg)("li",{parentName:"ul"},"Request body schemas for POST/PUT/PATCH methods"),(0,n.yg)("li",{parentName:"ul"},"Parameter schemas when available"))),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Example Data (Secondary)")," - If schemas aren't fully defined, the source looks for example data in the specification")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Live API Calls (Optional)")," - If ",(0,n.yg)("inlineCode",{parentName:"p"},"enable_api_calls_for_schema_extraction=True")," and credentials are provided, the source will make GET requests to endpoints when:"),(0,n.yg)("ul",{parentName:"li"},(0,n.yg)("li",{parentName:"ul"},"Schema extraction from the spec fails"),(0,n.yg)("li",{parentName:"ul"},"The endpoint uses the GET method"),(0,n.yg)("li",{parentName:"ul"},"Valid credentials are available (username/password, token, or bearer_token)")))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"API calls are only made for GET methods. POST, PUT, and PATCH methods rely solely on schema definitions in the OpenAPI specification.")),(0,n.yg)("admonition",{type:"tip"},(0,n.yg)("p",{parentName:"admonition"},"Most schemas are extracted from the OpenAPI specification itself. API calls are primarily used as a fallback when the specification is incomplete.")),(0,n.yg)("h3",{id:"schema-extraction-priority"},"Schema Extraction Priority"),(0,n.yg)("p",null,"When multiple HTTP methods are available for an endpoint, the source prioritizes extracting metadat from methods in this order:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"GET"),(0,n.yg)("li",{parentName:"ol"},"POST"),(0,n.yg)("li",{parentName:"ol"},"PUT"),(0,n.yg)("li",{parentName:"ol"},"PATCH")),(0,n.yg)("p",null,"The description, tags, and schema metadata all come from the same priority method to ensure consistency."),(0,n.yg)("h2",{id:"browse-paths"},"Browse Paths"),(0,n.yg)("p",null,"All ingested endpoints are organized in DataHub's browse interface using browse paths based on their endpoint path structure. This makes it easy to navigate and discover related endpoints."),(0,n.yg)("p",null,"For example:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"/pet/findByStatus")," appears under the ",(0,n.yg)("inlineCode",{parentName:"li"},"pet")," browse path"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"/pet/{petId}")," appears under the ",(0,n.yg)("inlineCode",{parentName:"li"},"pet")," browse path"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"/store/order/{orderId}")," appears under ",(0,n.yg)("inlineCode",{parentName:"li"},"store")," \u2192 ",(0,n.yg)("inlineCode",{parentName:"li"},"order"))),(0,n.yg)("p",null,"Endpoints are grouped by their path segments, making it easy to find all endpoints related to a particular resource or feature."),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("h3",{id:"openapi-specification-access"},"OpenAPI Specification Access"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The OpenAPI specification file must be accessible via HTTP/HTTPS"),(0,n.yg)("li",{parentName:"ul"},"The specification should be in JSON or YAML format"),(0,n.yg)("li",{parentName:"ul"},"OpenAPI v2 (Swagger 2.0) and v3.x specifications are supported")),(0,n.yg)("h3",{id:"authentication-for-api-calls"},"Authentication (for API calls)"),(0,n.yg)("p",null,"If you want to enable live API calls for schema extraction (",(0,n.yg)("inlineCode",{parentName:"p"},"enable_api_calls_for_schema_extraction=True"),"), you'll need to provide authentication credentials. The source supports:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Bearer token authentication")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Custom token authentication")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Dynamic token retrieval")," (GET or POST)"),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Basic authentication")," (username/password)")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Authentication is only required if you want to enable live API calls. Schema extraction from the OpenAPI specification itself does not require authentication.")),(0,n.yg)("h3",{id:"authentication-methods"},"Authentication Methods"),(0,n.yg)("h4",{id:"bearer-token"},"Bearer Token"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n    bearer_token: "your-bearer-token-here"\n')),(0,n.yg)("h4",{id:"custom-token"},"Custom Token"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n    token: "your-token-here"\n')),(0,n.yg)("h4",{id:"basic-authentication"},"Basic Authentication"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},"source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n    username: your_username\n    password: your_password\n")),(0,n.yg)("h4",{id:"dynamic-token-retrieval"},"Dynamic Token Retrieval"),(0,n.yg)("p",null,"The source can retrieve a token dynamically by making a request to a token endpoint. This is useful when tokens expire and need to be refreshed."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n    get_token:\n      request_type: get # or "post"\n      url_complement: api/auth/login?username={username}&password={password}\n    username: your_username\n    password: your_password\n')),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"When using ",(0,n.yg)("inlineCode",{parentName:"p"},"get_token")," with ",(0,n.yg)("inlineCode",{parentName:"p"},"request_type: get"),", the username and password are sent in the URL query parameters, which is less secure. Use ",(0,n.yg)("inlineCode",{parentName:"p"},"request_type: post")," when possible.")),(0,n.yg)("h3",{id:"forced-examples"},"Forced Examples"),(0,n.yg)("p",null,"For endpoints with path parameters where the source cannot automatically determine example values, you can provide them manually using ",(0,n.yg)("inlineCode",{parentName:"p"},"forced_examples"),":"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: petstore_api\n    url: https://petstore.swagger.io\n    swagger_file: /v2/swagger.json\n    forced_examples:\n      /pet/{petId}: [1]\n      /store/order/{orderId}: [1]\n      /user/{username}: ["user1"]\n')),(0,n.yg)("p",null,"The source will use these values to construct URLs for API calls when needed."),(0,n.yg)("h3",{id:"ignoring-endpoints"},"Ignoring Endpoints"),(0,n.yg)("p",null,"You can exclude specific endpoints from ingestion:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},"source:\n  type: openapi\n  config:\n    name: my_api\n    url: https://api.example.com\n    swagger_file: openapi.json\n    ignore_endpoints:\n      - /health\n      - /metrics\n      - /internal/debug\n")),(0,n.yg)("h2",{id:"examples"},"Examples"),(0,n.yg)("h3",{id:"basic-configuration-schema-from-spec-only"},"Basic Configuration (Schema from Spec Only)"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: petstore_api\n    url: https://petstore.swagger.io\n    swagger_file: /v2/swagger.json\n    enable_api_calls_for_schema_extraction: false\n\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://localhost:8080"\n')),(0,n.yg)("h3",{id:"with-api-calls-enabled"},"With API Calls Enabled"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: petstore_api\n    url: https://petstore.swagger.io\n    swagger_file: /v2/swagger.json\n    bearer_token: "${BEARER_TOKEN}"\n    enable_api_calls_for_schema_extraction: true\n\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://localhost:8080"\n')),(0,n.yg)("h3",{id:"complete-example-with-all-options"},"Complete Example with All Options"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: openapi\n  config:\n    name: petstore_api\n    url: https://petstore.swagger.io\n    swagger_file: /v2/swagger.json\n\n    # Authentication\n    bearer_token: "${BEARER_TOKEN}"\n\n    # Optional: Enable/disable API calls\n    enable_api_calls_for_schema_extraction: true\n\n    # Optional: Ignore specific endpoints\n    ignore_endpoints:\n      - /user/logout\n\n    # Optional: Provide example values for parameterized endpoints\n    forced_examples:\n      /pet/{petId}: [1]\n      /store/order/{orderId}: [1]\n      /user/{username}: ["user1"]\n\n    # Optional: Proxy configuration\n    proxies:\n      http: "http://proxy.example.com:8080"\n      https: "https://proxy.example.com:8080"\n\n    # Optional: SSL verification\n    verify_ssl: true\n\nsink:\n  type: "datahub-rest"\n  config:\n    server: "http://localhost:8080"\n')),(0,n.yg)("h2",{id:"limitations"},"Limitations"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"API calls are GET-only"),": Live API calls for schema extraction are only made for GET methods. POST, PUT, and PATCH methods rely solely on schema definitions in the OpenAPI specification."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Authentication required for API calls"),": If ",(0,n.yg)("inlineCode",{parentName:"li"},"enable_api_calls_for_schema_extraction=True"),", valid credentials must be provided."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"200 response codes only"),": Only endpoints with 200 response codes are ingested."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Schema extraction from spec is preferred"),": The source prioritizes extracting schemas from the OpenAPI specification. API calls are used as a fallback.")),(0,n.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,n.yg)("h3",{id:"no-schemas-extracted"},"No schemas extracted"),(0,n.yg)("p",null,"If schemas aren't being extracted:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Check the OpenAPI specification")," - Ensure your spec includes schema definitions in responses or request bodies"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Enable API calls")," - Set ",(0,n.yg)("inlineCode",{parentName:"li"},"enable_api_calls_for_schema_extraction: true")," and provide credentials"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Check authentication")," - Verify your credentials are correct if API calls are enabled"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Review warnings")," - Check the ingestion report for warnings about specific endpoints")),(0,n.yg)("h3",{id:"endpoints-not-appearing"},"Endpoints not appearing"),(0,n.yg)("p",null,"If endpoints aren't appearing in DataHub:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Check ignore_endpoints")," - Ensure endpoints aren't in the ignore list"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Verify response codes")," - Only endpoints with 200 response codes are ingested"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Check OpenAPI spec format")," - Ensure the specification is valid OpenAPI v2 or v3")),(0,n.yg)("h3",{id:"authentication-errors"},"Authentication errors"),(0,n.yg)("p",null,"If you see authentication errors:"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Verify credentials")," - Check that username/password or tokens are correct"),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Check token format"),' - Bearer tokens should not include the "Bearer " prefix'),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Review get_token configuration")," - Ensure the token endpoint URL and method are correct")),(0,n.yg)("h3",{id:"code-coordinates"},"Code Coordinates"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Class Name: ",(0,n.yg)("inlineCode",{parentName:"li"},"datahub.ingestion.source.openapi.OpenApiSource")),(0,n.yg)("li",{parentName:"ul"},"Browse on ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/source/openapi.py"},"GitHub"))),(0,n.yg)("h2",null,"Questions"),(0,n.yg)("p",null,"If you've got any questions on configuring ingestion for OpenAPI, feel free to ping us on ",(0,n.yg)("a",{parentName:"p",href:"https://datahub.com/slack"},"our Slack"),"."))}h.isMDXComponent=!0}}]);