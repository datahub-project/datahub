"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[70676],{7891:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>g,default:()=>f,frontMatter:()=>o,metadata:()=>m,toc:()=>y});n(96540);var t=n(15680),i=n(53720),s=n(5400);function l(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){return a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):function(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})),e}function p(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const o={sidebar_position:55,title:"Notion",slug:"/generated/ingestion/sources/notion",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/notion.md"},g="Notion",m={unversionedId:"docs/generated/ingestion/sources/notion",id:"docs/generated/ingestion/sources/notion",title:"Notion",description:"Ingest pages and databases from Notion workspaces as DataHub Document entities with optional semantic embeddings.",source:"@site/genDocs/docs/generated/ingestion/sources/notion.md",sourceDirName:"docs/generated/ingestion/sources",slug:"/generated/ingestion/sources/notion",permalink:"/docs/generated/ingestion/sources/notion",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/notion.md",tags:[],version:"current",sidebarPosition:55,frontMatter:{sidebar_position:55,title:"Notion",slug:"/generated/ingestion/sources/notion",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/generated/ingestion/sources/notion.md"},sidebar:"overviewSidebar",previous:{title:"NiFi",permalink:"/docs/generated/ingestion/sources/nifi"},next:{title:"Okta",permalink:"/docs/generated/ingestion/sources/okta"}},d={},y=[{value:"Important Capabilities",id:"important-capabilities",level:3},{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:3},{value:"1. Content Extraction",id:"1-content-extraction",level:4},{value:"2. Hierarchical Relationships",id:"2-hierarchical-relationships",level:4},{value:"3. Embedding Generation",id:"3-embedding-generation",level:4},{value:"4. Stateful Ingestion",id:"4-stateful-ingestion",level:4},{value:"Prerequisites",id:"prerequisites",level:2},{value:"1. Notion Integration",id:"1-notion-integration",level:3},{value:"2. Share Pages with Integration",id:"2-share-pages-with-integration",level:3},{value:"3. Embedding Provider (Optional)",id:"3-embedding-provider-optional",level:3},{value:"Cohere",id:"cohere",level:4},{value:"AWS Bedrock",id:"aws-bedrock",level:4},{value:"Common Use Cases",id:"common-use-cases",level:2},{value:"1. Workspace-wide Documentation Search",id:"1-workspace-wide-documentation-search",level:3},{value:"2. Specific Database Ingestion",id:"2-specific-database-ingestion",level:3},{value:"3. Multi-workspace Setup",id:"3-multi-workspace-setup",level:3},{value:"4. Production Setup with AWS Bedrock",id:"4-production-setup-with-aws-bedrock",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Processing Pipeline",id:"processing-pipeline",level:3},{value:"Stateful Ingestion Details",id:"stateful-ingestion-details",level:3},{value:"Limitations and Considerations",id:"limitations-and-considerations",level:2},{value:"Notion API Limits",id:"notion-api-limits",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"Content Extraction",id:"content-extraction",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Performance Tuning",id:"performance-tuning",level:2},{value:"Parallelism Settings",id:"parallelism-settings",level:3},{value:"Filtering",id:"filtering",level:3},{value:"Chunking Optimization",id:"chunking-optimization",level:3},{value:"Related Documentation",id:"related-documentation",level:2},{value:"CLI based Ingestion",id:"cli-based-ingestion",level:3},{value:"Starter Recipe",id:"starter-recipe",level:3},{value:"Config Details",id:"config-details",level:3},{value:"Code Coordinates",id:"code-coordinates",level:3}],c={toc:y},u="wrapper";function f(e){var{components:a}=e,n=p(e,["components"]);return(0,t.yg)(u,r(function(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(a){l(e,a,n[a])}))}return e}({},c,n),{components:a,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"notion"},"Notion"),(0,t.yg)("h1",{id:"notion-source"},"Notion Source"),(0,t.yg)("p",null,"Ingest pages and databases from Notion workspaces as DataHub Document entities with optional semantic embeddings.\n",(0,t.yg)("img",{parentName:"p",src:"https://img.shields.io/badge/support%20status-incubating-blue",alt:"Incubating"})),(0,t.yg)("h3",{id:"important-capabilities"},"Important Capabilities"),(0,t.yg)("table",null,(0,t.yg)("thead",{parentName:"table"},(0,t.yg)("tr",{parentName:"thead"},(0,t.yg)("th",{parentName:"tr",align:null},"Capability"),(0,t.yg)("th",{parentName:"tr",align:null},"Status"),(0,t.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,t.yg)("tbody",{parentName:"table"},(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:null},(0,t.yg)("a",{parentName:"td",href:"/docs/metadata-ingestion/docs/dev_guides/stateful#stale-entity-removal"},"Detect Deleted Entities")),(0,t.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,t.yg)("td",{parentName:"tr",align:null},"Enabled by default via stateful ingestion.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:null},"Test Connection"),(0,t.yg)("td",{parentName:"tr",align:null},"\u2705"),(0,t.yg)("td",{parentName:"tr",align:null},"Enabled by default.")))),(0,t.yg)("h2",{id:"overview"},"Overview"),(0,t.yg)("p",null,"The Notion source ingests pages and databases from Notion workspaces as DataHub Document entities with optional semantic embeddings for semantic search."),(0,t.yg)("h3",{id:"key-features"},"Key Features"),(0,t.yg)("h4",{id:"1-content-extraction"},"1. Content Extraction"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Page Content"),": Full text extraction from Notion pages including all supported block types"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Database Rows"),": Ingests database entries as individual documents"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Hierarchical Structure"),": Maintains parent-child relationships between pages"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Metadata Extraction"),": Captures creation/modification timestamps, authors, and custom properties")),(0,t.yg)("h4",{id:"2-hierarchical-relationships"},"2. Hierarchical Relationships"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Parent-Child Links"),": Preserves Notion's page hierarchy in DataHub"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Automatic Discovery"),": Recursively discovers nested pages starting from root pages"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Flexible Navigation"),": Browse documentation structure in DataHub UI")),(0,t.yg)("h4",{id:"3-embedding-generation"},"3. Embedding Generation"),(0,t.yg)("p",null,"Optional semantic search support:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Supported providers"),": Cohere (API key), AWS Bedrock (IAM roles)"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Chunking strategies"),": by_title, basic"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Configurable chunk size"),": Optimize for your embedding model (in characters)"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Automatic deduplication"),": Prevents duplicate chunk embeddings")),(0,t.yg)("h4",{id:"4-stateful-ingestion"},"4. Stateful Ingestion"),(0,t.yg)("p",null,"Supports smart incremental updates via stateful ingestion:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Content Change Detection"),": Only reprocesses documents when content or embeddings config changes"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Deletion Detection"),": Automatically removes stale entities from DataHub"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Recursive Discovery"),": Start from root pages/databases, automatically discovers and ingests child pages"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"State Persistence"),": Maintains processing state between runs to skip unchanged documents")),(0,t.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,t.yg)("h3",{id:"1-notion-integration"},"1. Notion Integration"),(0,t.yg)("p",null,"Create a Notion internal integration:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"Go to ",(0,t.yg)("a",{parentName:"li",href:"https://www.notion.so/my-integrations"},"https://www.notion.so/my-integrations")),(0,t.yg)("li",{parentName:"ol"},"Click ",(0,t.yg)("strong",{parentName:"li"},'"+ New integration"')),(0,t.yg)("li",{parentName:"ol"},'Give it a name (e.g., "DataHub Integration")'),(0,t.yg)("li",{parentName:"ol"},"Select the workspace"),(0,t.yg)("li",{parentName:"ol"},"Copy the ",(0,t.yg)("strong",{parentName:"li"},"Internal Integration Token")," (starts with ",(0,t.yg)("inlineCode",{parentName:"li"},"secret_"),")")),(0,t.yg)("h3",{id:"2-share-pages-with-integration"},"2. Share Pages with Integration"),(0,t.yg)("p",null,"The integration can only access pages explicitly shared with it:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"Open the page or database in Notion"),(0,t.yg)("li",{parentName:"ol"},"Click ",(0,t.yg)("strong",{parentName:"li"},'"Share"')," in the top right"),(0,t.yg)("li",{parentName:"ol"},"Search for your integration name"),(0,t.yg)("li",{parentName:"ol"},"Click ",(0,t.yg)("strong",{parentName:"li"},'"Invite"'))),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Important"),": For recursive ingestion, only share top-level pages. Child pages inherit access automatically."),(0,t.yg)("h3",{id:"3-embedding-provider-optional"},"3. Embedding Provider (Optional)"),(0,t.yg)("p",null,"If you want semantic search capabilities, set up one of these providers:"),(0,t.yg)("h4",{id:"cohere"},"Cohere"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Sign up at ",(0,t.yg)("a",{parentName:"li",href:"https://cohere.ai/"},"https://cohere.ai/")),(0,t.yg)("li",{parentName:"ul"},"Create an API key"),(0,t.yg)("li",{parentName:"ul"},"Supports: ",(0,t.yg)("inlineCode",{parentName:"li"},"embed-english-v3.0"),", ",(0,t.yg)("inlineCode",{parentName:"li"},"embed-multilingual-v3.0"))),(0,t.yg)("h4",{id:"aws-bedrock"},"AWS Bedrock"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"AWS account with Bedrock access"),(0,t.yg)("li",{parentName:"ul"},"Enable Cohere models in AWS Console \u2192 Bedrock \u2192 Model access"),(0,t.yg)("li",{parentName:"ul"},"IAM permissions for ",(0,t.yg)("inlineCode",{parentName:"li"},"bedrock:InvokeModel")),(0,t.yg)("li",{parentName:"ul"},"Recommended region: ",(0,t.yg)("inlineCode",{parentName:"li"},"us-west-2"))),(0,t.yg)("p",null,"See ",(0,t.yg)("a",{parentName:"p",href:"/docs/how-to/semantic-search-configuration"},"Semantic Search Configuration")," for detailed embedding setup."),(0,t.yg)("h2",{id:"common-use-cases"},"Common Use Cases"),(0,t.yg)("h3",{id:"1-workspace-wide-documentation-search"},"1. Workspace-wide Documentation Search"),(0,t.yg)("p",null,"Ingest entire workspace documentation with semantic search:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: notion\n  config:\n    api_key: "${NOTION_API_KEY}"\n\n    # Start from workspace root page\n    page_ids:\n      - "workspace_root_page_id"\n    recursive: true\n\n    # Enable semantic embeddings\n    embedding:\n      provider: "cohere"\n      model: "embed-english-v3.0"\n      api_key: "${COHERE_API_KEY}"\n')),(0,t.yg)("h3",{id:"2-specific-database-ingestion"},"2. Specific Database Ingestion"),(0,t.yg)("p",null,'Ingest a specific Notion database (e.g., "Product Requirements"):'),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: notion\n  config:\n    api_key: "${NOTION_API_KEY}"\n\n    # Only this database\n    database_ids:\n      - "product_requirements_db_id"\n    recursive: false # Only database entries, not child pages\n')),(0,t.yg)("h3",{id:"3-multi-workspace-setup"},"3. Multi-workspace Setup"),(0,t.yg)("p",null,"Ingest from multiple workspaces (requires multiple integrations):"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: notion\n  config:\n    api_key: "${NOTION_API_KEY}"\n\n    # Multiple root pages from different workspaces\n    page_ids:\n      - "workspace_1_page_id"\n      - "workspace_2_page_id"\n    recursive: true\n')),(0,t.yg)("h3",{id:"4-production-setup-with-aws-bedrock"},"4. Production Setup with AWS Bedrock"),(0,t.yg)("p",null,"Enterprise setup using AWS Bedrock for embeddings:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: notion\n  config:\n    api_key: "${NOTION_API_KEY}"\n\n    page_ids:\n      - "company_wiki_root"\n    recursive: true\n\n    # Use AWS Bedrock (no API key needed, uses IAM roles)\n    embedding:\n      provider: "bedrock"\n      aws_region: "us-west-2"\n      model: "cohere.embed-english-v3"\n\n    # Enable stateful ingestion for incremental updates\n    stateful_ingestion:\n      enabled: true\n')),(0,t.yg)("h2",{id:"how-it-works"},"How It Works"),(0,t.yg)("h3",{id:"processing-pipeline"},"Processing Pipeline"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Discovery"),": Notion API discovers pages/databases"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Download"),": Unstructured.io downloads and converts content to structured format"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Extraction"),": Extracts text, metadata, and hierarchy from Notion pages"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Chunking"),": Splits documents into semantic chunks (if embeddings enabled)"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Embedding"),": Generates vector embeddings for each chunk (if embeddings enabled)"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Emission"),": Emits Document entities with SemanticContent aspects to DataHub")),(0,t.yg)("h3",{id:"stateful-ingestion-details"},"Stateful Ingestion Details"),(0,t.yg)("p",null,"The source uses content-based change detection:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Calculates SHA-256 hash of document content + embedding configuration"),(0,t.yg)("li",{parentName:"ul"},"Compares hash with previous run to detect changes"),(0,t.yg)("li",{parentName:"ul"},"Only reprocesses documents when hash changes"),(0,t.yg)("li",{parentName:"ul"},"Tracks all emitted URNs to detect deletions")),(0,t.yg)("p",null,"This means:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"First run"),": Processes all documents"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Subsequent runs"),": Only processes new/changed documents"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Deleted pages"),": Automatically soft-deleted from DataHub")),(0,t.yg)("h2",{id:"limitations-and-considerations"},"Limitations and Considerations"),(0,t.yg)("h3",{id:"notion-api-limits"},"Notion API Limits"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Rate Limits"),": Notion enforces rate limits (3 requests/second for paid workspaces, 1/second for free)"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Access Scope"),": Integration only sees explicitly shared pages"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Content Types"),": Some Notion blocks may not extract perfectly (e.g., complex embeds, synced blocks)")),(0,t.yg)("h3",{id:"performance-considerations"},"Performance Considerations"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Large Workspaces"),": First run may take significant time for large workspaces"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Embedding Generation"),": Adds processing time proportional to content volume"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"API Costs"),": Unstructured API and embedding providers may incur costs")),(0,t.yg)("h3",{id:"content-extraction"},"Content Extraction"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Supported Blocks"),": Text, headings, lists, code blocks, tables, callouts, toggles, quotes"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Limited Support"),": Embeds, equations, files (extracted as links/references)"),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Not Supported"),": Live charts, board/gallery/timeline views (database views)")),(0,t.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,t.yg)("h3",{id:"common-issues"},"Common Issues"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},'"Integration not found" or "Unauthorized" errors:')),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Verify the ",(0,t.yg)("inlineCode",{parentName:"li"},"api_key")," is correct (should start with ",(0,t.yg)("inlineCode",{parentName:"li"},"secret_"),")"),(0,t.yg)("li",{parentName:"ul"},"Ensure pages are shared with the integration"),(0,t.yg)("li",{parentName:"ul"},'Check that the integration has "Read content" capability')),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Empty or missing content:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Verify pages contain text (empty pages are skipped by default with ",(0,t.yg)("inlineCode",{parentName:"li"},"skip_empty_documents: true"),")"),(0,t.yg)("li",{parentName:"ul"},"Check ",(0,t.yg)("inlineCode",{parentName:"li"},"min_text_length")," filter setting (default: 50 characters)"),(0,t.yg)("li",{parentName:"ul"},"Ensure ",(0,t.yg)("inlineCode",{parentName:"li"},"recursive: true")," if expecting child pages"),(0,t.yg)("li",{parentName:"ul"},"Check that child pages are not explicitly restricted")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Slow ingestion:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Increase ",(0,t.yg)("inlineCode",{parentName:"li"},"processing.parallelism.num_processes")," (default: 2)"),(0,t.yg)("li",{parentName:"ul"},"Consider using ",(0,t.yg)("inlineCode",{parentName:"li"},"partition_by_api: false")," for local processing (requires more memory)"),(0,t.yg)("li",{parentName:"ul"},"Filter specific pages instead of entire workspace using ",(0,t.yg)("inlineCode",{parentName:"li"},"page_ids")),(0,t.yg)("li",{parentName:"ul"},"First run is always slower - subsequent runs use incremental updates")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Embedding generation failures:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Verify provider API key is correct"),(0,t.yg)("li",{parentName:"ul"},"Check provider-specific rate limits (Cohere: 10k requests/min)"),(0,t.yg)("li",{parentName:"ul"},"Ensure embedding model name is valid for your provider"),(0,t.yg)("li",{parentName:"ul"},"For Bedrock: verify IAM permissions and model access is enabled in AWS Console")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Stateful ingestion not working:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Ensure ",(0,t.yg)("inlineCode",{parentName:"li"},"stateful_ingestion.enabled: true")," in config"),(0,t.yg)("li",{parentName:"ul"},"Check DataHub connection (source needs to query previous state)"),(0,t.yg)("li",{parentName:"ul"},"Verify state file path is writable (if using file-based state)"),(0,t.yg)("li",{parentName:"ul"},"Look for state persistence logs in ingestion output")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Missing hierarchy/parent relationships:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Verify ",(0,t.yg)("inlineCode",{parentName:"li"},"hierarchy.enabled: true")," (default)"),(0,t.yg)("li",{parentName:"ul"},"Check that parent pages are being ingested"),(0,t.yg)("li",{parentName:"ul"},"Ensure ",(0,t.yg)("inlineCode",{parentName:"li"},"recursive: true")," to discover parent-child relationships"),(0,t.yg)("li",{parentName:"ul"},"Parent pages must be accessible to the integration")),(0,t.yg)("h2",{id:"performance-tuning"},"Performance Tuning"),(0,t.yg)("h3",{id:"parallelism-settings"},"Parallelism Settings"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},"processing:\n  parallelism:\n    num_processes: 4 # Increase for faster processing (default: 2)\n    max_connections: 20 # Concurrent API connections (default: 10)\n")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Guidelines:")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Small workspaces (<100 pages): ",(0,t.yg)("inlineCode",{parentName:"li"},"num_processes: 2")),(0,t.yg)("li",{parentName:"ul"},"Medium workspaces (100-1000 pages): ",(0,t.yg)("inlineCode",{parentName:"li"},"num_processes: 4")),(0,t.yg)("li",{parentName:"ul"},"Large workspaces (>1000 pages): ",(0,t.yg)("inlineCode",{parentName:"li"},"num_processes: 8"))),(0,t.yg)("h3",{id:"filtering"},"Filtering"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},"filtering:\n  min_text_length: 100 # Skip short pages (default: 50)\n  skip_empty_documents: true # Skip empty pages (default: true)\n")),(0,t.yg)("h3",{id:"chunking-optimization"},"Chunking Optimization"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'chunking:\n  strategy: "by_title" # Preserves document structure (recommended)\n  max_characters: 500 # Chunk size (default: 500)\n  combine_text_under_n_chars: 100 # Merge small chunks (default: 100)\n')),(0,t.yg)("h2",{id:"related-documentation"},"Related Documentation"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://developers.notion.com/"},"Notion API Documentation")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"/docs/how-to/semantic-search-configuration"},"Semantic Search Configuration")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://docs.unstructured.io/"},"Unstructured.io Documentation")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://docs.cohere.com/reference/embed"},"Cohere Embeddings API")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://docs.aws.amazon.com/bedrock/latest/userguide/embeddings.html"},"AWS Bedrock Embeddings")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://datahubproject.io/docs/generated/ingestion/sources/"},"DataHub Document Ingestion"))),(0,t.yg)("h3",{id:"cli-based-ingestion"},"CLI based Ingestion"),(0,t.yg)("h3",{id:"starter-recipe"},"Starter Recipe"),(0,t.yg)("p",null,"Check out the following recipe to get started with ingestion! See ",(0,t.yg)("a",{parentName:"p",href:"#config-details"},"below")," for full configuration options."),(0,t.yg)("p",null,"For general pointers on writing and running a recipe, see our ",(0,t.yg)("a",{parentName:"p",href:"/docs/metadata-ingestion#recipes"},"main recipe guide"),"."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'source:\n  type: notion\n  config:\n    # Notion API token from your integration\n    api_key: "${NOTION_API_KEY}"\n\n    # Ingest specific pages (get IDs from page URLs)\n    page_ids:\n      - "your-page-id-here"\n\n    # Or ingest all accessible content (leave page_ids and database_ids empty)\n    # page_ids: []\n    # database_ids: []\n\nsink:\n  type: datahub-rest\n  config:\n    server: "http://localhost:8080"\n\n')),(0,t.yg)("h3",{id:"config-details"},"Config Details"),(0,t.yg)(i.A,{mdxType:"Tabs"},(0,t.yg)(s.A,{value:"options",label:"Options",default:!0,mdxType:"TabItem"},(0,t.yg)("p",null,"Note that a ",(0,t.yg)("inlineCode",{parentName:"p"},".")," is used to denote nested fields in the YAML recipe."),(0,t.yg)("div",{className:"config-table"},(0,t.yg)("table",null,(0,t.yg)("thead",{parentName:"table"},(0,t.yg)("tr",{parentName:"thead"},(0,t.yg)("th",{parentName:"tr",align:"left"},"Field"),(0,t.yg)("th",{parentName:"tr",align:"left"},"Description"))),(0,t.yg)("tbody",{parentName:"table"},(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"api_key"),"\xa0",(0,t.yg)("abbr",{title:"Required"},"\u2705"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string(password)"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Notion internal integration token. Create one at ",(0,t.yg)("a",{parentName:"td",href:"https://www.notion.so/my-integrations"},"https://www.notion.so/my-integrations"))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"recursive"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Recursively fetch child pages. When true, ingests all descendant pages of specified pages/databases. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"advanced"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"AdvancedConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Advanced configuration options.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"continue_on_failure"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"max_errors"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"10")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"output_format"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "json", "xml" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"json")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"preserve_outputs"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"raise_on_error"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"work_dir"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"/tmp/unstructured","_","datahub")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"cache"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"CacheConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Cache configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.cache."),(0,t.yg)("span",{className:"path-main"},"cache_dir"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"~/.cache/unstructured","_","datahub")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.cache."),(0,t.yg)("span",{className:"path-main"},"enabled"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.cache."),(0,t.yg)("span",{className:"path-main"},"ttl"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Cache TTL in seconds ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"86400")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced."),(0,t.yg)("span",{className:"path-main"},"retry"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"RetryConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Retry configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.retry."),(0,t.yg)("span",{className:"path-main"},"backoff_factor"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"2")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.retry."),(0,t.yg)("span",{className:"path-main"},"enabled"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.retry."),(0,t.yg)("span",{className:"path-main"},"max_attempts"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"3")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"advanced.retry."),(0,t.yg)("span",{className:"path-main"},"retry_on_timeout"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"default-line "},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"chunking"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"ChunkingConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Chunking strategy configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"chunking."),(0,t.yg)("span",{className:"path-main"},"combine_text_under_n_chars"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Combine chunks smaller than this size ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"100")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"chunking."),(0,t.yg)("span",{className:"path-main"},"max_characters"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Maximum characters per chunk ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"500")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"chunking."),(0,t.yg)("span",{className:"path-main"},"overlap"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Character overlap between chunks ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"0")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"chunking."),(0,t.yg)("span",{className:"path-main"},"strategy"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "basic", "by_title" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"by","_","title")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"database_ids"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"List of Notion database IDs to ingest. If both page_ids and database_ids are empty, the source will automatically discover and ingest ALL pages and databases accessible to the integration. IDs can be found in database URLs: ",(0,t.yg)("a",{parentName:"td",href:"https://www.notion.so/%7BDATABASE_ID%7D"},"https://www.notion.so/{DATABASE_ID}"))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"database_ids."),(0,t.yg)("span",{className:"path-main"},"string"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"datahub"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"DataHubConnectionConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"DataHub connection configuration. ",(0,t.yg)("br",null),"  ",(0,t.yg)("br",null)," Defaults are loaded in this priority: ",(0,t.yg)("br",null)," 1. Explicitly configured values in the recipe ",(0,t.yg)("br",null)," 2. Environment variables (DATAHUB_GMS_URL, DATAHUB_GMS_TOKEN) ",(0,t.yg)("br",null)," 3. ~/.datahubenv file (created by ",(0,t.yg)("inlineCode",{parentName:"td"},"datahub init"),") ",(0,t.yg)("br",null)," 4. Hardcoded defaults (http://localhost:8080, no token)")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"datahub."),(0,t.yg)("span",{className:"path-main"},"server"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"DataHub GMS server URL (defaults to DATAHUB_GMS_URL env var, ~/.datahubenv, or localhost:8080)")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"datahub."),(0,t.yg)("span",{className:"path-main"},"token"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string(password), null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"DataHub API token for authentication (defaults to DATAHUB_GMS_TOKEN env var or ~/.datahubenv)")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"document_mapping"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"DocumentMappingConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Document entity mapping configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping."),(0,t.yg)("span",{className:"path-main"},"id_pattern"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Pattern for generating document IDs ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"{","source","_","type","}","-","{","directory","}","-","{","basename","}")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping."),(0,t.yg)("span",{className:"path-main"},"status"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "PUBLISHED", "UNPUBLISHED" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"PUBLISHED")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping."),(0,t.yg)("span",{className:"path-main"},"id_normalization"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"IdNormalizationConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Document ID normalization rules.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.id_normalization."),(0,t.yg)("span",{className:"path-main"},"lowercase"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Convert to lowercase ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.id_normalization."),(0,t.yg)("span",{className:"path-main"},"max_length"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Maximum ID length ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"200")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.id_normalization."),(0,t.yg)("span",{className:"path-main"},"remove_special_chars"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Remove special characters except _ and - ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.id_normalization."),(0,t.yg)("span",{className:"path-main"},"replace_spaces_with"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Replace spaces with this character ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"-")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping."),(0,t.yg)("span",{className:"path-main"},"source"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"SourceConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Document source configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.source."),(0,t.yg)("span",{className:"path-main"},"include_external_id"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Include external ID in DocumentSource ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.source."),(0,t.yg)("span",{className:"path-main"},"include_external_url"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Include external URL in DocumentSource ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.source."),(0,t.yg)("span",{className:"path-main"},"type"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "NATIVE", "EXTERNAL" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"EXTERNAL")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping."),(0,t.yg)("span",{className:"path-main"},"title"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"TitleExtractionConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Title extraction configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.title."),(0,t.yg)("span",{className:"path-main"},"extract_from_content"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Try to extract title from document content ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.title."),(0,t.yg)("span",{className:"path-main"},"fallback_to_filename"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Use filename as title if not found in content ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"document_mapping.title."),(0,t.yg)("span",{className:"path-main"},"max_length"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Maximum title length ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"500")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"embedding"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"EmbeddingConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Embedding generation configuration. ",(0,t.yg)("br",null),"  ",(0,t.yg)("br",null)," Default behavior: Fetches configuration from DataHub server automatically. ",(0,t.yg)("br",null)," Override behavior: Validates local config against server when explicitly set.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"allow_local_embedding_config"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"BREAK-GLASS: Allow local config without server validation. NOT RECOMMENDED - may break semantic search. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"api_key"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string(password), null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"API key for Cohere (not needed for Bedrock with IAM roles) ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"aws_region"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"AWS region for Bedrock. If not set, loads from server. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"batch_size"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Batch size for embedding API calls ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"25")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"input_type"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Input type for Cohere embeddings ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"search","_","document")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"model"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Model name. If not set, loads from server. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"model_embedding_key"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Storage key for embeddings (e.g., 'cohere_embed_v3'). Required if overriding server config. If not set, loads from server. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"embedding."),(0,t.yg)("span",{className:"path-main"},"provider"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of Enum, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Embedding provider (bedrock uses AWS, cohere/openai use API key). If not set, loads from server. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"filtering"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"FilteringConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"File filtering configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"max_file_size"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of integer, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Maximum file size in bytes ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"min_file_size"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of integer, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Minimum file size in bytes ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"min_text_length"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Minimum text length in characters ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"50")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"modified_after"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Only files modified after this date (ISO format) ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"modified_before"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Only files modified before this date (ISO format) ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"skip_empty_documents"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Skip documents with no text content ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"exclude_patterns"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Glob patterns to exclude")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering.exclude_patterns."),(0,t.yg)("span",{className:"path-main"},"string"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering."),(0,t.yg)("span",{className:"path-main"},"include_patterns"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Glob patterns to include")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"filtering.include_patterns."),(0,t.yg)("span",{className:"path-main"},"string"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"hierarchy"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"HierarchyConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Hierarchy configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy."),(0,t.yg)("span",{className:"path-main"},"enabled"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Enable parent-child relationships ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy."),(0,t.yg)("span",{className:"path-main"},"parent_strategy"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "folder", "none", "custom", "notion", "confluence" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"folder")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy."),(0,t.yg)("span",{className:"path-main"},"custom_mapping"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of CustomMappingConfig, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Custom mapping configuration ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.custom_mapping."),(0,t.yg)("span",{className:"path-main"},"rules"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Custom parent mapping rules")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.custom_mapping.rules."),(0,t.yg)("span",{className:"path-main"},"CustomParentRule"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"CustomParentRule"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Custom parent mapping rule.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.custom_mapping.rules.CustomParentRule."),(0,t.yg)("span",{className:"path-main"},"parent_id"),"\xa0",(0,t.yg)("abbr",{title:"Required if CustomParentRule is set"},"\u2753"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Parent document ID for matching files")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.custom_mapping.rules.CustomParentRule."),(0,t.yg)("span",{className:"path-main"},"pattern"),"\xa0",(0,t.yg)("abbr",{title:"Required if CustomParentRule is set"},"\u2753"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Glob pattern to match file paths")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy."),(0,t.yg)("span",{className:"path-main"},"folder_mapping"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"FolderMappingConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Folder hierarchy mapping configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.folder_mapping."),(0,t.yg)("span",{className:"path-main"},"create_parent_docs"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Create Document entities for folders ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.folder_mapping."),(0,t.yg)("span",{className:"path-main"},"max_depth"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Maximum hierarchy depth ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"10")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.folder_mapping."),(0,t.yg)("span",{className:"path-main"},"parent_id_pattern"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Pattern for parent document IDs ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"{","source","_","type","}","-","{","directory","}")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"hierarchy.folder_mapping."),(0,t.yg)("span",{className:"path-main"},"root_parent"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Optional root document URN ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"page_ids"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"List of Notion page IDs to ingest. IDs can be found in page URLs: ",(0,t.yg)("a",{parentName:"td",href:"https://www.notion.so/Page-Title-%7BPAGE_ID%7D"},"https://www.notion.so/Page-Title-{PAGE_ID}"),". If both page_ids and database_ids are empty, the source will automatically discover and ingest ALL pages and databases accessible to the integration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"page_ids."),(0,t.yg)("span",{className:"path-main"},"string"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"processing"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"ProcessingConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Processing configuration (partitioning only, no chunking).")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing."),(0,t.yg)("span",{className:"path-main"},"parallelism"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"ParallelismConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Parallelism configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.parallelism."),(0,t.yg)("span",{className:"path-main"},"disable_parallelism"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Disable all parallelism ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.parallelism."),(0,t.yg)("span",{className:"path-main"},"max_connections"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Max concurrent connections for async operations ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"10")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.parallelism."),(0,t.yg)("span",{className:"path-main"},"num_processes"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Number of worker processes ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"2")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing."),(0,t.yg)("span",{className:"path-main"},"partition"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"PartitionConfig"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Unstructured partitioning configuration.")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"additional_args"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"object"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Additional partition arguments")),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"api_key"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of string(password), null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Unstructured API key ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"partition_by_api"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Use Unstructured API for partitioning ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"split_pdf_concurrency_level"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"integer"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Number of parallel requests for PDF pages ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"5")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"split_pdf_page"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Enable page-level splitting for large PDFs ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"strategy"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"Enum"))),(0,t.yg)("td",{parentName:"tr",align:"left"},'One of: "auto", "hi_res", "fast", "ocr_only" ',(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"auto")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition."),(0,t.yg)("span",{className:"path-main"},"ocr_languages"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"array"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Languages for OCR ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"[","'","eng","'","]")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"processing.partition.ocr_languages."),(0,t.yg)("span",{className:"path-main"},"string"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"string"))),(0,t.yg)("td",{parentName:"tr",align:"left"})),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-main"},"stateful_ingestion"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"One of StatefulStaleMetadataRemovalConfig, null"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Stateful Ingestion Config ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"None")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"stateful_ingestion."),(0,t.yg)("span",{className:"path-main"},"enabled"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Whether or not to enable stateful ingest. Default: True if a pipeline_name is set and either a datahub-rest sink or ",(0,t.yg)("inlineCode",{parentName:"td"},"datahub_api")," is specified, otherwise False ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"False")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"stateful_ingestion."),(0,t.yg)("span",{className:"path-main"},"fail_safe_threshold"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"number"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Prevents large amount of soft deletes & the state from committing from accidental changes to the source configuration if the relative change percent in entities compared to the previous state is above the 'fail_safe_threshold'. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"75.0")))),(0,t.yg)("tr",{parentName:"tbody"},(0,t.yg)("td",{parentName:"tr",align:"left"},(0,t.yg)("div",{className:"path-line"},(0,t.yg)("span",{className:"path-prefix"},"stateful_ingestion."),(0,t.yg)("span",{className:"path-main"},"remove_stale_metadata"))," ",(0,t.yg)("div",{className:"type-name-line"},(0,t.yg)("span",{className:"type-name"},"boolean"))),(0,t.yg)("td",{parentName:"tr",align:"left"},"Soft-deletes the entities present in the last successful run but missing in the current run with stateful_ingestion enabled. ",(0,t.yg)("div",{className:"default-line default-line-with-docs"},"Default: ",(0,t.yg)("span",{className:"default-value"},"True")))))))),(0,t.yg)(s.A,{value:"schema",label:"Schema",mdxType:"TabItem"},(0,t.yg)("p",null,"The ",(0,t.yg)("a",{parentName:"p",href:"https://json-schema.org/"},"JSONSchema")," for this configuration is inlined below."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-javascript"},'{\n  "$defs": {\n    "AdvancedConfig": {\n      "additionalProperties": false,\n      "description": "Advanced configuration options.",\n      "properties": {\n        "work_dir": {\n          "default": "/tmp/unstructured_datahub",\n          "title": "Work Dir",\n          "type": "string"\n        },\n        "preserve_outputs": {\n          "default": false,\n          "title": "Preserve Outputs",\n          "type": "boolean"\n        },\n        "output_format": {\n          "default": "json",\n          "enum": [\n            "json",\n            "xml"\n          ],\n          "title": "Output Format",\n          "type": "string"\n        },\n        "raise_on_error": {\n          "default": false,\n          "title": "Raise On Error",\n          "type": "boolean"\n        },\n        "max_errors": {\n          "default": 10,\n          "title": "Max Errors",\n          "type": "integer"\n        },\n        "continue_on_failure": {\n          "default": true,\n          "title": "Continue On Failure",\n          "type": "boolean"\n        },\n        "retry": {\n          "$ref": "#/$defs/RetryConfig"\n        },\n        "cache": {\n          "$ref": "#/$defs/CacheConfig"\n        }\n      },\n      "title": "AdvancedConfig",\n      "type": "object"\n    },\n    "CacheConfig": {\n      "additionalProperties": false,\n      "description": "Cache configuration.",\n      "properties": {\n        "enabled": {\n          "default": true,\n          "title": "Enabled",\n          "type": "boolean"\n        },\n        "cache_dir": {\n          "default": "~/.cache/unstructured_datahub",\n          "title": "Cache Dir",\n          "type": "string"\n        },\n        "ttl": {\n          "default": 86400,\n          "description": "Cache TTL in seconds",\n          "title": "Ttl",\n          "type": "integer"\n        }\n      },\n      "title": "CacheConfig",\n      "type": "object"\n    },\n    "ChunkingConfig": {\n      "additionalProperties": false,\n      "description": "Chunking strategy configuration.",\n      "properties": {\n        "strategy": {\n          "default": "by_title",\n          "description": "Chunking strategy to use",\n          "enum": [\n            "basic",\n            "by_title"\n          ],\n          "title": "Strategy",\n          "type": "string"\n        },\n        "max_characters": {\n          "default": 500,\n          "description": "Maximum characters per chunk",\n          "title": "Max Characters",\n          "type": "integer"\n        },\n        "overlap": {\n          "default": 0,\n          "description": "Character overlap between chunks",\n          "title": "Overlap",\n          "type": "integer"\n        },\n        "combine_text_under_n_chars": {\n          "default": 100,\n          "description": "Combine chunks smaller than this size",\n          "title": "Combine Text Under N Chars",\n          "type": "integer"\n        }\n      },\n      "title": "ChunkingConfig",\n      "type": "object"\n    },\n    "CustomMappingConfig": {\n      "additionalProperties": false,\n      "description": "Custom parent mapping configuration.",\n      "properties": {\n        "rules": {\n          "description": "Custom parent mapping rules",\n          "items": {\n            "$ref": "#/$defs/CustomParentRule"\n          },\n          "title": "Rules",\n          "type": "array"\n        }\n      },\n      "title": "CustomMappingConfig",\n      "type": "object"\n    },\n    "CustomParentRule": {\n      "additionalProperties": false,\n      "description": "Custom parent mapping rule.",\n      "properties": {\n        "pattern": {\n          "description": "Glob pattern to match file paths",\n          "title": "Pattern",\n          "type": "string"\n        },\n        "parent_id": {\n          "description": "Parent document ID for matching files",\n          "title": "Parent Id",\n          "type": "string"\n        }\n      },\n      "required": [\n        "pattern",\n        "parent_id"\n      ],\n      "title": "CustomParentRule",\n      "type": "object"\n    },\n    "DataHubConnectionConfig": {\n      "additionalProperties": false,\n      "description": "DataHub connection configuration.\\n\\nDefaults are loaded in this priority:\\n1. Explicitly configured values in the recipe\\n2. Environment variables (DATAHUB_GMS_URL, DATAHUB_GMS_TOKEN)\\n3. ~/.datahubenv file (created by `datahub init`)\\n4. Hardcoded defaults (http://localhost:8080, no token)",\n      "properties": {\n        "server": {\n          "description": "DataHub GMS server URL (defaults to DATAHUB_GMS_URL env var, ~/.datahubenv, or localhost:8080)",\n          "title": "Server",\n          "type": "string"\n        },\n        "token": {\n          "anyOf": [\n            {\n              "format": "password",\n              "type": "string",\n              "writeOnly": true\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "description": "DataHub API token for authentication (defaults to DATAHUB_GMS_TOKEN env var or ~/.datahubenv)",\n          "title": "Token"\n        }\n      },\n      "title": "DataHubConnectionConfig",\n      "type": "object"\n    },\n    "DocumentMappingConfig": {\n      "additionalProperties": false,\n      "description": "Document entity mapping configuration.",\n      "properties": {\n        "id_pattern": {\n          "default": "{source_type}-{directory}-{basename}",\n          "description": "Pattern for generating document IDs",\n          "title": "Id Pattern",\n          "type": "string"\n        },\n        "id_normalization": {\n          "$ref": "#/$defs/IdNormalizationConfig",\n          "description": "ID normalization rules"\n        },\n        "title": {\n          "$ref": "#/$defs/TitleExtractionConfig",\n          "description": "Title extraction configuration"\n        },\n        "source": {\n          "$ref": "#/$defs/SourceConfig",\n          "description": "Source configuration"\n        },\n        "status": {\n          "default": "PUBLISHED",\n          "description": "Default publication status",\n          "enum": [\n            "PUBLISHED",\n            "UNPUBLISHED"\n          ],\n          "title": "Status",\n          "type": "string"\n        }\n      },\n      "title": "DocumentMappingConfig",\n      "type": "object"\n    },\n    "EmbeddingConfig": {\n      "additionalProperties": false,\n      "description": "Embedding generation configuration.\\n\\nDefault behavior: Fetches configuration from DataHub server automatically.\\nOverride behavior: Validates local config against server when explicitly set.",\n      "properties": {\n        "provider": {\n          "anyOf": [\n            {\n              "enum": [\n                "bedrock",\n                "cohere",\n                "openai"\n              ],\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Embedding provider (bedrock uses AWS, cohere/openai use API key). If not set, loads from server.",\n          "title": "Provider"\n        },\n        "model": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Model name. If not set, loads from server.",\n          "title": "Model"\n        },\n        "model_embedding_key": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Storage key for embeddings (e.g., \'cohere_embed_v3\'). Required if overriding server config. If not set, loads from server.",\n          "title": "Model Embedding Key"\n        },\n        "aws_region": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "AWS region for Bedrock. If not set, loads from server.",\n          "title": "Aws Region"\n        },\n        "api_key": {\n          "anyOf": [\n            {\n              "format": "password",\n              "type": "string",\n              "writeOnly": true\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "API key for Cohere (not needed for Bedrock with IAM roles)",\n          "title": "Api Key"\n        },\n        "batch_size": {\n          "default": 25,\n          "description": "Batch size for embedding API calls",\n          "title": "Batch Size",\n          "type": "integer"\n        },\n        "input_type": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": "search_document",\n          "description": "Input type for Cohere embeddings",\n          "title": "Input Type"\n        },\n        "allow_local_embedding_config": {\n          "default": false,\n          "description": "BREAK-GLASS: Allow local config without server validation. NOT RECOMMENDED - may break semantic search.",\n          "title": "Allow Local Embedding Config",\n          "type": "boolean"\n        }\n      },\n      "title": "EmbeddingConfig",\n      "type": "object"\n    },\n    "FilteringConfig": {\n      "additionalProperties": false,\n      "description": "File filtering configuration.",\n      "properties": {\n        "include_patterns": {\n          "description": "Glob patterns to include",\n          "items": {\n            "type": "string"\n          },\n          "title": "Include Patterns",\n          "type": "array"\n        },\n        "exclude_patterns": {\n          "description": "Glob patterns to exclude",\n          "items": {\n            "type": "string"\n          },\n          "title": "Exclude Patterns",\n          "type": "array"\n        },\n        "min_file_size": {\n          "anyOf": [\n            {\n              "type": "integer"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Minimum file size in bytes",\n          "title": "Min File Size"\n        },\n        "max_file_size": {\n          "anyOf": [\n            {\n              "type": "integer"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Maximum file size in bytes",\n          "title": "Max File Size"\n        },\n        "modified_after": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Only files modified after this date (ISO format)",\n          "title": "Modified After"\n        },\n        "modified_before": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Only files modified before this date (ISO format)",\n          "title": "Modified Before"\n        },\n        "skip_empty_documents": {\n          "default": true,\n          "description": "Skip documents with no text content",\n          "title": "Skip Empty Documents",\n          "type": "boolean"\n        },\n        "min_text_length": {\n          "default": 50,\n          "description": "Minimum text length in characters",\n          "title": "Min Text Length",\n          "type": "integer"\n        }\n      },\n      "title": "FilteringConfig",\n      "type": "object"\n    },\n    "FolderMappingConfig": {\n      "additionalProperties": false,\n      "description": "Folder hierarchy mapping configuration.",\n      "properties": {\n        "create_parent_docs": {\n          "default": true,\n          "description": "Create Document entities for folders",\n          "title": "Create Parent Docs",\n          "type": "boolean"\n        },\n        "parent_id_pattern": {\n          "default": "{source_type}-{directory}",\n          "description": "Pattern for parent document IDs",\n          "title": "Parent Id Pattern",\n          "type": "string"\n        },\n        "max_depth": {\n          "default": 10,\n          "description": "Maximum hierarchy depth",\n          "maximum": 50,\n          "minimum": 1,\n          "title": "Max Depth",\n          "type": "integer"\n        },\n        "root_parent": {\n          "anyOf": [\n            {\n              "type": "string"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Optional root document URN",\n          "title": "Root Parent"\n        }\n      },\n      "title": "FolderMappingConfig",\n      "type": "object"\n    },\n    "HierarchyConfig": {\n      "additionalProperties": false,\n      "description": "Hierarchy configuration.",\n      "properties": {\n        "enabled": {\n          "default": true,\n          "description": "Enable parent-child relationships",\n          "title": "Enabled",\n          "type": "boolean"\n        },\n        "parent_strategy": {\n          "default": "folder",\n          "description": "Parent document creation strategy. \'notion\' extracts parent from Notion API metadata. \'confluence\' extracts parent from Confluence page ancestors.",\n          "enum": [\n            "folder",\n            "none",\n            "custom",\n            "notion",\n            "confluence"\n          ],\n          "title": "Parent Strategy",\n          "type": "string"\n        },\n        "folder_mapping": {\n          "$ref": "#/$defs/FolderMappingConfig",\n          "description": "Folder mapping configuration"\n        },\n        "custom_mapping": {\n          "anyOf": [\n            {\n              "$ref": "#/$defs/CustomMappingConfig"\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Custom mapping configuration"\n        }\n      },\n      "title": "HierarchyConfig",\n      "type": "object"\n    },\n    "IdNormalizationConfig": {\n      "additionalProperties": false,\n      "description": "Document ID normalization rules.",\n      "properties": {\n        "lowercase": {\n          "default": true,\n          "description": "Convert to lowercase",\n          "title": "Lowercase",\n          "type": "boolean"\n        },\n        "replace_spaces_with": {\n          "default": "-",\n          "description": "Replace spaces with this character",\n          "title": "Replace Spaces With",\n          "type": "string"\n        },\n        "remove_special_chars": {\n          "default": true,\n          "description": "Remove special characters except _ and -",\n          "title": "Remove Special Chars",\n          "type": "boolean"\n        },\n        "max_length": {\n          "default": 200,\n          "description": "Maximum ID length",\n          "title": "Max Length",\n          "type": "integer"\n        }\n      },\n      "title": "IdNormalizationConfig",\n      "type": "object"\n    },\n    "ParallelismConfig": {\n      "additionalProperties": false,\n      "description": "Parallelism configuration.",\n      "properties": {\n        "num_processes": {\n          "default": 2,\n          "description": "Number of worker processes",\n          "maximum": 32,\n          "minimum": 1,\n          "title": "Num Processes",\n          "type": "integer"\n        },\n        "disable_parallelism": {\n          "default": false,\n          "description": "Disable all parallelism",\n          "title": "Disable Parallelism",\n          "type": "boolean"\n        },\n        "max_connections": {\n          "default": 10,\n          "description": "Max concurrent connections for async operations",\n          "title": "Max Connections",\n          "type": "integer"\n        }\n      },\n      "title": "ParallelismConfig",\n      "type": "object"\n    },\n    "PartitionConfig": {\n      "additionalProperties": false,\n      "description": "Unstructured partitioning configuration.",\n      "properties": {\n        "strategy": {\n          "default": "auto",\n          "description": "Partitioning strategy",\n          "enum": [\n            "auto",\n            "hi_res",\n            "fast",\n            "ocr_only"\n          ],\n          "title": "Strategy",\n          "type": "string"\n        },\n        "partition_by_api": {\n          "default": false,\n          "description": "Use Unstructured API for partitioning",\n          "title": "Partition By Api",\n          "type": "boolean"\n        },\n        "api_key": {\n          "anyOf": [\n            {\n              "format": "password",\n              "type": "string",\n              "writeOnly": true\n            },\n            {\n              "type": "null"\n            }\n          ],\n          "default": null,\n          "description": "Unstructured API key",\n          "title": "Api Key"\n        },\n        "split_pdf_page": {\n          "default": false,\n          "description": "Enable page-level splitting for large PDFs",\n          "title": "Split Pdf Page",\n          "type": "boolean"\n        },\n        "split_pdf_concurrency_level": {\n          "default": 5,\n          "description": "Number of parallel requests for PDF pages",\n          "title": "Split Pdf Concurrency Level",\n          "type": "integer"\n        },\n        "ocr_languages": {\n          "default": [\n            "eng"\n          ],\n          "description": "Languages for OCR",\n          "items": {\n            "type": "string"\n          },\n          "title": "Ocr Languages",\n          "type": "array"\n        },\n        "additional_args": {\n          "additionalProperties": true,\n          "description": "Additional partition arguments",\n          "title": "Additional Args",\n          "type": "object"\n        }\n      },\n      "title": "PartitionConfig",\n      "type": "object"\n    },\n    "ProcessingConfig": {\n      "additionalProperties": false,\n      "description": "Processing configuration (partitioning only, no chunking).",\n      "properties": {\n        "partition": {\n          "$ref": "#/$defs/PartitionConfig",\n          "description": "Partition configuration"\n        },\n        "parallelism": {\n          "$ref": "#/$defs/ParallelismConfig",\n          "description": "Parallelism configuration"\n        }\n      },\n      "title": "ProcessingConfig",\n      "type": "object"\n    },\n    "RetryConfig": {\n      "additionalProperties": false,\n      "description": "Retry configuration.",\n      "properties": {\n        "enabled": {\n          "default": true,\n          "title": "Enabled",\n          "type": "boolean"\n        },\n        "max_attempts": {\n          "default": 3,\n          "title": "Max Attempts",\n          "type": "integer"\n        },\n        "backoff_factor": {\n          "default": 2,\n          "title": "Backoff Factor",\n          "type": "integer"\n        },\n        "retry_on_timeout": {\n          "default": true,\n          "title": "Retry On Timeout",\n          "type": "boolean"\n        }\n      },\n      "title": "RetryConfig",\n      "type": "object"\n    },\n    "SourceConfig": {\n      "additionalProperties": false,\n      "description": "Document source configuration.",\n      "properties": {\n        "type": {\n          "default": "EXTERNAL",\n          "description": "Source type (always EXTERNAL for ingested docs)",\n          "enum": [\n            "NATIVE",\n            "EXTERNAL"\n          ],\n          "title": "Type",\n          "type": "string"\n        },\n        "include_external_url": {\n          "default": true,\n          "description": "Include external URL in DocumentSource",\n          "title": "Include External Url",\n          "type": "boolean"\n        },\n        "include_external_id": {\n          "default": true,\n          "description": "Include external ID in DocumentSource",\n          "title": "Include External Id",\n          "type": "boolean"\n        }\n      },\n      "title": "SourceConfig",\n      "type": "object"\n    },\n    "StatefulStaleMetadataRemovalConfig": {\n      "additionalProperties": false,\n      "description": "Base specialized config for Stateful Ingestion with stale metadata removal capability.",\n      "properties": {\n        "enabled": {\n          "default": false,\n          "description": "Whether or not to enable stateful ingest. Default: True if a pipeline_name is set and either a datahub-rest sink or `datahub_api` is specified, otherwise False",\n          "title": "Enabled",\n          "type": "boolean"\n        },\n        "remove_stale_metadata": {\n          "default": true,\n          "description": "Soft-deletes the entities present in the last successful run but missing in the current run with stateful_ingestion enabled.",\n          "title": "Remove Stale Metadata",\n          "type": "boolean"\n        },\n        "fail_safe_threshold": {\n          "default": 75.0,\n          "description": "Prevents large amount of soft deletes & the state from committing from accidental changes to the source configuration if the relative change percent in entities compared to the previous state is above the \'fail_safe_threshold\'.",\n          "maximum": 100.0,\n          "minimum": 0.0,\n          "title": "Fail Safe Threshold",\n          "type": "number"\n        }\n      },\n      "title": "StatefulStaleMetadataRemovalConfig",\n      "type": "object"\n    },\n    "TitleExtractionConfig": {\n      "additionalProperties": false,\n      "description": "Title extraction configuration.",\n      "properties": {\n        "extract_from_content": {\n          "default": true,\n          "description": "Try to extract title from document content",\n          "title": "Extract From Content",\n          "type": "boolean"\n        },\n        "fallback_to_filename": {\n          "default": true,\n          "description": "Use filename as title if not found in content",\n          "title": "Fallback To Filename",\n          "type": "boolean"\n        },\n        "max_length": {\n          "default": 500,\n          "description": "Maximum title length",\n          "title": "Max Length",\n          "type": "integer"\n        }\n      },\n      "title": "TitleExtractionConfig",\n      "type": "object"\n    }\n  },\n  "additionalProperties": false,\n  "description": "Notion ingestion configuration.\\n\\nThis source extracts documents from Notion pages and databases\\nusing the Notion API and Unstructured.io text extraction.",\n  "properties": {\n    "stateful_ingestion": {\n      "anyOf": [\n        {\n          "$ref": "#/$defs/StatefulStaleMetadataRemovalConfig"\n        },\n        {\n          "type": "null"\n        }\n      ],\n      "default": null,\n      "description": "Stateful Ingestion Config"\n    },\n    "api_key": {\n      "description": "Notion internal integration token. Create one at https://www.notion.so/my-integrations",\n      "format": "password",\n      "title": "Api Key",\n      "type": "string",\n      "writeOnly": true\n    },\n    "page_ids": {\n      "description": "List of Notion page IDs to ingest. IDs can be found in page URLs: https://www.notion.so/Page-Title-{PAGE_ID}. If both page_ids and database_ids are empty, the source will automatically discover and ingest ALL pages and databases accessible to the integration.",\n      "items": {\n        "type": "string"\n      },\n      "title": "Page Ids",\n      "type": "array"\n    },\n    "database_ids": {\n      "description": "List of Notion database IDs to ingest. If both page_ids and database_ids are empty, the source will automatically discover and ingest ALL pages and databases accessible to the integration. IDs can be found in database URLs: https://www.notion.so/{DATABASE_ID}",\n      "items": {\n        "type": "string"\n      },\n      "title": "Database Ids",\n      "type": "array"\n    },\n    "recursive": {\n      "default": true,\n      "description": "Recursively fetch child pages. When true, ingests all descendant pages of specified pages/databases.",\n      "title": "Recursive",\n      "type": "boolean"\n    },\n    "processing": {\n      "$ref": "#/$defs/ProcessingConfig",\n      "description": "Text extraction and partitioning configuration"\n    },\n    "document_mapping": {\n      "$ref": "#/$defs/DocumentMappingConfig",\n      "description": "Document entity mapping configuration (ID generation, title extraction)"\n    },\n    "hierarchy": {\n      "$ref": "#/$defs/HierarchyConfig",\n      "description": "Parent-child relationship configuration"\n    },\n    "filtering": {\n      "$ref": "#/$defs/FilteringConfig",\n      "description": "Document filtering configuration"\n    },\n    "datahub": {\n      "$ref": "#/$defs/DataHubConnectionConfig",\n      "description": "DataHub connection configuration (for querying server-side embedding config)"\n    },\n    "chunking": {\n      "$ref": "#/$defs/ChunkingConfig",\n      "description": "Chunking strategy configuration (for embeddings)"\n    },\n    "embedding": {\n      "$ref": "#/$defs/EmbeddingConfig",\n      "description": "Embedding generation configuration (LiteLLM with Cohere/Bedrock)"\n    },\n    "advanced": {\n      "$ref": "#/$defs/AdvancedConfig",\n      "description": "Advanced configuration options (work directory, error handling)"\n    }\n  },\n  "required": [\n    "api_key"\n  ],\n  "title": "NotionSourceConfig",\n  "type": "object"\n}\n')))),(0,t.yg)("h3",{id:"code-coordinates"},"Code Coordinates"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Class Name: ",(0,t.yg)("inlineCode",{parentName:"li"},"datahub.ingestion.source.notion.notion_source.NotionSource")),(0,t.yg)("li",{parentName:"ul"},"Browse on ",(0,t.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/src/datahub/ingestion/source/notion/notion_source.py"},"GitHub"))),(0,t.yg)("h2",null,"Questions"),(0,t.yg)("p",null,"If you've got any questions on configuring ingestion for Notion, feel free to ping us on ",(0,t.yg)("a",{parentName:"p",href:"https://datahub.com/slack"},"our Slack"),"."))}f.isMDXComponent=!0}}]);