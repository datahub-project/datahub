"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[79055],{7653:(e,t,a)=>{a.d(t,{A:()=>r});const r={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(89379),s=a(96540),n=a(7653),i=a(89990),l=function(e,t){return s.createElement(i.A,(0,r.A)((0,r.A)({},e),{},{ref:t,icon:n.A}))};const o=s.forwardRef(l)},15680:(e,t,a)=>{a.d(t,{xA:()=>g,yg:()=>y});var r=a(96540);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var o=r.createContext({}),c=function(e){var t=r.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},g=function(e){var t=c(e.components);return r.createElement(o.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,s=e.mdxType,n=e.originalType,o=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),p=c(a),d=s,y=p["".concat(o,".").concat(d)]||p[d]||u[d]||n;return a?r.createElement(y,i(i({ref:t},g),{},{components:a})):r.createElement(y,i({ref:t},g))}));function y(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var n=a.length,i=new Array(n);i[0]=d;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[p]="string"==typeof e?e:s,i[1]=l;for(var c=2;c<n;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},43655:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(96540),s=a(20053);const n="availabilityCard_P5od",i="managedIcon_AxXO",l="platform_wqXv",o="platformAvailable_Y8lN";var c=a(4732),g=a(89379);const p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var u=a(89990),d=function(e,t){return r.createElement(u.A,(0,g.A)((0,g.A)({},e),{},{ref:t,icon:p}))};const y=r.forwardRef(d);const m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var h=function(e,t){return r.createElement(u.A,(0,g.A)((0,g.A)({},e),{},{ref:t,icon:m}))};const f=r.forwardRef(h),b=({saasOnly:e,ossOnly:t})=>r.createElement("div",{className:(0,s.A)(n,"card")},r.createElement("strong",null,"Feature Availability"),r.createElement("div",null,r.createElement("span",{className:(0,s.A)(l,!e&&o)},"Self-Hosted DataHub ",e?r.createElement(c.A,null):r.createElement(y,null))),r.createElement("div",null,r.createElement(f,{className:i}),r.createElement("span",{className:(0,s.A)(l,!t&&o)},"DataHub Cloud ",t?r.createElement(c.A,null):r.createElement(y,null))))},23655:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>g,toc:()=>u});a(96540);var r=a(15680),s=a(43655);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function l(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const o={title:"Search Access Controls",slug:"/features/feature-guides/search-access-controls",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/search-access-controls.md"},c="Search Access Controls",g={unversionedId:"docs/features/feature-guides/search-access-controls",id:"docs/features/feature-guides/search-access-controls",title:"Search Access Controls",description:"Search Access Controls allow organizations to restrict which entities users can discover through search results. This feature uses the View Entity permission to filter search results based on policies, ensuring users only see metadata they are authorized to access.",source:"@site/genDocs/docs/features/feature-guides/search-access-controls.md",sourceDirName:"docs/features/feature-guides",slug:"/features/feature-guides/search-access-controls",permalink:"/docs/features/feature-guides/search-access-controls",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/search-access-controls.md",tags:[],version:"current",frontMatter:{title:"Search Access Controls",slug:"/features/feature-guides/search-access-controls",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/features/feature-guides/search-access-controls.md"},sidebar:"overviewSidebar",previous:{title:"Search",permalink:"/docs/how/search"},next:{title:"Service Accounts",permalink:"/docs/features/feature-guides/service-accounts"}},p={},u=[{value:"Key Concepts",id:"key-concepts",level:2},{value:"View Entity Permission",id:"view-entity-permission",level:3},{value:"Default Behavior",id:"default-behavior",level:3},{value:"Policy-Based Filtering",id:"policy-based-filtering",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Peer Group Recommendations",id:"peer-group-recommendations",level:2},{value:"How Peer Groups Work",id:"how-peer-groups-work",level:3},{value:"Practical Scenario: Two Groups, Three Domains",id:"practical-scenario-two-groups-three-domains",level:2},{value:"Business Context",id:"business-context",level:3},{value:"Access Matrix",id:"access-matrix",level:3},{value:"Step 1: Create the Domains",id:"step-1-create-the-domains",level:3},{value:"Step 2: Create the Groups",id:"step-2-create-the-groups",level:3},{value:"Step 3: Remove Default Read Access Policies",id:"step-3-remove-default-read-access-policies",level:3},{value:"Step 4: Create Engineering Access Policy",id:"step-4-create-engineering-access-policy",level:3},{value:"Step 5: Create Finance Access Policy",id:"step-5-create-finance-access-policy",level:3},{value:"Step 6: Verify the Configuration",id:"step-6-verify-the-configuration",level:3},{value:"Important Considerations",id:"important-considerations",level:2},{value:"Domain Assignment",id:"domain-assignment",level:3},{value:"Platform Administrators",id:"platform-administrators",level:3},{value:"Roles",id:"roles",level:3},{value:"Consistent Access Control",id:"consistent-access-control",level:3},{value:"Resource Filter Types",id:"resource-filter-types",level:3},{value:"FAQ",id:"faq",level:2}],d={toc:u},y="wrapper";function m(e){var{components:t}=e,a=l(e,["components"]);return(0,r.yg)(y,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){n(e,t,a[t])}))}return e}({},d,a),{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"search-access-controls"},"Search Access Controls"),(0,r.yg)(s.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,r.yg)("p",null,"Search Access Controls allow organizations to restrict which entities users can discover through search results. This feature uses the ",(0,r.yg)("strong",{parentName:"p"},"View Entity")," permission to filter search results based on policies, ensuring users only see metadata they are authorized to access."),(0,r.yg)("h2",{id:"key-concepts"},"Key Concepts"),(0,r.yg)("h3",{id:"view-entity-permission"},"View Entity Permission"),(0,r.yg)("p",null,"The ",(0,r.yg)("strong",{parentName:"p"},"View Entity")," permission controls whether a user can discover and access an entity. When Search Access Controls are enabled:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Users will only see entities in search results that they have been granted access to view"),(0,r.yg)("li",{parentName:"ul"},"Users cannot access restricted entities via direct URL"),(0,r.yg)("li",{parentName:"ul"},"Access control applies consistently across search, browse, and direct access")),(0,r.yg)("p",null,"This unified approach ensures that access control is applied consistently regardless of how a user attempts to discover or view an entity."),(0,r.yg)("h3",{id:"default-behavior"},"Default Behavior"),(0,r.yg)("p",null,"Without Search Access Controls enabled:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"All users can see all entities in search results"),(0,r.yg)("li",{parentName:"ul"},"No filtering is applied based on policies")),(0,r.yg)("p",null,"When Search Access Controls are enabled:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Search results are filtered based on the user's applicable policies"),(0,r.yg)("li",{parentName:"ul"},'Only entities matching at least one policy with the "View Entity" privilege are returned'),(0,r.yg)("li",{parentName:"ul"},'This creates a "default deny" model where explicit permission grants are required')),(0,r.yg)("h3",{id:"policy-based-filtering"},"Policy-Based Filtering"),(0,r.yg)("p",null,"Search results are automatically filtered based on:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},'Active policies that grant the "View Entity" privilege')),(0,r.yg)("h2",{id:"how-it-works"},"How It Works"),(0,r.yg)("p",null,"When a user performs a search:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},'DataHub identifies all active policies that grant the "View Entity" privilege to the user'),(0,r.yg)("li",{parentName:"ol"},"For each policy, the resource filters are evaluated (domains, tags)"),(0,r.yg)("li",{parentName:"ol"},"Only entities matching at least one applicable policy are included in the search results"),(0,r.yg)("li",{parentName:"ol"},"The filtering happens at query time, ensuring consistent results across all search interfaces")),(0,r.yg)("p",null,"The feature is enabled by your DataHub Cloud administrator. Contact your admin to enable Search Access Controls for your organization."),(0,r.yg)("h2",{id:"peer-group-recommendations"},"Peer Group Recommendations"),(0,r.yg)("p",null,'When Search Access Controls are enabled, the "Most Popular" recommendations on the home page can also be filtered to prevent information leakage.'),(0,r.yg)("h3",{id:"how-peer-groups-work"},"How Peer Groups Work"),(0,r.yg)("p",null,'The peer group setting controls how "Most Popular" recommendations are calculated:'),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Setting"),(0,r.yg)("th",{parentName:"tr",align:null},"Behavior"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Peer Group Enabled")),(0,r.yg)("td",{parentName:"tr",align:null},"Recommendations show what users in your same groups have been viewing. This allows you to see popular assets among your peers while preventing visibility into what other teams are accessing.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("strong",{parentName:"td"},"Peer Group Disabled")),(0,r.yg)("td",{parentName:"tr",align:null},"Recommendations are based only on your own activity. You will only see assets you have previously viewed.")))),(0,r.yg)("p",null,'This prevents scenarios where users could infer the existence of sensitive data by seeing it appear in "Most Popular" recommendations, even if they cannot access it directly.'),(0,r.yg)("h2",{id:"practical-scenario-two-groups-three-domains"},"Practical Scenario: Two Groups, Three Domains"),(0,r.yg)("p",null,"This section walks through a complete example of setting up Search Access Controls for an organization with two teams that need different levels of access."),(0,r.yg)("h3",{id:"business-context"},"Business Context"),(0,r.yg)("p",null,"An organization wants to ensure:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Engineering can only discover engineering-related data"),(0,r.yg)("li",{parentName:"ul"},"Finance can only discover financial data"),(0,r.yg)("li",{parentName:"ul"},"Both teams need access to shared company metrics")),(0,r.yg)("h3",{id:"access-matrix"},"Access Matrix"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Domain"),(0,r.yg)("th",{parentName:"tr",align:null},"Engineering Team"),(0,r.yg)("th",{parentName:"tr",align:null},"Finance Team"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Engineering Data"),(0,r.yg)("td",{parentName:"tr",align:null},"Can View"),(0,r.yg)("td",{parentName:"tr",align:null},"Cannot View")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Finance Data"),(0,r.yg)("td",{parentName:"tr",align:null},"Cannot View"),(0,r.yg)("td",{parentName:"tr",align:null},"Can View")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Company Metrics"),(0,r.yg)("td",{parentName:"tr",align:null},"Can View"),(0,r.yg)("td",{parentName:"tr",align:null},"Can View")))),(0,r.yg)("h3",{id:"step-1-create-the-domains"},"Step 1: Create the Domains"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("strong",{parentName:"p"},"Settings > Domains")," and create the following domains:"),(0,r.yg)("p",{align:"center"},(0,r.yg)("img",{width:"80%",style:{border:"1px solid #333",borderRadius:"6px"},src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Domains.png"})),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Engineering Data")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Description: Contains all engineering datasets, dashboards, and pipelines"),(0,r.yg)("li",{parentName:"ul"},"Assign all engineering-related assets to this domain"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Finance Data")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Description: Contains all financial datasets and reports"),(0,r.yg)("li",{parentName:"ul"},"Assign all finance-related assets to this domain"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Company Metrics")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Description: Contains shared KPIs and dashboards accessible to all teams"),(0,r.yg)("li",{parentName:"ul"},"Assign cross-functional assets to this domain")))),(0,r.yg)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"10px"}},(0,r.yg)("tr",null,(0,r.yg)("td",{style:{width:"33%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Domain%20Engineering.png"})),(0,r.yg)("td",{style:{width:"33%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Domain%20Finance.png"})),(0,r.yg)("td",{style:{width:"33%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Domain%20Company%20Metrics.png"})))),(0,r.yg)("h3",{id:"step-2-create-the-groups"},"Step 2: Create the Groups"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("strong",{parentName:"p"},"Settings > Users & Groups > Groups")," and create:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Engineering Team"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Add all engineering users as members"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Finance Team"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Add all finance users as members")))),(0,r.yg)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"10px"}},(0,r.yg)("tr",null,(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Groups.png"})),(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Users.png"})))),(0,r.yg)("h3",{id:"step-3-remove-default-read-access-policies"},"Step 3: Remove Default Read Access Policies"),(0,r.yg)("p",null,"To ensure users can only see what they are explicitly granted access to, you must disable or remove the default read access policies:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Navigate to ",(0,r.yg)("strong",{parentName:"li"},"Settings > Permissions > Policies")),(0,r.yg)("li",{parentName:"ol"},'Locate the default policies that grant "View Entity" to "All Users"'),(0,r.yg)("li",{parentName:"ol"},"Disable or delete these policies")),(0,r.yg)("p",{align:"center"},(0,r.yg)("img",{width:"80%",style:{border:"1px solid #333",borderRadius:"6px"},src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Deactivate%20Default%20Policies.png"})),(0,r.yg)("admonition",{type:"caution"},(0,r.yg)("p",{parentName:"admonition"},"Removing the default read access policies means users will not see any entities in search results until you create explicit access policies. Plan your access policies before making this change.")),(0,r.yg)("h3",{id:"step-4-create-engineering-access-policy"},"Step 4: Create Engineering Access Policy"),(0,r.yg)("p",null,"Navigate to ",(0,r.yg)("strong",{parentName:"p"},"Settings > Permissions > Policies")," and click ",(0,r.yg)("strong",{parentName:"p"},"Create Policy"),":"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Policy Name"),": Engineering Team - View Access"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Policy Type"),": Metadata Policy"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Privileges"),": Select ",(0,r.yg)("strong",{parentName:"li"},"View Entity")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Actors"),":",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Select the ",(0,r.yg)("strong",{parentName:"li"},"Engineering Team")," group"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Resources"),":",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"From the Domain list, select ",(0,r.yg)("strong",{parentName:"li"},"Engineering Data")," and ",(0,r.yg)("strong",{parentName:"li"},"Company Metrics")))),(0,r.yg)("li",{parentName:"ol"},"Click ",(0,r.yg)("strong",{parentName:"li"},"Save"))),(0,r.yg)("h3",{id:"step-5-create-finance-access-policy"},"Step 5: Create Finance Access Policy"),(0,r.yg)("p",null,"Create another policy with:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Policy Name"),": Finance Team - View Access"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Policy Type"),": Metadata Policy"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Privileges"),": Select ",(0,r.yg)("strong",{parentName:"li"},"View Entity")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Actors"),":",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"Select the ",(0,r.yg)("strong",{parentName:"li"},"Finance Team")," group"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Resources"),":",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"From the Domain list, select ",(0,r.yg)("strong",{parentName:"li"},"Finance Data")," and ",(0,r.yg)("strong",{parentName:"li"},"Company Metrics")))),(0,r.yg)("li",{parentName:"ol"},"Click ",(0,r.yg)("strong",{parentName:"li"},"Save"))),(0,r.yg)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"10px"}},(0,r.yg)("tr",null,(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Engineering%20Policy.png"})),(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Finance%20Policy.png"})))),(0,r.yg)("p",null,"After creating both policies, you can view all configured view access policies:"),(0,r.yg)("p",{align:"center"},(0,r.yg)("img",{width:"80%",style:{border:"1px solid #333",borderRadius:"6px"},src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/View%20Policies.png"})),(0,r.yg)("h3",{id:"step-6-verify-the-configuration"},"Step 6: Verify the Configuration"),(0,r.yg)("p",null,"Now let's verify that the access controls are working correctly by logging in as users from each group."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Alice (Engineering Team)")),(0,r.yg)("p",null,"When Alice logs in and searches, she can only discover entities in the Engineering Data and Company Metrics domains:"),(0,r.yg)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"10px"}},(0,r.yg)("tr",null,(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Alice%20Login.png"})),(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/Alice%20Discover.png"})))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"David (Finance Team)")),(0,r.yg)("p",null,"When David logs in and searches, he can only discover entities in the Finance Data and Company Metrics domains:"),(0,r.yg)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"10px"}},(0,r.yg)("tr",null,(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/David%20Login.png"})),(0,r.yg)("td",{style:{width:"50%",verticalAlign:"top",border:"1px solid #333",borderRadius:"6px",padding:0}},(0,r.yg)("img",{style:{display:"block"},width:"100%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/features/feature-guides/search-access-controls/David%20Discover.png"})))),(0,r.yg)("h2",{id:"important-considerations"},"Important Considerations"),(0,r.yg)("h3",{id:"domain-assignment"},"Domain Assignment"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"All entities should be assigned to domains")," for this approach to work effectively"),(0,r.yg)("li",{parentName:"ul"},"Entities without a domain assignment will not be matched by domain-based policies"),(0,r.yg)("li",{parentName:"ul"},"Consider creating a catch-all policy or default domain for unassigned entities")),(0,r.yg)("h3",{id:"platform-administrators"},"Platform Administrators"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Users with platform administrator privileges bypass Search Access Controls"),(0,r.yg)("li",{parentName:"ul"},"Admin users will see all entities regardless of policies"),(0,r.yg)("li",{parentName:"ul"},"Use admin accounts only when necessary")),(0,r.yg)("h3",{id:"roles"},"Roles"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"All roles (Admin, Editor, Reader) override view-based access policies"),(0,r.yg)("li",{parentName:"ul"},"Users assigned any role will be able to see all entities regardless of domain-based View Entity policies"),(0,r.yg)("li",{parentName:"ul"},"When configuring Search Access Controls, ensure users are not assigned any role if you want to restrict their access")),(0,r.yg)("h3",{id:"consistent-access-control"},"Consistent Access Control"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"The View Entity permission applies to both search results and direct URL access"),(0,r.yg)("li",{parentName:"ul"},"Users without permission cannot discover entities in search or access them via direct link"),(0,r.yg)("li",{parentName:"ul"},"This ensures consistent access control regardless of how users attempt to view entities")),(0,r.yg)("h3",{id:"resource-filter-types"},"Resource Filter Types"),(0,r.yg)("p",null,"Policies can filter resources by:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Domain"),": Most common for organizational boundaries"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Tag"),": Useful for classification-based access (e.g., PII, Confidential) or granting access to specific entities")),(0,r.yg)("h2",{id:"faq"},"FAQ"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"What happens if an entity has no domain assigned?")),(0,r.yg)("p",null,"Entities without a domain will not match domain-based policies. These entities will only be visible to users with policies that:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Grant access to all resources (no resource filter)"),(0,r.yg)("li",{parentName:"ul"},"Use other filter types (tags) that match the entity")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"How do I grant access to specific entities rather than domains?")),(0,r.yg)("p",null,'Use tags to identify specific entities that should be accessible. Create a tag (e.g., "Finance Approved") and apply it to the entities you want to grant access to. Then create a policy with a tag-based resource filter. This approach is more maintainable than URN-based policies since you can easily add or remove entities by updating tags.'),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Can I use tags instead of domains for access control?")),(0,r.yg)("p",null,'Yes. Instead of domain filters, select "Tag" as the resource filter type. This is useful when your access boundaries align with data classification rather than organizational structure.'),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"How do I troubleshoot when a user cannot see expected results?")),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Verify the user is a member of the correct group"),(0,r.yg)("li",{parentName:"ol"},"Check that the policy is active (not disabled)"),(0,r.yg)("li",{parentName:"ol"},"Confirm the entity is assigned to the correct domain/has the correct tags"),(0,r.yg)("li",{parentName:"ol"},'Verify the policy includes the "View Entity" privilege'),(0,r.yg)("li",{parentName:"ol"},"Check that no conflicting deny policies exist"),(0,r.yg)("li",{parentName:"ol"},"Remember that platform admins see all entities regardless of policies")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Do Search Access Controls affect the GraphQL API?")),(0,r.yg)("p",null,"Yes. The same filtering applies to programmatic access via the GraphQL API. Users will only receive entities they have permission to view."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Can I create a policy that denies access instead of granting it?")),(0,r.yg)("p",null,'DataHub policies are grant-based. To deny access, you must remove the grant. Note that you also need to disable or remove the default read access policies that grant "View Entity" to all users (see Step 3 above). Once the default policies are removed and Search Access Controls are enabled, users have no access until explicitly granted.'))}m.isMDXComponent=!0}}]);