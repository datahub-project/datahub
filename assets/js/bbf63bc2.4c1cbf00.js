"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[75003],{7653:(e,t,a)=>{a.d(t,{A:()=>n});const n={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"}},4732:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(89379),o=a(96540),r=a(7653),i=a(89990),s=function(e,t){return o.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:r.A}))};const l=o.forwardRef(s)},15680:(e,t,a)=>{a.d(t,{xA:()=>u,yg:()=>d});var n=a(96540);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),g=c(a),p=o,d=g["".concat(l,".").concat(p)]||g[p]||m[p]||r;return a?n.createElement(d,i(i({ref:t},u),{},{components:a})):n.createElement(d,i({ref:t},u))}));function d(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[g]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},43655:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(96540),o=a(20053);const r="availabilityCard_P5od",i="managedIcon_AxXO",s="platform_wqXv",l="platformAvailable_Y8lN";var c=a(4732),u=a(89379);const g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var m=a(89990),p=function(e,t){return n.createElement(m.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:g}))};const d=n.forwardRef(p);const y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var f=function(e,t){return n.createElement(m.A,(0,u.A)((0,u.A)({},e),{},{ref:t,icon:y}))};const b=n.forwardRef(f),h=({saasOnly:e,ossOnly:t})=>n.createElement("div",{className:(0,o.A)(r,"card")},n.createElement("strong",null,"Feature Availability"),n.createElement("div",null,n.createElement("span",{className:(0,o.A)(s,!e&&l)},"Self-Hosted DataHub ",e?n.createElement(c.A,null):n.createElement(d,null))),n.createElement("div",null,n.createElement(b,{className:i}),n.createElement("span",{className:(0,o.A)(s,!t&&l)},"DataHub Cloud ",t?n.createElement(c.A,null):n.createElement(d,null))))},58947:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>g,contentTitle:()=>c,default:()=>y,frontMatter:()=>l,metadata:()=>u,toc:()=>m});a(96540);var n=a(15680),o=a(43655);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})),e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}const l={title:"Snowflake Tag Propagation Automation",slug:"/automations/snowflake-tag-propagation",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/snowflake-tag-propagation.md"},c="Snowflake Tag Propagation Automation",u={unversionedId:"docs/automations/snowflake-tag-propagation",id:"docs/automations/snowflake-tag-propagation",title:"Snowflake Tag Propagation Automation",description:"This feature is currently in open beta in DataHub Cloud. Reach out to your DataHub Cloud representative to get access.",source:"@site/genDocs/docs/automations/snowflake-tag-propagation.md",sourceDirName:"docs/automations",slug:"/automations/snowflake-tag-propagation",permalink:"/docs/automations/snowflake-tag-propagation",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/automations/snowflake-tag-propagation.md",tags:[],version:"current",frontMatter:{title:"Snowflake Tag Propagation Automation",slug:"/automations/snowflake-tag-propagation",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/automations/snowflake-tag-propagation.md"},sidebar:"overviewSidebar",previous:{title:"Databricks Metadata Sync Automation",permalink:"/docs/automations/databricks-metadata-sync"},next:{title:"AI Glossary Term Suggestions",permalink:"/docs/automations/ai-term-suggestion"}},g={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Capabilities",id:"capabilities",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Permissions Required for Tag Management",id:"permissions-required-for-tag-management",level:3},{value:"Permissions Required for Object Access",id:"permissions-required-for-object-access",level:3},{value:"Example Permission Grant Statements",id:"example-permission-grant-statements",level:3},{value:"Enabling Snowflake Tag Sync",id:"enabling-snowflake-tag-sync",level:2},{value:"Propagating for Existing Assets",id:"propagating-for-existing-assets",level:2},{value:"Viewing Propagated Tags",id:"viewing-propagated-tags",level:2}],p={toc:m},d="wrapper";function y(e){var{components:t}=e,a=s(e,["components"]);return(0,n.yg)(d,i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){r(e,t,a[t])}))}return e}({},p,a),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"snowflake-tag-propagation-automation"},"Snowflake Tag Propagation Automation"),(0,n.yg)(o.A,{saasOnly:!0,mdxType:"FeatureAvailability"}),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"This feature is currently in open beta in DataHub Cloud. Reach out to your DataHub Cloud representative to get access.")),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"Snowflake Tag Propagation is an automation that allows you to sync DataHub Glossary Terms and Tags on\nboth columns and tables back to Snowflake. This automation is available in DataHub Cloud only."),(0,n.yg)("h2",{id:"capabilities"},"Capabilities"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Automatically Add DataHub Glossary Terms to Snowflake Tables and Columns"),(0,n.yg)("li",{parentName:"ul"},"Automatically Add DataHub Tags to Snowflake Tables and Columns"),(0,n.yg)("li",{parentName:"ul"},"Automatically Remove DataHub Glossary Terms and Tags from Snowflake Tables and Columns when they are removed in DataHub")),(0,n.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.yg)("h3",{id:"permissions-required-for-tag-management"},"Permissions Required for Tag Management"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"CREATE TAG"),": Required to create new tags in Snowflake.\nEnsure the user or role has this privilege on the specific schema or database where tags will be created."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"APPLY TAG"),": Required to assign tags to Snowflake objects such as tables, columns, or other database objects.\nThis permission must be granted at the database, schema, or object level depending on the scope.")),(0,n.yg)("h3",{id:"permissions-required-for-object-access"},"Permissions Required for Object Access"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"USAGE")," on the database and schema: Allows access to the database and schema to view and apply changes."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"SELECT")," on the objects (tables, views, etc.): Enables the automation to read metadata and verify existing tags.")),(0,n.yg)("h3",{id:"example-permission-grant-statements"},"Example Permission Grant Statements"),(0,n.yg)("p",null,"To grant the necessary permissions for a specific role (DATAHUB_AUTOMATION_ROLE), you can use the following SQL commands:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sql"},"-- Tag management permissions\nGRANT CREATE TAG ON SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\nGRANT APPLY TAG ON SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\n\n-- Object access for metadata operations\nGRANT USAGE ON DATABASE your_database TO ROLE DATAHUB_AUTOMATION_ROLE;\nGRANT USAGE ON SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\nGRANT SELECT ON ALL TABLES IN SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\n\n-- Future privileges for tagging\nGRANT SELECT ON FUTURE TABLES IN SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\nGRANT APPLY TAG ON FUTURE TABLES IN SCHEMA your_database.your_schema TO ROLE DATAHUB_AUTOMATION_ROLE;\n")),(0,n.yg)("h2",{id:"enabling-snowflake-tag-sync"},"Enabling Snowflake Tag Sync"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Navigate to Automations"),": Click on 'Govern' > 'Automations' in the navigation bar.")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automations-nav-link.png"})),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Create An Automation"),": Click on 'Create' and select 'Snowflake Tag Propagation'.")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"60%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/snowflake-tag-propagation/automation-type.png"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Configure Automation"),": Fill in the required fields to connect to Snowflake, along with the name, description, and category.\nNote that you can limit propagation based on specific Tags and Glossary Terms. If none are selected, then ALL Tags or Glossary Terms will be automatically\npropagated to Snowflake tables and columns. Finally, click 'Save and Run' to start the automation")),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"60%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/snowflake-tag-propagation/automation-form.png"})),(0,n.yg)("h2",{id:"propagating-for-existing-assets"},"Propagating for Existing Assets"),(0,n.yg)("p",null,"You can back-fill historical data for existing assets to ensure that all current column and table Glossary Terms are propagated to Snowflake.\nNote that it may take some time to complete the initial back-filling process, depending on the number of Snowflake assets you have."),(0,n.yg)("p",null,'To do so, navigate to the Automation you created in Step 3 above, click the 3-dot "More" menu'),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-more-menu.png"})),(0,n.yg)("p",null,'and then click "Initialize".'),(0,n.yg)("p",{align:"left"},(0,n.yg)("img",{width:"20%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/automation-initialize.png"})),(0,n.yg)("p",null,"This one-time step will kick off the back-filling process for existing terms. If you only want to begin propagating\nterms going forward, you can skip this step."),(0,n.yg)("admonition",{type:"info"},(0,n.yg)("p",{parentName:"admonition"},"The back-filling of tags will be available in a future release.")),(0,n.yg)("h2",{id:"viewing-propagated-tags"},"Viewing Propagated Tags"),(0,n.yg)("p",null,"You can view propagated Tags (and corresponding DataHub URNs) inside the Snowflake UI to confirm the automation is working as expected."),(0,n.yg)("p",{align:"center"},(0,n.yg)("img",{width:"70%",src:"https://raw.githubusercontent.com/datahub-project/static-assets/main/imgs/automation/saas/snowflake-tag-propagation/view-snowflake-tags.png"})))}y.isMDXComponent=!0}}]);