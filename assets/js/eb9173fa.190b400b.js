"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[82465],{99095:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>s,default:()=>h,frontMatter:()=>u,metadata:()=>c,toc:()=>p});n(96540);var a=n(15680),l=n(53720),o=n(5400);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const u={title:"Document",slug:"/api/tutorials/documents",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/documents.md"},s="Document",c={unversionedId:"docs/api/tutorials/documents",id:"docs/api/tutorials/documents",title:"Document",description:"Why Would You Use Documents?",source:"@site/genDocs/docs/api/tutorials/documents.md",sourceDirName:"docs/api/tutorials",slug:"/api/tutorials/documents",permalink:"/docs/api/tutorials/documents",draft:!1,editUrl:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/documents.md",tags:[],version:"current",frontMatter:{title:"Document",slug:"/api/tutorials/documents",custom_edit_url:"https://github.com/datahub-project/datahub/blob/master/docs/api/tutorials/documents.md"},sidebar:"overviewSidebar",previous:{title:"Dataset",permalink:"/docs/api/tutorials/datasets"},next:{title:"Deprecation",permalink:"/docs/api/tutorials/deprecation"}},m={},p=[{value:"Why Would You Use Documents?",id:"why-would-you-use-documents",level:2},{value:"Types of Documents",id:"types-of-documents",level:3},{value:"Document Visibility",id:"document-visibility",level:3},{value:"Goal Of This Guide",id:"goal-of-this-guide",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Create Document",id:"create-document",level:2},{value:"Native Document",id:"native-document",level:3},{value:"External Document",id:"external-document",level:3},{value:"Document Hidden from Global Context",id:"document-hidden-from-global-context",level:3},{value:"Document with Full Metadata",id:"document-with-full-metadata",level:3},{value:"Update Document",id:"update-document",level:2},{value:"Search Documents",id:"search-documents",level:2},{value:"Get Document",id:"get-document",level:2},{value:"Publish/Unpublish Document",id:"publishunpublish-document",level:2},{value:"Delete Document",id:"delete-document",level:2},{value:"Advanced Operations",id:"advanced-operations",level:2},{value:"Link Related Assets",id:"link-related-assets",level:3},{value:"Update Document Sub-Type",id:"update-document-sub-type",level:3},{value:"Move Document",id:"move-document",level:3},{value:"Python SDK Reference",id:"python-sdk-reference",level:2},{value:"Creation Methods",id:"creation-methods",level:3},{value:"Content &amp; Metadata",id:"content--metadata",level:3},{value:"Visibility &amp; Lifecycle",id:"visibility--lifecycle",level:3},{value:"Relationships",id:"relationships",level:3},{value:"Source Information",id:"source-information",level:3},{value:"Metadata (via mixins)",id:"metadata-via-mixins",level:3}],g={toc:p},y="wrapper";function h(e){var{components:t}=e,n=d(e,["components"]);return(0,a.yg)(y,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){i(e,t,n[t])}))}return e}({},g,n),{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"document"},"Document"),(0,a.yg)("h2",{id:"why-would-you-use-documents"},"Why Would You Use Documents?"),(0,a.yg)("p",null,"Documents in DataHub are content-indexed resources that can store knowledge, documentation, FAQs, tutorials, and other textual content. They provide a centralized place to manage and search through organizational knowledge, making them accessible to both humans and AI systems."),(0,a.yg)("p",null,"Documents support rich metadata including:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Searchable content")," with full-text search capabilities"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Categorization")," via types, domains, and owners"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Visibility control")," to show/hide documents in global search and navigation"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Relationships")," to data assets (datasets, dashboards, charts, etc.)"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Hierarchical organization")," through parent-child relationships")),(0,a.yg)("h3",{id:"types-of-documents"},"Types of Documents"),(0,a.yg)("p",null,"DataHub supports two types of documents:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},"Native Documents"),": Created and stored directly in DataHub. Full content is indexed and searchable. Use ",(0,a.yg)("inlineCode",{parentName:"p"},"Document.create_document()")," to create these.")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},"External Documents"),": References to documents stored in external systems (Notion, Confluence, Google Docs, etc.). These link to the original content via URL. Use ",(0,a.yg)("inlineCode",{parentName:"p"},"Document.create_external_document()")," to create these."))),(0,a.yg)("h3",{id:"document-visibility"},"Document Visibility"),(0,a.yg)("p",null,"Documents can be configured to:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Show in global context")," (default): Appear in global search results and the knowledge base sidebar"),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("strong",{parentName:"li"},"Hide from global context"),": Only accessible through related assets. This is useful for:",(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},"Documentation specific to a single dataset"),(0,a.yg)("li",{parentName:"ul"},"Context documents for AI agents"),(0,a.yg)("li",{parentName:"ul"},"Private notes attached to assets")))),(0,a.yg)("h3",{id:"goal-of-this-guide"},"Goal Of This Guide"),(0,a.yg)("p",null,"This guide will show you how to:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Create native and external documents"),(0,a.yg)("li",{parentName:"ul"},"Control document visibility"),(0,a.yg)("li",{parentName:"ul"},"Link documents to data assets"),(0,a.yg)("li",{parentName:"ul"},"Update document contents and metadata"),(0,a.yg)("li",{parentName:"ul"},"Publish and unpublish documents"),(0,a.yg)("li",{parentName:"ul"},"Delete documents")),(0,a.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,a.yg)("p",null,"For this tutorial, you need to deploy DataHub Quickstart and ingest sample data.\nFor detailed steps, please refer to ",(0,a.yg)("a",{parentName:"p",href:"/docs/quickstart"},"Datahub Quickstart Guide"),"."),(0,a.yg)("h2",{id:"create-document"},"Create Document"),(0,a.yg)("h3",{id:"native-document"},"Native Document"),(0,a.yg)("p",null,"Native documents are stored directly in DataHub with full content indexing."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation createDocument {\n  createDocument(\n    input: {\n      id: "my-tutorial-doc"\n      contents: {\n        text: "# Getting Started with DataHub\\n\\nThis tutorial will help you get started..."\n      }\n      title: "DataHub Tutorial"\n      subType: "Tutorial"\n      state: PUBLISHED\n    }\n  )\n}\n')),(0,a.yg)("p",null,"If you see the following response, the operation was successful:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "createDocument": "urn:li:document:my-tutorial-doc"\n  },\n  "extensions": {}\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\n# Create a native document\ndoc = Document.create_document(\n    id="getting-started-tutorial",\n    title="Getting Started with DataHub",\n    text="# Getting Started with DataHub\\n\\nThis tutorial will help you get started...",\n    subtype="Tutorial",\n)\n\nclient.entities.upsert(doc)\nprint(f"Created document: {doc.urn}")\n')))),(0,a.yg)("h3",{id:"external-document"},"External Document"),(0,a.yg)("p",null,"External documents reference content stored in other platforms like Notion or Confluence."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation createExternalDocument {\n  createDocument(\n    input: {\n      id: "notion-handbook"\n      contents: { text: "Summary for search indexing..." }\n      title: "Engineering Handbook"\n      subType: "Reference"\n      state: PUBLISHED\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\n# Create an external document (from Notion)\ndoc = Document.create_external_document(\n    id="notion-engineering-handbook",\n    title="Engineering Handbook",\n    platform="urn:li:dataPlatform:notion",\n    external_url="https://notion.so/team/engineering-handbook",\n    external_id="notion-page-abc123",\n    text="Summary of the handbook for search...",  # Optional\n    owners=["urn:li:corpuser:engineering-lead"],\n)\n\nclient.entities.upsert(doc)\nprint(f"Created external document: {doc.urn}")\n')))),(0,a.yg)("h3",{id:"document-hidden-from-global-context"},"Document Hidden from Global Context"),(0,a.yg)("p",null,"Documents can be hidden from global search and sidebar navigation. They remain accessible through related assets - useful for AI agent context or asset-specific documentation."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation createHiddenDocument {\n  createDocument(\n    input: {\n      id: "dataset-context-doc"\n      contents: { text: "Context about the orders dataset for AI agents..." }\n      title: "Orders Dataset Context"\n      settings: { showInGlobalContext: false }\n      relatedAssets: [\n        "urn:li:dataset:(urn:li:dataPlatform:snowflake,orders,PROD)"\n      ]\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\n# Create a document hidden from global context\n# Only accessible via the related asset - useful for AI agents\ndoc = Document.create_document(\n    id="orders-dataset-context",\n    title="Orders Dataset Context",\n    text="# Context for AI Agents\\n\\nThe orders dataset contains daily summaries...",\n    show_in_global_context=False,  # Hidden from global search/sidebar\n    related_assets=["urn:li:dataset:(urn:li:dataPlatform:snowflake,orders,PROD)"],\n)\n\nclient.entities.upsert(doc)\nprint(f"Created AI-only context document: {doc.urn}")\n')))),(0,a.yg)("h3",{id:"document-with-full-metadata"},"Document with Full Metadata"),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation createDocumentWithMetadata {\n  createDocument(\n    input: {\n      id: "faq-data-quality"\n      contents: {\n        text: "# Data Quality FAQ\\n\\n## Q: How do we measure data quality?\\n\\nA: We use..."\n      }\n      title: "Data Quality FAQ"\n      subType: "FAQ"\n      state: PUBLISHED\n      relatedAssets: [\n        "urn:li:dataset:(urn:li:dataPlatform:snowflake,my_table,PROD)"\n      ]\n      owners: [{ owner: "urn:li:corpuser:john", type: TECHNICAL_OWNER }]\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\ndoc = Document.create_document(\n    id="faq-data-quality",\n    title="Data Quality FAQ",\n    text="# Data Quality FAQ\\n\\n## Q: How do we measure data quality?\\n\\nA: We use...",\n    subtype="FAQ",\n    related_assets=["urn:li:dataset:(urn:li:dataPlatform:snowflake,my_table,PROD)"],\n    owners=["urn:li:corpuser:john"],\n    domain="urn:li:domain:engineering",\n    tags=["urn:li:tag:important"],\n    custom_properties={"team": "data-platform", "version": "1.0"},\n)\n\nclient.entities.upsert(doc)\nprint(f"Created document with metadata: {doc.urn}")\n')))),(0,a.yg)("h2",{id:"update-document"},"Update Document"),(0,a.yg)("p",null,"Update the contents, title, or visibility of an existing document."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation updateDocumentContents {\n  updateDocumentContents(\n    input: {\n      urn: "urn:li:document:my-tutorial-doc"\n      contents: {\n        text: "# Updated Getting Started Guide\\n\\nThis is the updated content..."\n      }\n    }\n  )\n}\n')),(0,a.yg)("p",null,"Update the title:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation updateDocumentTitle {\n  updateDocumentContents(\n    input: {\n      urn: "urn:li:document:my-tutorial-doc"\n      title: "Updated Tutorial Title"\n    }\n  )\n}\n')),(0,a.yg)("p",null,"Update visibility settings:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation updateDocumentSettings {\n  updateDocumentSettings(\n    input: {\n      urn: "urn:li:document:my-tutorial-doc"\n      showInGlobalContext: false\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'# Inlined from /metadata-ingestion/examples/library/update_document.py\n# Inlined from metadata-ingestion/examples/library/update_document.py\n"""Example: Updating documents using the DataHub SDK.\n\nThis example demonstrates how to retrieve, modify, and update documents.\n"""\n\nfrom datahub.metadata.urns import DocumentUrn\nfrom datahub.sdk import DataHubClient\n\n# Initialize the client\nclient = DataHubClient.from_env()\n\n# ============================================================================\n# Example 1: Retrieve and update a document\'s content\n# ============================================================================\n# First, get the existing document from DataHub\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Update the text content\n    doc.set_text("# Updated Getting Started Guide\\n\\nThis is the updated content...")\n\n    # Save changes\n    client.entities.upsert(doc)\n    print("Document contents updated!")\n\n# ============================================================================\n# Example 2: Update document title\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    doc.set_title("Updated Tutorial Title")\n    client.entities.upsert(doc)\n    print("Document title updated!")\n\n# ============================================================================\n# Example 3: Update both contents and title with method chaining\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Method chaining for multiple updates\n    doc.set_text("# Comprehensive Guide\\n\\nFully updated content...").set_title(\n        "Comprehensive DataHub Guide"\n    )\n    client.entities.upsert(doc)\n    print("Document fully updated!")\n\n# ============================================================================\n# Example 4: Update document visibility (global context)\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Hide document from global search and sidebar\n    # Useful for making documents only accessible via related assets (e.g., for AI agents)\n    doc.hide_from_global_context()\n    client.entities.upsert(doc)\n    print("Document hidden from global context!")\n\n    # Later, show it again in global search/sidebar\n    doc.show_in_global_search()\n    client.entities.upsert(doc)\n    print("Document visible in global context again!")\n\n# ============================================================================\n# Example 5: Update related assets and documents\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Add related assets - the document becomes accessible from these assets\n    doc.add_related_asset("urn:li:dataset:(urn:li:dataPlatform:snowflake,users,PROD)")\n    doc.add_related_asset("urn:li:dataset:(urn:li:dataPlatform:snowflake,orders,PROD)")\n\n    # Add a related document\n    doc.add_related_document("urn:li:document:related-guide")\n\n    client.entities.upsert(doc)\n    print("Related entities updated!")\n\n# ============================================================================\n# Example 6: Move a document to a different parent\n# ============================================================================\n# Documents can be organized hierarchically. Moving a document changes its parent.\ndoc = client.entities.get(DocumentUrn("child-section"))\n\nif doc:\n    # Check current parent\n    print(f"Current parent: {doc.parent_document}")\n\n    # Move to a new parent document\n    doc.set_parent_document("urn:li:document:new-parent-guide")\n    client.entities.upsert(doc)\n    print("Document moved to new parent!")\n\n    # Remove from hierarchy (make it a top-level document)\n    doc.set_parent_document(None)\n    client.entities.upsert(doc)\n    print("Document is now a top-level document!")\n\n# ============================================================================\n# Example 7: Update document status\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Publish the document\n    doc.publish()\n    client.entities.upsert(doc)\n    print("Document published!")\n\n    # Later, unpublish it\n    doc.unpublish()\n    client.entities.upsert(doc)\n    print("Document unpublished!")\n\n')))),(0,a.yg)("h2",{id:"search-documents"},"Search Documents"),(0,a.yg)("p",null,"Search through documents with various filters."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'query searchDocuments {\n  searchDocuments(\n    input: { query: "data quality", types: ["FAQ"], start: 0, count: 10 }\n  ) {\n    total\n    documents {\n      urn\n      type\n      subType\n      info {\n        title\n        status {\n          state\n        }\n        contents {\n          text\n        }\n      }\n    }\n  }\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'# Inlined from /metadata-ingestion/examples/library/search_documents.py\n# Inlined from metadata-ingestion/examples/library/search_documents.py\n"""Example: Searching documents using the DataHub SDK.\n\nThis example demonstrates how to search for documents using the DataHub SDK.\n"""\n\nfrom datahub.sdk import DataHubClient, FilterDsl\n\n# Initialize the client\nclient = DataHubClient.from_env()\n\n# ============================================================================\n# Example 1: Search for all documents\n# ============================================================================\n# Use get_urns with entity type filter to find documents\ndocument_urns = client.search.get_urns(\n    filter=FilterDsl.entity_type("document"),\n)\n\nprint("All documents:")\nfor urn in document_urns:\n    print(f"  - {urn}")\n\n# ============================================================================\n# Example 2: Search with a text query\n# ============================================================================\n# Search for documents matching "data quality"\ndocument_urns = client.search.get_urns(\n    query="data quality",\n    filter=FilterDsl.entity_type("document"),\n)\n\nprint("\\nDocuments matching \'data quality\':")\nfor urn in document_urns:\n    print(f"  - {urn}")\n\n# ============================================================================\n# Example 3: Search within a specific domain\n# ============================================================================\ndocument_urns = client.search.get_urns(\n    filter=FilterDsl.and_(\n        FilterDsl.entity_type("document"),\n        FilterDsl.domain("urn:li:domain:engineering"),\n    ),\n)\n\nprint("\\nDocuments in engineering domain:")\nfor urn in document_urns:\n    print(f"  - {urn}")\n\n# ============================================================================\n# Example 4: Search with tags\n# ============================================================================\ndocument_urns = client.search.get_urns(\n    filter=FilterDsl.and_(\n        FilterDsl.entity_type("document"),\n        FilterDsl.tag("urn:li:tag:important"),\n    ),\n)\n\nprint("\\nDocuments with \'important\' tag:")\nfor urn in document_urns:\n    print(f"  - {urn}")\n\n')))),(0,a.yg)("h2",{id:"get-document"},"Get Document"),(0,a.yg)("p",null,"Retrieve the full contents and metadata of a specific document."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'query getDocument {\n  document(urn: "urn:li:document:my-tutorial-doc") {\n    urn\n    type\n    subType\n    info {\n      title\n      source {\n        sourceType\n        externalUrl\n        externalId\n      }\n      status {\n        state\n      }\n      contents {\n        text\n      }\n      relatedAssets {\n        asset {\n          urn\n        }\n      }\n      relatedDocuments {\n        document {\n          urn\n        }\n      }\n      parentDocument {\n        document {\n          urn\n        }\n      }\n    }\n    settings {\n      showInGlobalContext\n    }\n  }\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'# Inlined from /metadata-ingestion/examples/library/get_document.py\n# Inlined from metadata-ingestion/examples/library/get_document.py\n"""Example: Retrieving documents using the DataHub SDK.\n\nThis example demonstrates how to get documents and access their properties.\n"""\n\nfrom datahub.metadata.urns import DocumentUrn\nfrom datahub.sdk import DataHubClient\n\n# Initialize the client\nclient = DataHubClient.from_env()\n\n# ============================================================================\n# Example 1: Get a document by URN\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    print(f"Document: {doc.title}")\n    print(f"URN: {doc.urn}")\n    print(f"Status: {doc.status}")\n    print(f"Subtype: {doc.subtype}")\n    print(f"\\nContents:\\n{doc.text}")\n\n    # Check document type (native vs external)\n    if doc.is_native:\n        print("\\nThis is a native document (stored in DataHub)")\n    elif doc.is_external:\n        print("\\nThis is an external document")\n        print(f"  External URL: {doc.external_url}")\n        print(f"  External ID: {doc.external_id}")\n\n    # Check visibility\n    if doc.show_in_global_context:\n        print("Visible in global search and sidebar")\n    else:\n        print("Hidden from global context (accessible only via related assets)")\n\n    # Check related entities\n    if doc.related_assets:\n        print(f"\\nRelated assets: {len(doc.related_assets)}")\n        for asset in doc.related_assets:\n            print(f"  - {asset}")\n\n    if doc.related_documents:\n        print(f"\\nRelated documents: {len(doc.related_documents)}")\n        for related_doc in doc.related_documents:\n            print(f"  - {related_doc}")\n\n    # Check parent document\n    if doc.parent_document:\n        print(f"\\nParent document: {doc.parent_document}")\n\n    # Get custom properties\n    if doc.custom_properties:\n        print("\\nCustom properties:")\n        for key, value in doc.custom_properties.items():\n            print(f"  {key}: {value}")\nelse:\n    print("Document not found")\n\n# ============================================================================\n# Example 2: Check if a document exists\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("might-not-exist"))\n\nif doc is not None:\n    print(f"\\nDocument exists: {doc.urn}")\nelse:\n    print("\\nDocument does not exist")\n\n')))),(0,a.yg)("h2",{id:"publishunpublish-document"},"Publish/Unpublish Document"),(0,a.yg)("p",null,"Control whether a document is visible to users."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("p",null,"Publish a document:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation publishDocument {\n  updateDocumentStatus(\n    input: { urn: "urn:li:document:my-tutorial-doc", state: PUBLISHED }\n  )\n}\n')),(0,a.yg)("p",null,"Unpublish a document:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation unpublishDocument {\n  updateDocumentStatus(\n    input: { urn: "urn:li:document:my-tutorial-doc", state: UNPUBLISHED }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'# Inlined from /metadata-ingestion/examples/library/publish_document.py\n# Inlined from metadata-ingestion/examples/library/publish_document.py\n"""Example: Publishing and unpublishing documents using the DataHub SDK.\n\nThis example demonstrates how to control document visibility by\npublishing or unpublishing documents.\n"""\n\nfrom datahub.metadata.urns import DocumentUrn\nfrom datahub.sdk import DataHubClient, Document\n\n# Initialize the client\nclient = DataHubClient.from_env()\n\n# ============================================================================\n# Example 1: Publish a document\n# ============================================================================\n# Get the document\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Publish makes the document visible to users\n    doc.publish()\n    client.entities.upsert(doc)\n    print(f"Document published! Status: {doc.status}")\n\n# ============================================================================\n# Example 2: Unpublish a document\n# ============================================================================\ndoc = client.entities.get(DocumentUrn("my-tutorial-doc"))\n\nif doc:\n    # Unpublish hides the document from general users\n    doc.unpublish()\n    client.entities.upsert(doc)\n    print(f"Document unpublished! Status: {doc.status}")\n\n# ============================================================================\n# Example 3: Create a document with specific status\n# ============================================================================\n# Create as published (default)\npublished_doc = Document.create_document(\n    id="new-published-doc",\n    title="New Published Document",\n    text="This document is published from the start.",\n)\nclient.entities.upsert(published_doc)\nprint(f"Created published document: {published_doc.urn}")\n\n# Create as unpublished (work in progress)\nunpublished_doc = Document.create_document(\n    id="new-unpublished-doc",\n    title="Work in Progress Document",\n    text="This document is not yet published.",\n    status="UNPUBLISHED",\n)\nclient.entities.upsert(unpublished_doc)\nprint(f"Created unpublished document: {unpublished_doc.urn}")\n\n')))),(0,a.yg)("h2",{id:"delete-document"},"Delete Document"),(0,a.yg)("p",null,"Remove a document from DataHub."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation deleteDocument {\n  deleteDocument(urn: "urn:li:document:my-tutorial-doc")\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'# Inlined from /metadata-ingestion/examples/library/delete_document.py\n# Inlined from metadata-ingestion/examples/library/delete_document.py\n"""Example: Deleting documents using the DataHub SDK.\n\nThis example demonstrates how to delete documents from DataHub.\n"""\n\nfrom datahub.metadata.urns import DocumentUrn\nfrom datahub.sdk import DataHubClient\n\n# Initialize the client\nclient = DataHubClient.from_env()\n\n# ============================================================================\n# Example 1: Delete a document by URN\n# ============================================================================\ndoc_urn = DocumentUrn("my-tutorial-doc")\n\n# First check if it exists\ndoc = client.entities.get(doc_urn)\n\nif doc:\n    # Delete the document\n    client.entities.delete(str(doc_urn))\n    print(f"Document deleted: {doc_urn}")\nelse:\n    print(f"Document not found: {doc_urn}")\n\n# ============================================================================\n# Example 2: Delete multiple documents\n# ============================================================================\ndoc_ids_to_delete = [\n    "doc-1",\n    "doc-2",\n    "doc-3",\n]\n\nfor doc_id in doc_ids_to_delete:\n    doc_urn = DocumentUrn(doc_id)\n    doc = client.entities.get(doc_urn)\n    if doc:\n        client.entities.delete(str(doc_urn))\n        print(f"Deleted: {doc_urn}")\n    else:\n        print(f"Not found (skipping): {doc_urn}")\n\nprint("Cleanup complete!")\n\n')))),(0,a.yg)("h2",{id:"advanced-operations"},"Advanced Operations"),(0,a.yg)("h3",{id:"link-related-assets"},"Link Related Assets"),(0,a.yg)("p",null,"Associate a document with data assets. Documents linked to assets can be accessed from those assets even when hidden from global context."),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation updateRelatedEntities {\n  updateDocumentRelatedEntities(\n    input: {\n      urn: "urn:li:document:my-doc"\n      relatedAssets: [\n        "urn:li:dataset:(urn:li:dataPlatform:snowflake,my_table,PROD)"\n        "urn:li:dashboard:(looker,dashboard1)"\n      ]\n      relatedDocuments: ["urn:li:document:related-doc"]\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\ndoc = client.entities.get("urn:li:document:my-doc", Document)\nif doc:\n    # Add related assets\n    doc.add_related_asset("urn:li:dataset:(urn:li:dataPlatform:snowflake,my_table,PROD)")\n    doc.add_related_asset("urn:li:dashboard:(looker,dashboard1)")\n\n    # Add related documents\n    doc.add_related_document("urn:li:document:related-doc")\n\n    client.entities.upsert(doc)\n    print("Related entities updated!")\n')))),(0,a.yg)("h3",{id:"update-document-sub-type"},"Update Document Sub-Type"),(0,a.yg)("p",null,'Change the sub-type (e.g., "FAQ", "Tutorial", "Runbook") of a document:'),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation updateDocumentSubType {\n  updateDocumentSubType(\n    input: { urn: "urn:li:document:my-doc", subType: "Reference" }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\ndoc = client.entities.get("urn:li:document:my-doc", Document)\nif doc:\n    doc.set_subtype("Reference")\n    client.entities.upsert(doc)\n    print(f"Sub-type updated: {doc.subtype}")\n')))),(0,a.yg)("h3",{id:"move-document"},"Move Document"),(0,a.yg)("p",null,"Move a document to a different parent (for hierarchical organization):"),(0,a.yg)(l.A,{mdxType:"Tabs"},(0,a.yg)(o.A,{value:"graphql",label:"GraphQL",mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-graphql"},'mutation moveDocument {\n  moveDocument(\n    input: {\n      urn: "urn:li:document:child-doc"\n      newParent: "urn:li:document:new-parent"\n    }\n  )\n}\n'))),(0,a.yg)(o.A,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},'from datahub.sdk import DataHubClient, Document\n\nclient = DataHubClient.from_env()\n\ndoc = client.entities.get("urn:li:document:child-doc", Document)\nif doc:\n    # Move to a new parent\n    doc.set_parent_document("urn:li:document:new-parent")\n    client.entities.upsert(doc)\n    print(f"Document moved! New parent: {doc.parent_document}")\n\n    # Or make it a top-level document (no parent)\n    doc.set_parent_document(None)\n    client.entities.upsert(doc)\n    print("Document is now a top-level document!")\n')))),(0,a.yg)("h2",{id:"python-sdk-reference"},"Python SDK Reference"),(0,a.yg)("p",null,"The Document SDK provides the following methods:"),(0,a.yg)("h3",{id:"creation-methods"},"Creation Methods"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"Document.create_document(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Create a native document stored in DataHub")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"Document.create_external_document(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Create a reference to an external document")))),(0,a.yg)("h3",{id:"content--metadata"},"Content & Metadata"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.title")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_title(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Get/set the document title")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.text")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_text(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Get/set the document text content")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.subtype")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_subtype(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Get/set the sub-type (FAQ, Tutorial, etc.)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.custom_properties")),(0,a.yg)("td",{parentName:"tr",align:null},"Get the custom properties dictionary")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_custom_property(key, value)")),(0,a.yg)("td",{parentName:"tr",align:null},"Set a single custom property")))),(0,a.yg)("h3",{id:"visibility--lifecycle"},"Visibility & Lifecycle"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.status")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_status(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Get/set PUBLISHED or UNPUBLISHED status")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.publish()")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.unpublish()")),(0,a.yg)("td",{parentName:"tr",align:null},"Publish or unpublish the document")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.show_in_global_context")),(0,a.yg)("td",{parentName:"tr",align:null},"Check if visible in global search/sidebar")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.hide_from_global_context()")),(0,a.yg)("td",{parentName:"tr",align:null},"Hide from global context (AI-only access)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.show_in_global_search()")),(0,a.yg)("td",{parentName:"tr",align:null},"Show in global context")))),(0,a.yg)("h3",{id:"relationships"},"Relationships"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.related_assets")),(0,a.yg)("td",{parentName:"tr",align:null},"Get list of related asset URNs")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.add_related_asset(...)")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.remove_related_asset(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Add/remove a related asset")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.related_documents")),(0,a.yg)("td",{parentName:"tr",align:null},"Get list of related document URNs")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.add_related_document(...)")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.remove_related_document(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Add/remove a related document")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.parent_document")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_parent_document(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Get/set parent for hierarchy")))),(0,a.yg)("h3",{id:"source-information"},"Source Information"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.is_native")),(0,a.yg)("td",{parentName:"tr",align:null},"Check if this is a native DataHub document")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.is_external")),(0,a.yg)("td",{parentName:"tr",align:null},"Check if this is an external reference")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.external_url")),(0,a.yg)("td",{parentName:"tr",align:null},"Get the external URL (external docs only)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.external_id")),(0,a.yg)("td",{parentName:"tr",align:null},"Get the external system ID")))),(0,a.yg)("h3",{id:"metadata-via-mixins"},"Metadata (via mixins)"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Method"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.add_tag(...)")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_tags(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Add tags")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.add_owner(...)")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_owners(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Add owners")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_domain(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Set the domain")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"doc.add_term(...)")," / ",(0,a.yg)("inlineCode",{parentName:"td"},"doc.set_terms(...)")),(0,a.yg)("td",{parentName:"tr",align:null},"Add glossary terms")))),(0,a.yg)("p",null,"For more examples, see:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://github.com/datahub-project/datahub/blob/master/metadata-ingestion/examples/library/"},"Python SDK Examples"))))}h.isMDXComponent=!0}}]);