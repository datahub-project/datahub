fragment PageTemplate on DataHubPageTemplate {
    urn
    type
    properties {
        rows {
            ...PageTemplateRow
        }
        surface {
            surfaceType
        }
        visibility {
            scope
        }
        created {
            time
        }
        lastModified {
            time
        }
    }
}

fragment PageTemplateRow on DataHubPageTemplateRow {
    modules {
        ...PageModule
    }
}

fragment PageModule on DataHubPageModule {
    urn
    type
    properties {
        name
        type
        visibility {
            scope
        }
        params {
            richTextParams {
                content
            }
        }
    }
}

mutation upsertPageTemplate($input: UpsertPageTemplateInput!) {
    upsertPageTemplate(input: $input) {
        urn
    }
}

mutation upsertPageModule($input: UpsertPageModuleInput!) {
    upsertPageModule(input: $input) {
        urn
    }
}
