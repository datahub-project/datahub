# SPDX-License-Identifier: Apache-2.0
#
# This file is unmodified from its original version developed by Acryl Data, Inc.,
# and is now included as part of a repository maintained by the National Digital Twin Programme.
# All support, maintenance and further development of this code is now the responsibility
# of the National Digital Twin Programme.

query getRootGlossaryTerms {
    getRootGlossaryTerms(input: { start: 0, count: 1000 }) {
        count
        start
        total
        terms {
            ...childGlossaryTerm
        }
    }
}

query getRootGlossaryNodes {
    getRootGlossaryNodes(input: { start: 0, count: 1000 }) {
        count
        start
        total
        nodes {
            ...rootGlossaryNodeWithFourLayers
        }
    }
}

query getRelatedTerms($urn: String!) {
    glossaryTerm(urn: $urn) {
        urn
        type
        exists
        name
        hierarchicalName
        isRelatedTerms: relationships(input: { types: ["IsA"], direction: OUTGOING, start: 0, count: 10 }) {
            start
            count
            total
            relationships {
                entity {
                    ...autoCompleteFields
                }
            }
        }
        hasRelatedTerms: relationships(input: { types: ["HasA"], direction: OUTGOING, start: 0, count: 10 }) {
            start
            count
            total
            relationships {
                entity {
                    ...autoCompleteFields
                }
            }
        }
        isAChildren: relationships(input: { types: ["IsA"], direction: INCOMING, start: 0, count: 10 }) {
            start
            count
            total
            relationships {
                entity {
                    ...autoCompleteFields
                }
            }
        }
        containedBy: relationships(input: { types: ["HasA"], direction: INCOMING, start: 0, count: 10 }) {
            start
            count
            total
            relationships {
                entity {
                    ...autoCompleteFields
                }
            }
        }
    }
}

mutation updateParentNode($input: UpdateParentNodeInput!) {
    updateParentNode(input: $input)
}

mutation deleteGlossaryEntity($urn: String!) {
    deleteGlossaryEntity(urn: $urn)
}
