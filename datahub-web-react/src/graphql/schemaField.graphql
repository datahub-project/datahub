# SPDX-License-Identifier: Apache-2.0
#
# This file is unmodified from its original version developed by Acryl Data, Inc.,
# and is now included as part of a repository maintained by the National Digital Twin Programme.
# All support, maintenance and further development of this code is now the responsibility
# of the National Digital Twin Programme.

query getSchemaField($urn: String!) {
    entity(urn: $urn) {
        urn
        type
        ... on SchemaFieldEntity {
            ...schemaFieldEntityFields
        }
    }
}

fragment schemaFieldEntityFields on SchemaFieldEntity {
    urn
    fieldPath
    type
    structuredProperties {
        properties {
            ...structuredPropertiesFields
        }
    }
    businessAttributes {
        businessAttribute {
            ...businessAttribute
        }
    }
    documentation {
        ...documentationFields
    }
    tags {
        ...globalTagsFields
    }
    glossaryTerms {
        ...glossaryTerms
    }
    parent {
        urn
        type
        ...entityDisplayNameFields
        ... on Dataset {
            platform {
                ...platformFields
            }
            subTypes {
                typeNames
            }
            privileges {
                ...entityPrivileges
            }
        }
        ... on Dashboard {
            platform {
                ...platformFields
            }
            subTypes {
                typeNames
            }
        }
        ... on Chart {
            platform {
                ...platformFields
            }
            subTypes {
                typeNames
            }
        }
    }
    ...notes
}
