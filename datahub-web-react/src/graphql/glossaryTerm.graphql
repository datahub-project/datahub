# SPDX-License-Identifier: Apache-2.0
#
# This file is unmodified from its original version developed by Acryl Data, Inc.,
# and is now included as part of a repository maintained by the National Digital Twin Programme.
# All support, maintenance and further development of this code is now the responsibility
# of the National Digital Twin Programme.

query getGlossaryTerm($urn: String!, $start: Int, $count: Int) {
    glossaryTerm(urn: $urn) {
        urn
        type
        exists
        name
        hierarchicalName
        isRelatedTerms: relationships(input: { types: ["IsA"], direction: OUTGOING, start: $start, count: $count }) {
            start
            count
            total
            relationships {
                entity {
                    ... on GlossaryTerm {
                        urn
                    }
                }
            }
        }
        hasRelatedTerms: relationships(input: { types: ["HasA"], direction: OUTGOING, start: $start, count: $count }) {
            start
            count
            total
            relationships {
                entity {
                    ... on GlossaryTerm {
                        urn
                    }
                }
            }
        }
        isAChildren: relationships(input: { types: ["IsA"], direction: INCOMING, start: $start, count: $count }) {
            start
            count
            total
            relationships {
                entity {
                    ... on GlossaryTerm {
                        urn
                        hierarchicalName
                    }
                }
            }
        }
        containedBy: relationships(input: { types: ["HasA"], direction: INCOMING, start: $start, count: $count }) {
            start
            count
            total
            relationships {
                entity {
                    ... on GlossaryTerm {
                        urn
                    }
                }
            }
        }
        parentNodes {
            ...parentNodesFields
        }
        ownership {
            ...ownershipFields
        }
        domain {
            ...entityDomain
        }
        institutionalMemory {
            ...institutionalMemoryFields
        }
        properties {
            name
            description
            termSource
            sourceRef
            sourceUrl
            rawSchema
            customProperties {
                ...customPropertiesFields
            }
            createdOn {
                time
            }
        }
        schemaMetadata(version: 0) {
            ...schemaMetadataFields
        }
        deprecation {
            ...deprecationFields
        }
        privileges {
            ...entityPrivileges
        }
        autoRenderAspects: aspects(input: { autoRenderOnly: true }) {
            ...autoRenderAspectFields
        }
        structuredProperties {
            properties {
                ...structuredPropertiesFields
            }
        }
        forms {
            ...formsFields
        }
        ...notes
        settings {
            ...AssetSettingsFields
        }
    }
}

mutation createGlossaryTerm($input: CreateGlossaryEntityInput!) {
    createGlossaryTerm(input: $input)
}

mutation createGlossaryNode($input: CreateGlossaryEntityInput!) {
    createGlossaryNode(input: $input)
}

mutation addRelatedTerms($input: RelatedTermsInput!) {
    addRelatedTerms(input: $input)
}

mutation removeRelatedTerms($input: RelatedTermsInput!) {
    removeRelatedTerms(input: $input)
}
