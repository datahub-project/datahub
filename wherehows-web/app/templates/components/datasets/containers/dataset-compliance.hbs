{{#if getContainerDataTask.isRunning}}

  {{pendulum-ellipsis-animation}}

{{/if}}

{{#if getContainerDataTask.last.isError}}

  {{empty-state heading="An error occurred getting this dataset's compliance policy"}}

{{else}}

  {{#if complianceInfo.fromUpstream}}

    {{datasets/containers/upstream-dataset
      urn=urn
      platform=platform
    }}

  {{else}}

    {{dataset-compliance
      datasetName=datasetName
      schemaless=schemaless
      platform=platform
      complianceInfo=complianceInfo
      complianceSuggestion=complianceSuggestion
      suggestionConfidenceThreshold=suggestionConfidenceThreshold
      isNewComplianceInfo=isNewComplianceInfo
      schemaFieldNamesMappedToDataTypes=schemaFieldNamesMappedToDataTypes
      complianceDataTypes=complianceDataTypes
      notifyOnComplianceSuggestionFeedback=(action "onSuggestionsComplianceFeedback")
      notifyOnChangeSetSuggestions=(action "onSuggestionsChanged")
      notifyOnChangeSetRequiresReview=(action "onCompliancePolicyChangeSetDrift")
      onSave=(action "savePrivacyCompliancePolicy")
      onReset=(action "resetPrivacyCompliancePolicy")
      onComplianceJsonUpdate=(action "onComplianceJsonUpdate")
    }}

  {{/if}}

{{/if}}
