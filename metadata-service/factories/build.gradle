apply plugin: 'java-library'
apply from: "../../gradle/versioning/versioning.gradle"

dependencies {
 implementation project(':metadata-io')
 implementation project(':metadata-utils')
 implementation project(':metadata-service:auth-impl')
 implementation project(':metadata-service:auth-config')
 implementation project(':metadata-service:plugin')
 implementation project(':datahub-graphql-core')
 implementation project(':metadata-service:restli-servlet-impl')
 implementation project(':metadata-dao-impl:kafka-producer')
 implementation project(':ingestion-scheduler')

 implementation (externalDependency.awsGlueSchemaRegistrySerde) {
    exclude group: 'org.json', module: 'json'
  }
 implementation externalDependency.elasticSearchRest
 implementation externalDependency.httpClient
 implementation externalDependency.gson
 implementation externalDependency.hazelcast
 implementation externalDependency.hazelcastSpring
 implementation externalDependency.kafkaClients
 implementation externalDependency.kafkaAvroSerde
implementation externalDependency.lombok
 implementation externalDependency.servletApi
 implementation externalDependency.springBeans
 implementation externalDependency.springBootAutoconfigure
 implementation externalDependency.springBootStarterCache
 implementation externalDependency.springContext
 implementation externalDependency.springCore
 implementation externalDependency.springKafka
 implementation externalDependency.springWeb
  implementation externalDependency.awsPostgresIamAuth
  implementation externalDependency.awsRds

  annotationProcessor externalDependency.lombok

 implementation spec.product.pegasus.restliSpringBridge
  implementation spec.product.pegasus.restliDocgen

  testImplementation externalDependency.springBootTest

 testImplementation externalDependency.mockito
 testImplementation externalDependency.testng
 testImplementation externalDependency.hazelcastTest
  implementation externalDependency.jline
  implementation externalDependency.common
}

configurations.all{
  exclude group: "commons-io", module:"commons-io"
  exclude group: "jline", module:"jline"
}

processResources.configure {
  finalizedBy printVersionDetails // always print version details
}
