# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
# serveAsset action requires a path string
GET           /data-catalogue                                                                controllers.Application.index(path="index.html")

GET           /data-catalogue/admin                                                          controllers.Application.healthcheck()
GET           /data-catalogue/config                                                         controllers.Application.appConfig()

# Routes used exclusively by the React application.

# Authentication in React
GET           /data-catalogue/authenticate                                                   controllers.AuthenticationController.authenticate()
POST          /data-catalogue/logIn                                                          controllers.AuthenticationController.logIn()
POST          /data-catalogue/signUp                                                         controllers.AuthenticationController.signUp()
POST          /data-catalogue/resetNativeUserCredentials                                     controllers.AuthenticationController.resetNativeUserCredentials()
GET           /data-catalogue/callback/:protocol                                             controllers.SsoCallbackController.handleCallback(protocol: String)
POST          /data-catalogue/callback/:protocol                                             controllers.SsoCallbackController.handleCallback(protocol: String)
GET           /data-catalogue/logOut                                                         controllers.CentralLogoutController.executeLogout()

# Proxies API requests to the metadata service api
GET           /data-catalogue/api/*path                                                      controllers.Application.proxy(path)
POST          /data-catalogue/api/*path                                                      controllers.Application.proxy(path)
DELETE        /data-catalogue/api/*path                                                      controllers.Application.proxy(path)
PUT           /data-catalogue/api/*path                                                      controllers.Application.proxy(path)

# Proxies API requests to the metadata service api
GET           /openapi/*path                                                 controllers.Application.proxy(path)
POST          /openapi/*path                                                 controllers.Application.proxy(path)
DELETE        /openapi/*path                                                 controllers.Application.proxy(path)
PUT           /openapi/*path                                                 controllers.Application.proxy(path)

# Map static resources from the /public folder to the /assets URL path
GET           /data-catalogue/assets/*file                                                   controllers.Assets.at(path="/public", file)

# Analytics route
POST          /data-catalogue/track                                                          controllers.TrackingController.track()

# Wildcard route accepts any routes and delegates to serveAsset which in turn serves the React Bundle
GET           /data-catalogue/*path                                                          controllers.Application.index(path)
