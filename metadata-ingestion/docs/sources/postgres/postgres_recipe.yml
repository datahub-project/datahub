source:
  type: postgres
  config:
    # Coordinates
    host_port: localhost:5432
    database: DemoDatabase

    # Credentials
    username: user
    password: pass

    # Optional: SSL configuration.
    # options:
    #   connect_args:
    #     sslcert: "<<path to sslcert>>"
    #     sslkey: "<<path to sslkey>>"
    #     sslrootcert: "<<path to verification ca chain>>"
    #     sslmode: "verify-full"

    # AWS RDS IAM Authentication (alternative to password)
    # auth_mode: "AWS_IAM"
    # aws_config:
    #   aws_region: us-west-2

    # Advanced AWS configuration with profiles, role assumption, and retry settings:
    # auth_mode: "AWS_IAM"
    # aws_config:
    #   aws_region: us-west-2
    #   aws_profile: production
    #   aws_role: "arn:aws:iam::123456789:role/DataHubRole"
    #   aws_retry_num: 10
    #   aws_retry_mode: adaptive

    # When auth_mode is "AWS_IAM", the password field is ignored
    # AWS credentials can be configured via AWS CLI, environment variables, or IAM role

    # Query-based Lineage (optional)
    # Extract lineage from executed queries using pg_stat_statements extension
    # Prerequisites:
    #   1. CREATE EXTENSION pg_stat_statements;
    #   2. GRANT pg_read_all_stats TO datahub_user;
    # include_query_lineage: true
    # max_queries_to_extract: 1000  # Default: 1000
    # min_query_calls: 10
    # query_exclude_patterns:
    #   - "%pg_catalog%"
    #   - "%temp_%"

    # Usage Statistics (optional, requires include_query_lineage: true)
    # include_usage_statistics: true
    # top_n_queries: 20

sink:
  # sink configs
