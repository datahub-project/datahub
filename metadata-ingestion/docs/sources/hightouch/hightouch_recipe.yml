source:
  type: hightouch
  config:
    # Coordinates
    api_config:
      api_key: "${HIGHTOUCH_API_KEY}"

    # Environment configuration
    env: "PROD"
    platform_instance: "hightouch-prod"

    # Lineage options
    emit_models_as_datasets: true
    include_model_lineage: true
    include_column_lineage: true
    include_table_lineage_to_sibling: false # Set to true to create sibling relationships

    # Container organization
    extract_workspaces_to_containers: true # Organize entities by workspace and folder

    # Sync run history
    include_sync_runs: true
    max_sync_runs_per_sync: 10

    # (Optional) Filter syncs and models
    # sync_patterns:
    #   allow:
    #     - "prod-.*"
    #   deny:
    #     - "test-.*"

    # (Optional) Platform instance mappings for accurate lineage
    # Find source and destination IDs in the Hightouch UI URL or via API
    # sources_to_platform_instance:
    #   "12345":  # Hightouch source ID
    #     platform: "snowflake"
    #     platform_instance: "prod-snowflake"
    #     env: "PROD"
    #     database: "analytics"
    #
    # destinations_to_platform_instance:
    #   "dest_123":  # Hightouch destination ID
    #     platform: "salesforce"
    #     platform_instance: "prod-salesforce"
    #     env: "PROD"

    # Stateful ingestion configuration
    stateful_ingestion:
      enabled: true
      remove_stale_metadata: true
# Default sink is datahub-rest and doesn't need to be configured
# See https://datahubproject.io/docs/metadata-ingestion/sink_docs/datahub for customization options

