# Recipe for testing Snowplow with REAL BDP credentials - outputs to file for debugging
# This connects to actual Snowplow BDP Console API

source:
  type: snowplow
  config:
    bdp_connection:
      # BDP credentials - use environment variables for security
      organization_id: "${SNOWPLOW_ORG_ID}"
      api_key_id: "${SNOWPLOW_API_KEY_ID}"
      api_key: "${SNOWPLOW_API_KEY}"

    # Extract schemas with ownership
    extract_tracking_scenarios: true
    extract_data_products: true
    extract_event_specifications: true

    # Extract pipelines and enrichments (for lineage)
    extract_pipelines: true
    extract_enrichments: true

sink:
  type: file
  config:
    filename: "/tmp/snowplow_output.json"
