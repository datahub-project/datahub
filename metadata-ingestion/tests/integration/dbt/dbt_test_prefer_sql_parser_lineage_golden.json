[
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Model"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "model",
                            "materialization": "ephemeral",
                            "dbt_file_path": "models/transform/customer_details.sql",
                            "language": "sql",
                            "dbt_unique_id": "model.sample_dbt.customer_details",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "customer_details",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "model.sample_dbt.customer_details",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "INT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "full_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "initial_full_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NullType": {}
                                    }
                                },
                                "nativeDataType": "",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "email",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "address",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "city",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "postal_code",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "phone",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "TEXT",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.address,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.city,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD)",
                                "type": "TRANSFORMED"
                            }
                        ],
                        "fineGrainedLineages": [
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),customer_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),customer_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),first_name)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),last_name)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),full_name)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),first_name)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),last_name)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),initial_full_name)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),email)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),email)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.address,PROD),address)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),address)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.city,PROD),city)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),city)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.address,PROD),postal_code)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),postal_code)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.address,PROD),phone)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),phone)"
                                ],
                                "confidenceScore": 0.9
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.ViewProperties": {
                        "materialized": false,
                        "viewLogic": "{{ config(\n    materialized = \"ephemeral\",\n) }}\n\nSELECT\n    c.customer_id,\n    c.first_name || ' ' || c.last_name as \"full_name\",\n    (\n        select cs.first_name || ' ' || cs.last_name\n        from {{ ref('customer_snapshot') }} cs where cs.customer_id = c.customer_id\n        order by dbt_valid_from desc\n        limit 1\n    ) as \"initial_full_name\",\n    c.email,\n    a.address,\n    m.city,\n    a.postal_code,\n    a.phone\nFROM\n    {{ source('pagila', 'customer')}} c\n    left outer join {{ source('pagila', 'address')}} a on c.address_id = a.address_id\n    left outer join {{ source('pagila', 'city') }} m on a.city_id = m.city_id",
                        "formattedViewLogic": "SELECT\n  c.customer_id,\n  c.first_name || ' ' || c.last_name AS \"full_name\",\n  (\n    SELECT\n      cs.first_name || ' ' || cs.last_name\n    FROM \"pagila\".\"public\".\"customer_snapshot\" AS cs\n    WHERE\n      cs.customer_id = c.customer_id\n    ORDER BY\n      dbt_valid_from DESC\n    LIMIT 1\n  ) AS \"initial_full_name\",\n  c.email,\n  a.address,\n  m.city,\n  a.postal_code,\n  a.phone\nFROM \"pagila\".\"public\".\"customer\" AS c\nLEFT OUTER JOIN \"pagila\".\"public\".\"address\" AS a\n  ON c.address_id = a.address_id\nLEFT OUTER JOIN \"pagila\".\"public\".\"city\" AS m\n  ON a.city_id = m.city_id",
                        "viewLanguage": "SQL"
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Model"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "model",
                            "materialization": "table",
                            "dbt_file_path": "models/billing/monthly_billing_with_cust.sql",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "model.sample_dbt.monthly_billing_with_cust",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "an-aliased-view-for-monthly-billing",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "model.sample_dbt.monthly_billing_with_cust",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "billing_month",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "email",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD)",
                                "type": "TRANSFORMED"
                            }
                        ],
                        "fineGrainedLineages": [
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),BillingMonth)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),billing_month)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),customer_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),customer_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),amount)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),amount)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),email)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),email)"
                                ],
                                "confidenceScore": 0.9
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.ViewProperties": {
                        "materialized": true,
                        "viewLogic": "{{ config(\n    materialized = \"table\",\n    alias='an-aliased-view-for-monthly-billing'\n) }}\n\nSELECT \n    pbc.\"BillingMonth\" as billing_month,\n    pbc.customer_id,\n    pbc.amount,\n    cust.email\nFROM\n    {{ ref('payments_by_customer_by_month')}} pbc\n    left outer join {{ ref('customer_details')}} cust on pbc.customer_id = cust.customer_id\nORDER BY\n    pbc.\"BillingMonth\"",
                        "formattedViewLogic": "WITH __dbt__cte__customer_details AS (\n  SELECT\n    c.customer_id,\n    c.first_name || ' ' || c.last_name AS \"full_name\",\n    (\n      SELECT\n        cs.first_name || ' ' || cs.last_name\n      FROM \"pagila\".\"public\".\"customer_snapshot\" AS cs\n      WHERE\n        cs.customer_id = c.customer_id\n      ORDER BY\n        dbt_valid_from DESC\n      LIMIT 1\n    ) AS \"initial_full_name\",\n    c.email,\n    a.address,\n    m.city,\n    a.postal_code,\n    a.phone\n  FROM \"pagila\".\"public\".\"customer\" AS c\n  LEFT OUTER JOIN \"pagila\".\"public\".\"address\" AS a\n    ON c.address_id = a.address_id\n  LEFT OUTER JOIN \"pagila\".\"public\".\"city\" AS m\n    ON a.city_id = m.city_id\n)\nSELECT\n  pbc.\"BillingMonth\" AS billing_month,\n  pbc.customer_id,\n  pbc.amount,\n  cust.email\nFROM \"pagila\".\"public\".\"payments_by_customer_by_month\" AS pbc\nLEFT OUTER JOIN __dbt__cte__customer_details AS cust\n  ON pbc.customer_id = cust.customer_id\nORDER BY\n  pbc.\"BillingMonth\"",
                        "viewLanguage": "SQL"
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceProperties",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_name": "model.sample_dbt.monthly_billing_with_cust",
                "dbt_urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)"
            },
            "name": "just-some-random-id_urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "type": "BATCH_SCHEDULED",
            "created": {
                "time": 1663355198239,
                "actor": "urn:li:corpuser:datahub"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRelationships",
    "aspect": {
        "json": {
            "parentTemplate": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "upstreamInstances": []
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceInput",
    "aspect": {
        "json": {
            "inputs": [
                "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceOutput",
    "aspect": {
        "json": {
            "outputs": [
                "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "STARTED"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198241,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResultType": "success"
            },
            "durationMillis": 2
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Model"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "model",
                            "materialization": "view",
                            "dbt_file_path": "models/base/payments_base.sql",
                            "catalog_type": "VIEW",
                            "language": "sql",
                            "dbt_unique_id": "model.sample_dbt.payments_base",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "an_aliased_view_for_payments",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "model.sample_dbt.payments_base",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD)",
                                "type": "TRANSFORMED"
                            },
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD)",
                                "type": "TRANSFORMED"
                            }
                        ],
                        "fineGrainedLineages": [
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),amount)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),amount)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),amount)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),amount)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),amount)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),amount)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),amount)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),customer_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),customer_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),customer_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),customer_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),customer_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),customer_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),customer_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),payment_date)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),payment_date)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),payment_date)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),payment_date)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),payment_date)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),payment_date)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),payment_date)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),payment_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),payment_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),payment_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),payment_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),payment_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),payment_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),payment_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),rental_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),rental_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),rental_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),rental_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),rental_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),rental_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),rental_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD),staff_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD),staff_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD),staff_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD),staff_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD),staff_id)",
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD),staff_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),staff_id)"
                                ],
                                "confidenceScore": 0.9
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.ViewProperties": {
                        "materialized": false,
                        "viewLogic": "{{ config(\n    materialized=\"view\",\n    alias='an_aliased_view_for_payments'\n) }}\n\nwith payments as (\n\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_01')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_02')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_02')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_03')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_04')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_05')}}\n    UNION ALL\n    select \n        *\n    from \n        {{ source('pagila', 'payment_p2020_06')}}\n)\n\nselect *\nfrom payments",
                        "formattedViewLogic": "WITH payments AS (\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_01\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_02\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_02\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_03\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_04\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_05\"\n  UNION ALL\n  SELECT\n    *\n  FROM \"pagila\".\"public\".\"payment_p2020_06\"\n)\nSELECT\n  *\nFROM payments",
                        "viewLanguage": "SQL"
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceProperties",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_name": "model.sample_dbt.payments_base",
                "dbt_urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)"
            },
            "name": "just-some-random-id_urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
            "type": "BATCH_SCHEDULED",
            "created": {
                "time": 1663355198239,
                "actor": "urn:li:corpuser:datahub"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRelationships",
    "aspect": {
        "json": {
            "parentTemplate": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
            "upstreamInstances": []
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceInput",
    "aspect": {
        "json": {
            "inputs": [
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD)",
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceOutput",
    "aspect": {
        "json": {
            "outputs": [
                "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "STARTED"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198241,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResultType": "success"
            },
            "durationMillis": 2
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Model"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "model",
                            "materialization": "table",
                            "dbt_file_path": "models/transform/payments_by_customer_by_month.sql",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "model.sample_dbt.payments_by_customer_by_month",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payments_by_customer_by_month",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "model.sample_dbt.payments_by_customer_by_month",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "BillingMonth",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "description": "description for customer_id from dbt",
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "globalTags": {
                                    "tags": [
                                        {
                                            "tag": "urn:li:tag:dbt:tag_from_dbt"
                                        }
                                    ]
                                },
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD)",
                                "type": "TRANSFORMED"
                            }
                        ],
                        "fineGrainedLineages": [
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),payment_date)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),BillingMonth)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),customer_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),customer_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),amount)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),amount)"
                                ],
                                "confidenceScore": 0.9
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.ViewProperties": {
                        "materialized": true,
                        "viewLogic": "{{ config(\n    materialized = \"table\",\n) }}\n\nSELECT\n    date_trunc('month', payment_date) as \"BillingMonth\",\n    customer_id,\n    sum(amount) as \"amount\"\nFROM\n    {{ ref('payments_base')}}\nGROUP BY\n    \"BillingMonth\",\n    customer_id",
                        "formattedViewLogic": "SELECT\n  DATE_TRUNC('MONTH', payment_date) AS \"BillingMonth\",\n  customer_id,\n  SUM(amount) AS \"amount\"\nFROM \"pagila\".\"public\".\"an_aliased_view_for_payments\"\nGROUP BY\n  \"BillingMonth\",\n  customer_id",
                        "viewLanguage": "SQL"
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceProperties",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_name": "model.sample_dbt.payments_by_customer_by_month",
                "dbt_urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)"
            },
            "name": "just-some-random-id_urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
            "type": "BATCH_SCHEDULED",
            "created": {
                "time": 1663355198239,
                "actor": "urn:li:corpuser:datahub"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRelationships",
    "aspect": {
        "json": {
            "parentTemplate": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
            "upstreamInstances": []
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceInput",
    "aspect": {
        "json": {
            "inputs": [
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceOutput",
    "aspect": {
        "json": {
            "outputs": [
                "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "STARTED"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198241,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResultType": "success"
            },
            "durationMillis": 2
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Snapshot"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "snapshot",
                            "materialization": "snapshot",
                            "dbt_file_path": "snapshots/customer_snapshot.sql",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "snapshot.sample_dbt.customer_snapshot",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "customer_snapshot",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "snapshot.sample_dbt.customer_snapshot",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "active",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "activebool",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.BooleanType": {}
                                    }
                                },
                                "nativeDataType": "boolean",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "address_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "create_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.DateType": {}
                                    }
                                },
                                "nativeDataType": "date",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "dbt_scd_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "dbt_updated_at",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "dbt_valid_from",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "dbt_valid_to",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "email",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "first_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "store_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD)",
                                "type": "TRANSFORMED"
                            }
                        ],
                        "fineGrainedLineages": [
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),active)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),active)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),activebool)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),activebool)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),address_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),address_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),create_date)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),create_date)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),customer_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),customer_id)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),email)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),email)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),first_name)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),first_name)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),last_name)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),last_name)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),last_update)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),last_update)"
                                ],
                                "confidenceScore": 0.9
                            },
                            {
                                "upstreamType": "FIELD_SET",
                                "upstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD),store_id)"
                                ],
                                "downstreamType": "FIELD",
                                "downstreams": [
                                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),store_id)"
                                ],
                                "confidenceScore": 0.9
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.ViewProperties": {
                        "materialized": true,
                        "viewLogic": "\n\n{{\n    config(\n      target_database='pagila',\n      target_schema='public',\n      unique_key='customer_id',\n\n      strategy='timestamp',\n      updated_at='last_update',\n    )\n}}\n\nselect * from {{ source('pagila', 'customer') }}\n\n",
                        "formattedViewLogic": "SELECT\n  *\nFROM \"pagila\".\"public\".\"customer\"",
                        "viewLanguage": "SQL"
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceProperties",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_name": "snapshot.sample_dbt.customer_snapshot",
                "dbt_urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)"
            },
            "name": "just-some-random-id_urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
            "type": "BATCH_SCHEDULED",
            "created": {
                "time": 1663355198239,
                "actor": "urn:li:corpuser:datahub"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRelationships",
    "aspect": {
        "json": {
            "parentTemplate": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
            "upstreamInstances": []
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceInput",
    "aspect": {
        "json": {
            "inputs": [
                "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceOutput",
    "aspect": {
        "json": {
            "outputs": [
                "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "STARTED"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "dataProcessInstanceRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198241,
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            },
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResultType": "success"
            },
            "durationMillis": 2
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "model_maturity": "in dev",
                            "owner": "@alice",
                            "some_other_property": "test 1",
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.actor",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "actor",
                        "description": "description for actor table from dbt",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Ownership": {
                        "owners": [
                            {
                                "owner": "urn:li:corpuser:@alice",
                                "type": "DATAOWNER"
                            }
                        ],
                        "ownerTypes": {},
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        }
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.actor",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581759273000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "actor_id",
                                "nullable": false,
                                "description": "description for actor_id column from dbt",
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "first_name",
                                "nullable": false,
                                "description": "dbt comment: Actors column \u2013 from postgres\n\ndbt model description: description for first_name from dbt",
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_name",
                                "nullable": false,
                                "description": "description for last_name from dbt",
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "description": "description for last_update from dbt",
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.actor,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.address,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.address,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.address,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.address",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "address",
                        "description": "a user's address",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.address",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581759930000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "address",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "address2",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "address_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "city_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "district",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "phone",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "postal_code",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.address,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.category,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.category,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.category,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.category",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "category",
                        "description": "a user's category",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.category",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581759987000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "category_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.category,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.city,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.city,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.city,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.city",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "city",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.city",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581759925000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "city",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "city_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "country_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.city,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.country,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.country,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.country,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "model_maturity": "in prod",
                            "owner": "@bob",
                            "some_other_property": "test 2",
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.country",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "country",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Ownership": {
                        "owners": [
                            {
                                "owner": "urn:li:corpuser:@bob",
                                "type": "DATAOWNER"
                            }
                        ],
                        "ownerTypes": {},
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        }
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.country",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581759840000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "country",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "country_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.country,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.customer",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "customer",
                        "description": "description for customer table from dbt",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.customer",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1581760640000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "active",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "activebool",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.BooleanType": {}
                                    }
                                },
                                "nativeDataType": "boolean",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "address_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "create_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.DateType": {}
                                    }
                                },
                                "nativeDataType": "date",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "email",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "first_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_name",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.StringType": {}
                                    }
                                },
                                "nativeDataType": "text",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "last_update",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "store_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_01,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_01,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_01,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_01",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_01",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_01",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1580505371996,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_01,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_02,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_02,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_02,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "an_array_property": "['alpha', 'beta', 'charlie']",
                            "model_maturity": "in prod",
                            "owner": "@charles",
                            "some_other_property": "test 3",
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_02",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_02",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Ownership": {
                        "owners": [
                            {
                                "owner": "urn:li:corpuser:@charles",
                                "type": "DATAOWNER"
                            }
                        ],
                        "ownerTypes": {},
                        "lastModified": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        }
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_02",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1582319845996,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_02,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_03,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_03,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_03,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_03",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_03",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_03",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1584998318996,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_03,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_04,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_04,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_04,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_04",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_04",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_04",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1588287228996,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_04,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_05,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_05,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_05,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_05",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_05",
                        "description": "a payment",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_05",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": 1589460269996,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_05,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_06,PROD)",
    "changeType": "UPSERT",
    "aspectName": "subTypes",
    "aspect": {
        "json": {
            "typeNames": [
                "Source"
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_06,PROD)",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "proposedSnapshot": {
        "com.linkedin.pegasus2avro.metadata.snapshot.DatasetSnapshot": {
            "urn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payment_p2020_06,PROD)",
            "aspects": [
                {
                    "com.linkedin.pegasus2avro.dataset.DatasetProperties": {
                        "customProperties": {
                            "node_type": "source",
                            "dbt_file_path": "models/base.yml",
                            "catalog_type": "BASE TABLE",
                            "language": "sql",
                            "dbt_unique_id": "source.sample_dbt.pagila.payment_p2020_06",
                            "dbt_package_name": "sample_dbt",
                            "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                            "manifest_version": "1.7.3",
                            "manifest_adapter": "postgres",
                            "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                            "catalog_version": "1.7.3"
                        },
                        "name": "payment_p2020_06",
                        "description": "",
                        "tags": []
                    }
                },
                {
                    "com.linkedin.pegasus2avro.common.Status": {
                        "removed": false
                    }
                },
                {
                    "com.linkedin.pegasus2avro.schema.SchemaMetadata": {
                        "schemaName": "source.sample_dbt.pagila.payment_p2020_06",
                        "platform": "urn:li:dataPlatform:dbt",
                        "version": 0,
                        "created": {
                            "time": 0,
                            "actor": "urn:li:corpuser:unknown"
                        },
                        "lastModified": {
                            "time": -62135596800000,
                            "actor": "urn:li:corpuser:dbt_executor"
                        },
                        "hash": "",
                        "platformSchema": {
                            "com.linkedin.pegasus2avro.schema.MySqlDDL": {
                                "tableSchema": ""
                            }
                        },
                        "fields": [
                            {
                                "fieldPath": "amount",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "numeric(5,2)",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "customer_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_date",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.TimeType": {}
                                    }
                                },
                                "nativeDataType": "timestamp with time zone",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "payment_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "rental_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            },
                            {
                                "fieldPath": "staff_id",
                                "nullable": false,
                                "type": {
                                    "type": {
                                        "com.linkedin.pegasus2avro.schema.NumberType": {}
                                    }
                                },
                                "nativeDataType": "integer",
                                "recursive": false,
                                "isPartOfKey": false
                            }
                        ]
                    }
                },
                {
                    "com.linkedin.pegasus2avro.dataset.UpstreamLineage": {
                        "upstreams": [
                            {
                                "auditStamp": {
                                    "time": 1643871600000,
                                    "actor": "urn:li:corpuser:unknown"
                                },
                                "dataset": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payment_p2020_06,PROD)",
                                "type": "COPY"
                            }
                        ]
                    }
                }
            ]
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
    "changeType": "PATCH",
    "aspectName": "upstreamLineage",
    "aspect": {
        "json": [
            {
                "op": "add",
                "path": "/upstreams/urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                "value": {
                    "auditStamp": {
                        "time": 1643871600000,
                        "actor": "urn:li:corpuser:unknown"
                    },
                    "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                    "type": "COPY"
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an-aliased-view-for-monthly-billing,PROD),amount)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),amount)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an-aliased-view-for-monthly-billing,PROD),billing_month)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),billing_month)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an-aliased-view-for-monthly-billing,PROD),customer_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),customer_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an-aliased-view-for-monthly-billing,PROD),email)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),email)",
                "value": {
                    "confidenceScore": 1.0
                }
            }
        ]
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD)",
    "changeType": "PATCH",
    "aspectName": "upstreamLineage",
    "aspect": {
        "json": [
            {
                "op": "add",
                "path": "/upstreams/urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
                "value": {
                    "auditStamp": {
                        "time": 1643871600000,
                        "actor": "urn:li:corpuser:unknown"
                    },
                    "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD)",
                    "type": "COPY"
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),amount)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),amount)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),customer_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),customer_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),payment_date)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),payment_date)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),payment_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),payment_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),rental_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),rental_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.an_aliased_view_for_payments,PROD),staff_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an_aliased_view_for_payments,PROD),staff_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            }
        ]
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD)",
    "changeType": "PATCH",
    "aspectName": "upstreamLineage",
    "aspect": {
        "json": [
            {
                "op": "add",
                "path": "/upstreams/urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
                "value": {
                    "auditStamp": {
                        "time": 1643871600000,
                        "actor": "urn:li:corpuser:unknown"
                    },
                    "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD)",
                    "type": "COPY"
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),BillingMonth)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),BillingMonth)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),amount)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),amount)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.payments_by_customer_by_month,PROD),customer_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.payments_by_customer_by_month,PROD),customer_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            }
        ]
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataset",
    "entityUrn": "urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD)",
    "changeType": "PATCH",
    "aspectName": "upstreamLineage",
    "aspect": {
        "json": [
            {
                "op": "add",
                "path": "/upstreams/urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
                "value": {
                    "auditStamp": {
                        "time": 1643871600000,
                        "actor": "urn:li:corpuser:unknown"
                    },
                    "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD)",
                    "type": "COPY"
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),active)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),active)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),activebool)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),activebool)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),address_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),address_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),create_date)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),create_date)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),customer_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),customer_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),dbt_scd_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),dbt_scd_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),dbt_updated_at)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),dbt_updated_at)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),dbt_valid_from)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),dbt_valid_from)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),dbt_valid_to)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),dbt_valid_to)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),email)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),email)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),first_name)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),first_name)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),last_name)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),last_name)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),last_update)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),last_update)",
                "value": {
                    "confidenceScore": 1.0
                }
            },
            {
                "op": "add",
                "path": "/fineGrainedLineages/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:postgres,pagila.public.customer_snapshot,PROD),store_id)/NONE/urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_snapshot,PROD),store_id)",
                "value": {
                    "confidenceScore": 1.0
                }
            }
        ]
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:ba2c6ba830d407d539452f4cf46c92a6",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:ba2c6ba830d407d539452f4cf46c92a6",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.assert_source_actor_last_update_is_recent",
                "dbt_test_upstream_unique_id": "source.sample_dbt.pagila.actor",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
                "scope": "DATASET_ROWS",
                "aggregation": "_NATIVE_",
                "operator": "_NATIVE_",
                "nativeType": "assert_source_actor_last_update_is_recent",
                "nativeParameters": {},
                "logic": "select\n    *\nfrom \"pagila\".\"public\".\"actor\"\nwhere last_update < (now() - interval '100 years')"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:ba2c6ba830d407d539452f4cf46c92a6",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:ba2c6ba830d407d539452f4cf46c92a6",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:10f2a119dedcaab43afc47ff13d9cb5b",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:10f2a119dedcaab43afc47ff13d9cb5b",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.is_email_monthly_billing_with_cust_email.57a935ce99",
                "dbt_test_upstream_unique_id": "model.sample_dbt.monthly_billing_with_cust",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),email)"
                ],
                "aggregation": "_NATIVE_",
                "operator": "_NATIVE_",
                "nativeType": "is_email_monthly_billing_with_cust_email",
                "nativeParameters": {
                    "column_name": "email",
                    "model": "{{ get_where_subquery(ref('monthly_billing_with_cust')) }}"
                },
                "logic": "\n\n    select *\n    from \"pagila\".\"public\".\"an-aliased-view-for-monthly-billing\"\n    where email not like '%@%'\n\n"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:10f2a119dedcaab43afc47ff13d9cb5b",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:10f2a119dedcaab43afc47ff13d9cb5b",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:c456eccf6440c6e3388c584689a74d91",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:c456eccf6440c6e3388c584689a74d91",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.not_null_monthly_billing_with_cust_billing_month.19ce54289b",
                "dbt_test_upstream_unique_id": "model.sample_dbt.monthly_billing_with_cust",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),billing_month)"
                ],
                "aggregation": "IDENTITY",
                "operator": "NOT_NULL",
                "nativeType": "not_null_monthly_billing_with_cust_billing_month",
                "nativeParameters": {
                    "column_name": "billing_month",
                    "model": "{{ get_where_subquery(ref('monthly_billing_with_cust')) }}"
                }
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:c456eccf6440c6e3388c584689a74d91",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:c456eccf6440c6e3388c584689a74d91",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f812b73477d81e6af283d918cb59e7bf",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f812b73477d81e6af283d918cb59e7bf",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.not_null_monthly_billing_with_cust_email.d405c2cc13",
                "dbt_test_upstream_unique_id": "model.sample_dbt.monthly_billing_with_cust",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),email)"
                ],
                "aggregation": "IDENTITY",
                "operator": "NOT_NULL",
                "nativeType": "not_null_monthly_billing_with_cust_email",
                "nativeParameters": {
                    "column_name": "email",
                    "model": "{{ get_where_subquery(ref('monthly_billing_with_cust')) }}"
                }
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f812b73477d81e6af283d918cb59e7bf",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:f812b73477d81e6af283d918cb59e7bf",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:1f37cbfd95ea2a1d46b8e94828805eb1",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:1f37cbfd95ea2a1d46b8e94828805eb1",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.relationships_monthly_billing_with_cust_customer_id__customer_id__ref_customer_details_.653e08a90b",
                "dbt_test_upstream_unique_id": "model.sample_dbt.customer_details",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD),customer_id)"
                ],
                "aggregation": "IDENTITY",
                "operator": "_NATIVE_",
                "parameters": {
                    "value": {
                        "value": "null",
                        "type": "SET"
                    }
                },
                "nativeType": "relationships_monthly_billing_with_cust_customer_id__customer_id__ref_customer_details_",
                "nativeParameters": {
                    "column_name": "customer_id",
                    "field": "customer_id",
                    "model": "{{ get_where_subquery(ref('monthly_billing_with_cust')) }}",
                    "to": "ref('customer_details')"
                },
                "logic": "monthly_billing_with_cust.customer_id referential integrity to customer_details.customer_id"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:1f37cbfd95ea2a1d46b8e94828805eb1",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.customer_details,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:1f37cbfd95ea2a1d46b8e94828805eb1",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f3a0dbf71b6cbf7112ff44925f475ff5",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f3a0dbf71b6cbf7112ff44925f475ff5",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.relationships_monthly_billing_with_cust_customer_id__customer_id__ref_customer_details_.653e08a90b",
                "dbt_test_upstream_unique_id": "model.sample_dbt.monthly_billing_with_cust",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD),customer_id)"
                ],
                "aggregation": "IDENTITY",
                "operator": "_NATIVE_",
                "parameters": {
                    "value": {
                        "value": "null",
                        "type": "SET"
                    }
                },
                "nativeType": "relationships_monthly_billing_with_cust_customer_id__customer_id__ref_customer_details_",
                "nativeParameters": {
                    "column_name": "customer_id",
                    "field": "customer_id",
                    "model": "{{ get_where_subquery(ref('monthly_billing_with_cust')) }}",
                    "to": "ref('customer_details')"
                },
                "logic": "monthly_billing_with_cust.customer_id referential integrity to customer_details.customer_id"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f3a0dbf71b6cbf7112ff44925f475ff5",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.an-aliased-view-for-monthly-billing,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:f3a0dbf71b6cbf7112ff44925f475ff5",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f6a1fde3ab4919abcc04bdee93144958",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f6a1fde3ab4919abcc04bdee93144958",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.source_not_null_pagila_actor_actor_id.ad63829d3e",
                "dbt_test_upstream_unique_id": "source.sample_dbt.pagila.actor",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD),actor_id)"
                ],
                "aggregation": "IDENTITY",
                "operator": "NOT_NULL",
                "nativeType": "source_not_null_pagila_actor_actor_id",
                "nativeParameters": {
                    "column_name": "actor_id",
                    "model": "{{ get_where_subquery(source('pagila', 'actor')) }}"
                }
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f6a1fde3ab4919abcc04bdee93144958",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:f6a1fde3ab4919abcc04bdee93144958",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:60ce4aad7ff6dbff7004da0f2258c9df",
    "changeType": "UPSERT",
    "aspectName": "dataPlatformInstance",
    "aspect": {
        "json": {
            "platform": "urn:li:dataPlatform:dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:60ce4aad7ff6dbff7004da0f2258c9df",
    "changeType": "UPSERT",
    "aspectName": "assertionInfo",
    "aspect": {
        "json": {
            "customProperties": {
                "dbt_unique_id": "test.sample_dbt.source_unique_pagila_actor_actor_id.76aff1935a",
                "dbt_test_upstream_unique_id": "source.sample_dbt.pagila.actor",
                "manifest_schema": "https://schemas.getdbt.com/dbt/manifest/v11.json",
                "manifest_version": "1.7.3",
                "manifest_adapter": "postgres",
                "catalog_schema": "https://schemas.getdbt.com/dbt/catalog/v1.json",
                "catalog_version": "1.7.3"
            },
            "type": "DATASET",
            "datasetAssertion": {
                "dataset": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
                "scope": "DATASET_COLUMN",
                "fields": [
                    "urn:li:schemaField:(urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD),actor_id)"
                ],
                "aggregation": "UNIQUE_PROPOTION",
                "operator": "EQUAL_TO",
                "parameters": {
                    "value": {
                        "value": "1.0",
                        "type": "NUMBER"
                    }
                },
                "nativeType": "source_unique_pagila_actor_actor_id",
                "nativeParameters": {
                    "column_name": "actor_id",
                    "model": "{{ get_where_subquery(source('pagila', 'actor')) }}"
                }
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:60ce4aad7ff6dbff7004da0f2258c9df",
    "changeType": "UPSERT",
    "aspectName": "assertionRunEvent",
    "aspect": {
        "json": {
            "timestampMillis": 1663355198239,
            "runId": "just-some-random-id",
            "asserteeUrn": "urn:li:dataset:(urn:li:dataPlatform:dbt,pagila.public.actor,PROD)",
            "status": "COMPLETE",
            "result": {
                "type": "SUCCESS",
                "nativeResults": {}
            },
            "assertionUrn": "urn:li:assertion:60ce4aad7ff6dbff7004da0f2258c9df",
            "partitionSpec": {
                "partition": "FULL_TABLE_SNAPSHOT",
                "type": "FULL_TABLE"
            }
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:10f2a119dedcaab43afc47ff13d9cb5b",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:1f37cbfd95ea2a1d46b8e94828805eb1",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:60ce4aad7ff6dbff7004da0f2258c9df",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:ba2c6ba830d407d539452f4cf46c92a6",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:c456eccf6440c6e3388c584689a74d91",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f3a0dbf71b6cbf7112ff44925f475ff5",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f6a1fde3ab4919abcc04bdee93144958",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "assertion",
    "entityUrn": "urn:li:assertion:f812b73477d81e6af283d918cb59e7bf",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:36225e795a4597b2376996774a803b0d",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:57aa623f096cf3a28af70fe94b713907",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:a42a5b1bee156e45972e12d4156fb7a2",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "dataProcessInstance",
    "entityUrn": "urn:li:dataProcessInstance:fc6268f0be68fd04c310705b65efd6fe",
    "changeType": "UPSERT",
    "aspectName": "status",
    "aspect": {
        "json": {
            "removed": false
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
},
{
    "entityType": "tag",
    "entityUrn": "urn:li:tag:dbt:tag_from_dbt",
    "changeType": "UPSERT",
    "aspectName": "tagKey",
    "aspect": {
        "json": {
            "name": "dbt:tag_from_dbt"
        }
    },
    "systemMetadata": {
        "lastObserved": 1643871600000,
        "runId": "dbt-prefer-sql-parser-lineage",
        "lastRunId": "no-run-id-provided"
    }
}
]